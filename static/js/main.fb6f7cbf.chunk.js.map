{"version":3,"sources":["Modals/PictureModal.jsx","SearchImage.jsx","Modals/ConfirmModal.jsx","Modals/EditNodeModal.jsx","Node/SearchPage.jsx","Modals/CreateNodeModal.jsx","Modals/SuggestChoiceModal.jsx","Modals/EditChoiceModal.jsx","Node/ChoiceColumns.jsx","Node/Node.jsx","Modals/EditAccountModal.jsx","Modals/UnsafeModal.jsx","NodeViewer.jsx","Account.jsx","Home.jsx","Modals/LoginModal.jsx","Modals/SignUpModal.jsx","AccountManager.jsx","App.jsx","index.jsx","apolloURL.js"],"names":["PictureModal","props","title","pictureURL","close","loggedInAs","useState","show","setShow","info","setInfo","Modal","onHide","Header","unsafeMode","style","backgroundColor","palette","closeButton","Title","Body","src","onError","e","target","display","color","width","maxHeight","Footer","Button","size","onClick","border","onMouseEnter","onMouseLeave","Math","random","BING_API_KEY","require","SearchImage","callback","isLoading","setIsLoading","options","setOptions","page","setPage","lastQuery","setLastQuery","handleSearch","query","fetch","encodeURIComponent","headers","then","data","json","newOptions","value","reduce","p","hit","i","length","id","urls","thumbnailUrl","longUrls","contentUrl","isFamilyFriendly","slice","catch","console","log","filterBy","labelKey","minLength","onSearch","maxResults","onPaginate","useCache","placeholder","renderMenuItemChildren","option","marginRight","borderRadius","height","filter","ConfirmModal","content","onConfirm","variant","EditNodeModal","node","undefined","showingModal","showModal","setTitle","setContent","picture","setPicture","showChangePic","setShowChangePic","hidden","setHidden","pictureUnsafe","shouldHide","setShouldHide","deletePage","mutation_call","nodeID","ID","history","back","setTimeout","window","location","reload","Form","padding","class","position","top","right","cursor","textShadow","url","familyFriendly","Label","Control","onChange","as","rows","isAdmin","Check","type","checked","label","esTitle","escape","esContent","esPicture","res","editNode","SearchPage","toID","allNodes","setAllNodes","toNode","setToNode","useEffect","query_call","owner","screenName","profilePicURL","text","toLowerCase","includes","defaultSelected","process","CreateNodeModal","featured","pictureField","setPictureField","alt","accountScreenName","createNode","SuggestChoiceModal","fromNode","toPage","setToPage","suggestAction","setSuggestAction","createNewAction","escaped","fromID","action","EditChoiceModal","choice","to","editChoice","choiceID","ChoiceColumns","canon","canonChoices","nonCanonChoices","map","choices","setChoices","refs","some","forEach","likedBy","dislikedBy","score","suggestedBy","from","liked","account","disliked","CardColumns","idx","push","createRef","Card","className","boxShadow","overflow","ref","paddingTop","disabled","href","scrollTo","left","behavior","pointerEvents","current","OverlayTrigger","overlay","Tooltip","DropdownButton","drop","Dropdown","Item","makeCanon","Divider","reportingObjectType","reportingObjectID","reporting","alert","dislike","like","Object","keys","Alert","Cookies","get","Heading","Node","match","setNode","pageID","params","fgColor","bgColor","views","returnNode","Container","dismissible","onClose","onLoad","marginLeft","split","line","textIndent","paddingRight","paddingBottom","EditAccountModal","bio","profilePicture","setAccount","setRedirect","bioField","setBioField","profilePictureField","setProfilePictureField","nameField","setNameField","pass1","setPass1","pass2","setPass2","setAdmin","editPage","checkedIfExists","esBio","esScreenName","newScreenName","newPassword","totalNodeViews","totalSuggestionScore","featuredNodes","nodes","set","path","opacity","understand","setUnderstand","float","NodeViewer","marginTop","marginBottom","Img","parentNode","alreadyFeatured","featurePage","hidePage","Account","setLoggedInAs","redirect","searchQuery","setSearchQuery","searchedNodes","setSearchedNodes","onstyle","UnsafeModal","borderColor","Home","topNodes","setTopNodes","LoginModal","setScreenName","password","setPassword","esPass","login","SignUpModal","createAccount","Group","handleSubmitSignUp","AccountManager","Navbar","Text","packageJson","App","cookies","savedAccount","document","getElementById","backgroundImage","expand","Brand","version","Toggle","aria-controls","Collapse","render","exact","app_fetch","createApolloFetch","uri","backendURL","parameters","attributes","formatParameters","formatAttributes","err","param","join","attribute","newlines","replace","ReactDOM","module","exports"],"mappings":"8uEAuEeA,EAlEM,SAACC,GAAW,IACvBC,EAAyCD,EAAzCC,MAAOC,EAAkCF,EAAlCE,WAAYC,EAAsBH,EAAtBG,MAAOC,EAAeJ,EAAfI,WADJ,EAENC,oBAAS,GAFH,mBAEvBC,EAFuB,KAEjBC,EAFiB,OAGNF,mBAAS,IAHH,mBAGvBG,EAHuB,KAGjBC,EAHiB,KAK9B,OACE,kBAACC,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,KAAcjB,IAEhB,kBAACS,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,yBACEI,IAAKlB,EACLmB,QAAS,SAACC,GACRA,EAAEC,OAAOT,MAAMU,QAAU,OACzBf,EAAQ,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,wBAEVX,MAAO,CACLY,MAAO,OACPC,UAAW,OACX,aAAc,aAGjBnB,GAAc,IAEjB,kBAACE,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACEC,KAAK,KACLC,QAAS,WACPxB,GAAQ,GACRJ,KAEFW,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAXjE,8BAa8BmB,KAAKC,SAAW,GAAM,OAAS,OAAQ,IAbrE,e,yBC5CAC,EAAiBC,EAAQ,IAAzBD,aAiIOE,EA/HK,SAACvC,GAAW,IACtBwC,EAAyBxC,EAAzBwC,SAAUpC,EAAeJ,EAAfI,WADW,EAEKC,oBAAS,GAFd,mBAEtBoC,EAFsB,KAEXC,EAFW,OAGCrC,mBAAS,IAHV,mBAGtBsC,EAHsB,KAGbC,EAHa,OAILvC,mBAAS,GAJJ,mBAItBwC,EAJsB,KAIhBC,EAJgB,OAKKzC,mBAAS,IALd,mBAKtB0C,EALsB,KAKXC,EALW,KASvBC,EAAe,SAACC,GACpBR,GAAa,GAEbS,MACE,iEACEC,mBAAmBF,GADrB,+BAGI9C,GAAcA,EAAWS,WAAa,MAAQ,SAHlD,aAKGqC,IAAUH,EAAY,EAAW,GAAPF,GAC7B,CACEQ,QAAS,CACP,4BAA6BhB,KAIhCiB,MAAK,SAACC,GAAD,OAAUA,EAAKC,UACpBF,MAAK,SAACC,GACL,IAAME,EAAaF,EAAKG,MAAMC,QAC5B,SAACC,EAAGC,EAAKC,GAAT,OACGA,EAAInB,EAAQoB,QAAU,GAAK,EAA5B,sBAESH,GAFT,CAGM,CACEI,GAAI,mBACJC,KAAM,CAACJ,EAAIK,cACXC,SAAU,CAACN,EAAIO,YACfC,iBAAkB,CAACR,EAAIQ,qBAP/B,sBAWST,EAAEU,MAAM,EAAGV,EAAEG,OAAS,IAX/B,CAYM,CACEC,GAAI,mBACJC,KAAM,CAACL,EAAEA,EAAEG,OAAS,GAAGE,KAAK,GAAIJ,EAAIK,cACpCC,SAAU,CAACP,EAAEA,EAAEG,OAAS,GAAGI,SAAS,GAAIN,EAAIO,YAC5CC,iBAAkB,CAChBT,EAAEA,EAAEG,OAAS,GAAGM,iBAAiB,GACjCR,EAAIQ,uBAIhBnB,IAAUH,EAAY,GAAKJ,GAE7BC,EAAWa,GAGTX,EADEI,IAAUH,EACJ,EAEAF,EAAO,GAEjBG,EAAaE,GACbR,GAAa,MAEd6B,MAAMC,QAAQC,MAGnB,OACE,kBAAC,IAAD,CACET,GAAG,gBACHvB,UAAWA,EACXiC,SAAU,kBAAM,GAChBC,SAAS,KACTC,UAAW,EACXC,SAAU5B,EACV6B,WAAY,EACZC,WAAY,kBAAM9B,EAAaF,IAC/BiC,UAAU,EACVrC,QAASA,EACTsC,YAAY,yBACZC,uBAAwB,SAACC,GAAD,OACtB,6BACE,yBACEpD,QAAS,kBACPS,EAAS2C,EAAOhB,SAAS,GAAIgB,EAAOd,iBAAiB,KAEvDjD,IAAK+D,EAAOlB,KAAK,GACjBnD,MAAK,aACHsE,YAAa,OACbC,aAAc,MACd3D,MAAO,MACP4D,OAAQ,QACJH,EAAOd,iBAAiB,GACxB,GACA,CACE,iBAAkB,aAClBkB,OAAQ,iBAIM,IAAvBJ,EAAOlB,KAAKF,OACX,yBACEhC,QAAS,kBACPS,EAAS2C,EAAOhB,SAAS,GAAIgB,EAAOd,iBAAiB,KAEvDjD,IAAK+D,EAAOlB,KAAK,GACjBnD,MAAK,aACHsE,YAAa,OACbC,aAAc,MACd3D,MAAO,MACP4D,OAAQ,QACJH,EAAOd,iBAAiB,GACxB,GACA,CACE,iBAAkB,aAClBkB,OAAQ,iBAKlB,QChEGC,EAzDM,SAACxF,GAAW,IACvBC,EAAiDD,EAAjDC,MAAOwF,EAA0CzF,EAA1CyF,QAASC,EAAiC1F,EAAjC0F,UAAWvF,EAAsBH,EAAtBG,MAAOC,EAAeJ,EAAfI,WADZ,EAENC,oBAAS,GAFH,mBAEvBC,EAFuB,KAEjBC,EAFiB,KAG9B,OACE,kBAACG,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,KAAcjB,IAEhB,kBAACS,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEHyE,GAEH,kBAAC/E,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACE8D,QAAQ,SACR5D,QAAS,WACPxB,GAAQ,GACRJ,MAJJ,OASA,kBAAC0B,EAAA,EAAD,CACE8D,QAAQ,UACR5D,QAAS2D,EACT5E,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KARjE,WCsNO4E,EA3PO,SAAC5F,GAAW,IACxB6F,EAA4B7F,EAA5B6F,KAAM1F,EAAsBH,EAAtBG,MAAOC,EAAeJ,EAAfI,WADU,EAGPC,oBAAS,GAHF,mBAGxBC,EAHwB,KAGlBC,EAHkB,OAIPF,mBAAS,IAJF,mBAIxBG,EAJwB,KAIlBC,EAJkB,OAKGJ,wBAASyF,GALZ,mBAKxBC,EALwB,KAKVC,EALU,OAOL3F,mBAASwF,EAAK5F,OAPT,mBAOxBA,EAPwB,KAOjBgG,EAPiB,OAQD5F,mBAASwF,EAAKJ,SARb,mBAQxBA,EARwB,KAQfS,EARe,OASD7F,mBAASwF,EAAK3F,YATb,mBASxBiG,EATwB,KASfC,EATe,OAUW/F,oBAAS,GAVpB,mBAUxBgG,EAVwB,KAUTC,EAVS,OAWHjG,mBAASwF,EAAKU,QAXX,mBAWxBA,EAXwB,KAWhBC,EAXgB,OAaKnG,mBAASwF,EAAKY,gBAAiB,GAbpC,mBAaxBC,EAbwB,KAaZC,EAbY,KAezBC,EAAa,WACjBC,EAAc,aAAc,CAAEC,OAAQjB,EAAKkB,IAAM,GAAG,WAClDC,QAAQC,OACRC,YAAW,kBAAMC,OAAOC,SAASC,QAAO,KAAQ,SAgCpD,OACE,kBAAC3G,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,sBAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEHmF,EACC,oCACE,yBACErF,MAAO,CACLkB,OAAQ,iBACRqD,aAAc,QAGhB,yBACEjE,IAAK+E,EACL9E,QAAS,SAACC,GACRb,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,uBAEF2E,EAAW,IACXO,GAAc,IAEhB7F,MAAO,CACLyG,QAAS,MACT7F,MAAO,OACP,aAAc,UACd2D,aAAc,SAGlB,0BACEmC,MAAM,cACN1G,MAAO,CACL2G,SAAU,WACVC,IAAK,QACLC,MAAO,QACPlG,MAAO,OACPmG,OAAQ,UACRC,WACE,wEAEJ5F,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMW,MAAQ,QAC7CS,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMW,MAAQ,QAC7CM,QAAS,WACPqE,EAAW,IACXO,GAAc,OAKpB,8BAGF,GAGF,yBAAKa,MAAM,kBACT,yBAAKA,MAAM,OAAX,YACA,yBAAKA,MAAM,oCACPrB,EAEEA,IAAYN,EAAK3F,WACjB,yBACA,oBAHA,2BAKN,yBAAKsH,MAAM,kBACT,kBAAC3F,EAAA,EAAD,CACE8D,QACEvF,GAAcA,EAAWS,WAAa,YAAc,QAEtDiB,KAAK,KACLC,QAAS,kBAAMuE,GAAkBD,KAEhCF,EAAU,SAAW,SAPxB,cAWHE,EACC,kBAAC,EAAD,CACEjG,WAAYA,EACZoC,SAAU,SAACsF,EAAKC,GACd3B,EAAW0B,GACXrH,EAAQ,IACR6F,GAAiB,GACjBK,GAAeoB,MAInB,GAEF,kBAACT,EAAA,EAAKU,MAAN,eACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIEiC,MAAOzD,EACPiI,SAAU,SAAC5G,GAAD,OAAO2E,EAAS3E,EAAEC,OAAOmC,WAErC,kBAAC4D,EAAA,EAAKU,MAAN,iBACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIE0G,GAAG,WACHC,KAAK,IACL1E,MAAO+B,EACPyC,SAAU,SAAC5G,GAAD,OAAO4E,EAAW5E,EAAEC,OAAOmC,WAEtCtD,GAAcA,EAAWiI,QACxB,oCACE,kBAACf,EAAA,EAAKU,MAAN,wBACA,kBAACV,EAAA,EAAKgB,MAAN,CACEC,KAAK,WACLC,QAASjC,IAAU,EACnB2B,SAAU,SAAC5G,GAAD,OAAOkF,EAAUlF,EAAEC,OAAOiH,UACpCC,MAAM,wBACNzE,GAAG,UAIP,GAEDxD,GAAc,GACdkG,EACC,0BAAM5F,MAAO,CAAEW,MAAO,QACpB,6BADF,2IAOA,IAGJ,kBAACf,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACEE,QAAS,kBACP9B,EACIwF,EA1LC,WACf,IAAMiD,EAAUC,GAAO1I,GACjB2I,EAAYD,GAAOlD,GAAS,GAC5BoD,EAAY1C,EAAQpC,OAAS,EAAI4E,GAAOxC,GAAW,KAEzDU,EACE,WADW,YAAC,aAGVC,OAAQjB,EAAKkB,GACb9G,MAAOyI,EACPjD,QAAQ,KAAD,OAAOmD,EAAP,MACP1I,WAAY2I,GACRnC,EACA,CAAEH,QAAQ,EAAME,eAAe,GAC/B,CAAEA,eAAe,IAChBC,QAAyBZ,IAAXS,GAAyBV,EAAKY,cAE7C,GADA,CAAEF,WAGR,CAAEQ,GAAI,IACN,SAAC+B,GACKA,GACF3B,OAAOC,SAASC,QAAO,MAqKb0B,GACAtI,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,6BAIJhB,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,4BAGRX,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAnBjE,cAuBA,kBAACa,EAAA,EAAD,CACE8D,QAAQ,SACR5D,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZD,MAAO,kBAAM6F,OAAUF,IACvBJ,UAAWkB,EACX3G,MAAM,cACNwF,QAAQ,wKAThB,YAkBHM,GAAgB,KChLRiD,EAzEI,SAAChJ,GAAW,IACrBwC,EAAmBxC,EAAnBwC,SAAUyG,EAASjJ,EAATiJ,KADU,EAEI5I,wBAASyF,GAFb,mBAErBoD,EAFqB,KAEXC,EAFW,OAGA9I,wBAASyF,GAHT,mBAGrBsD,EAHqB,KAGbC,EAHa,KA+B5B,OAfAC,qBAAU,WACJL,EACFM,EAAW,UAAW,CAAExC,GAAIkC,GAAQ,CAAEhJ,MAAO,EAAG8G,GAAI,IAAK,SAAC+B,GAAD,OACvDO,EAAUP,MAEPO,EAAU,MAEjBE,EACE,WACA,GACA,CAAEtJ,MAAO,EAAGuJ,MAAO,CAAEC,WAAY,EAAGC,cAAe,GAAK3C,GAAI,IAC5D,SAAC+B,GAAD,OAASK,EAAYL,QAEtB,IAEEI,QAAuBpD,IAAXsD,EAGf,kBAAC,IAAD,CACE1E,SA9BqB,SAACmB,EAAM7F,GAC9B,MAAmB,KAAfA,EAAM2J,MACRnH,EAAS,KACF,GAGPqD,EAAK5F,MAAM2J,cAAcC,SAAS7J,EAAM2J,KAAKC,gBAC7C/D,EAAK2D,MAAMC,WAAWG,cAAcC,SAAS7J,EAAM2J,KAAKC,gBAwBxDE,gBAAiB,CAACV,EAASA,EAAOnJ,MAAQ,IAC1C0E,SAAS,QACThC,QAASuG,EACTjE,YAAY,mCACZC,uBAAwB,SAACW,GAAD,OACtB,yBAAK9D,QAAS,kBAAMS,EAASqD,EAAKkB,MAC/BlB,EAAK5F,MACN,6BACE,yCACU,IACR,yBACEmB,IACEyE,EAAK2D,MAAME,cACP7D,EAAK2D,MAAME,cACXK,sCAEN1I,QAAS,SAACC,GACRA,EAAEC,OAAOH,IACP2I,uCAEJjJ,MAAO,CACLkB,OAAQ,iBACRsD,OAAQ,MACR5D,MAAO,MACP,aAAc,QACd,gBAAiB,SAElB,IACFmE,EAAK2D,MAAMC,iBAjCsB,4CCgLjCO,EA9MS,SAAChK,GAAW,IAEhCI,EAMEJ,EANFI,WACAoC,EAKExC,EALFwC,SACA2D,EAIEnG,EAJFmG,QACAM,EAGEzG,EAHFyG,cACAtG,EAEEH,EAFFG,MACA8J,EACEjK,EADFiK,SAP+B,EAUP5J,mBAAS,IAVF,mBAU1BJ,EAV0B,KAUnBgG,EAVmB,OAWH5F,mBAAS,IAXN,mBAW1BoF,EAX0B,KAWjBS,EAXiB,OAYO7F,mBAAS8F,GAZhB,mBAY1B+D,EAZ0B,KAYZC,EAZY,OAaS9J,oBAAS,GAblB,mBAa1BgG,EAb0B,KAaXC,EAbW,OAeTjG,oBAAS,GAfA,mBAe1BC,EAf0B,KAepBC,EAfoB,OAgBTF,mBAAS,IAhBA,mBAgB1BG,EAhB0B,KAgBpBC,EAhBoB,OAiBGJ,mBAASoG,GAjBZ,mBAiB1BC,EAjB0B,KAiBdC,EAjBc,KAyCjC,OACE,kBAACjG,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,2BAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEHkJ,EACC,oCACE,yBACEpJ,MAAO,CACLkB,OAAQ,iBACRqD,aAAc,QAGhB,yBACEjE,IAAK8I,EACL7I,QAAS,WACPZ,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,uBAEF0I,EAAgB,IAChBxD,GAAc,IAEhByD,IAAI,+BACJtJ,MAAO,CACLyG,QAAS,MACT7F,MAAO,OACP,aAAc,UACd2D,aAAc,SAGlB,0BACEmC,MAAM,cACN1G,MAAO,CACL2G,SAAU,WACVC,IAAK,QACLC,MAAO,QACPlG,MAAO,OACPmG,OAAQ,UACRC,WACE,wEAEJ5F,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMW,MAAQ,QAC7CS,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMW,MAAQ,QAC7CM,QAAS,WACPoI,EAAgB,IAChBxD,GAAc,OAKpB,8BAGF,GAGF,yBAAKa,MAAM,kBACT,yBAAKA,MAAM,OAAX,YACA,yBAAKA,MAAM,oCACP0C,EAA2C,oBAA5B,2BAEnB,yBAAK1C,MAAM,kBACT,kBAAC3F,EAAA,EAAD,CACE8D,QACEvF,GAAcA,EAAWS,WAAa,YAAc,QAEtDiB,KAAK,KACLC,QAAS,kBAAMuE,GAAkBD,KAEhC6D,EAAe,SAAW,SAP7B,cAWH7D,EACC,kBAAC,EAAD,CACEjG,WAAYA,EACZoC,SAAU,SAACsF,EAAKC,GACdoC,EAAgBrC,GAChBxB,GAAiB,GACjBK,GAAeoB,MAInB,GAEF,kBAACT,EAAA,EAAKU,MAAN,eACA,kBAACV,EAAA,EAAKW,QAAN,eACEvE,MAAOzD,EACPiI,SAAU,SAAC5G,GAAD,OAAO2E,EAAS3E,EAAEC,OAAOmC,SAC9BtD,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,KAEN,kBAAC6F,EAAA,EAAKU,MAAN,iBACA,kBAACV,EAAA,EAAKW,QAAN,eACEE,GAAG,WACHC,KAAK,IACL1E,MAAO+B,GACFrF,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GANN,CAOEyG,SAAU,SAAC5G,GAAD,OAAO4E,EAAW5E,EAAEC,OAAOmC,WAEtClD,GAAQ,GACRkG,EACC,0BAAM5F,MAAO,CAAEW,MAAO,QAAtB,2IAMA,IAGJ,kBAACf,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACEE,QAAS,kBACP9B,EACIwF,EAjKG,WACjB,IAAMiD,EAAUC,GAAO1I,GACjB2I,EAAYD,GAAOlD,GAAS,GAC5BoD,EAAYF,GAAOuB,GACzBrD,EACE,aADW,YAAC,aAGVwD,kBAAmBjK,EAAWqJ,WAC9BxJ,MAAOyI,EACPjD,QAAQ,KAAD,OAAOmD,EAAP,MACPqB,SAAUA,IAAY,GAClBvD,EAAa,CAAEH,QAAQ,EAAME,eAAe,GAAS,IACrDoC,GAAaA,EAAU9E,OAAS,CAAE7D,WAAY2I,GAAc,IAElE,CAAE9B,GAAI,GACNvE,GACG,WACC2E,OAAOC,SAASC,QAAO,KAiJbiD,GACA7J,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,6BAIJhB,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,4BAGRX,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAnBjE,oBCtEKuJ,EAxGY,SAACvK,GAAW,IAC7BI,EAAgCJ,EAAhCI,WAAYoK,EAAoBxK,EAApBwK,SAAUrK,EAAUH,EAAVG,MADM,EAGZE,oBAAS,GAHG,mBAG7BC,EAH6B,KAGvBC,EAHuB,OAIZF,mBAAS,IAJG,mBAI7BG,EAJ6B,KAIvBC,EAJuB,OAMRJ,mBAAS,IAND,mBAM7BoK,EAN6B,KAMrBC,EANqB,OAOMrK,mBAAS,IAPf,mBAO7BsK,EAP6B,KAOdC,EAPc,OAQFvK,mBAAS,IARP,mBAQ7B0F,EAR6B,KAQfC,EARe,KAU9B6E,EAAkB,SAAlBA,EAAmB5B,GACvB,GAAKA,EAUE,CACL,IAAM6B,EAAUnC,GAAOgC,GACvB9D,EACE,gBACA,CACEwD,kBAAmBjK,EAAWqJ,WAC9BsB,OAAQP,EAASzD,GACjBiE,OAAQF,EACR7B,QAEF,CAAElC,GAAI,IACN,WACEI,OAAOC,SAASC,QAAO,WArB3BrB,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZ+F,QAASqE,EAAStK,WAClBuG,cAAe+D,EAAS/D,cACxBjE,SAAU,SAACqD,GAAD,OAAUgF,EAAgBhF,EAAKkB,KACzC5G,MAAO,kBAAM6F,OAAUF,QAqB/B,OACE,kBAACpF,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,+BAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACsG,EAAA,EAAKU,MAAN,gBACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIEiC,MAAOiH,EACPzC,SAAU,SAAC5G,GAAD,OAAOsJ,EAAiBtJ,EAAEC,OAAOmC,WAE7C,kBAAC4D,EAAA,EAAKU,MAAN,oBACA,kBAAC,EAAD,CAAYxF,SAAU,SAACsE,GAAD,OAAY4D,EAAU5D,IAASmC,KAAMwB,IAC1DjK,GAAc,IAEjB,kBAACE,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACEE,QAAS,kBACP4I,EACIE,EAAgBJ,GAChBhK,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,6BAKRX,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAfjE,uBAqBH+E,GAAgB,K,mCCmBRkF,EAtHS,SAACjL,GAAW,IAC1BkL,EAAwClL,EAAxCkL,OAAQ9K,EAAgCJ,EAAhCI,WAAYoK,EAAoBxK,EAApBwK,SAAUrK,EAAUH,EAAVG,MADL,EAGTE,oBAAS,GAHA,mBAG1BC,EAH0B,KAGpBC,EAHoB,OAITF,mBAAS,IAJA,mBAI1BG,EAJ0B,KAIpBC,EAJoB,OAMLJ,mBAAS6K,EAAOC,GAAGpE,IANd,mBAM1B0D,EAN0B,KAMlBC,EANkB,OAOSrK,mBAAS6K,EAAOF,QAPzB,mBAO1BL,EAP0B,KAOXC,EAPW,OAQCvK,mBAAS,IARV,mBAQ1B0F,EAR0B,KAQZC,EARY,OASL3F,mBAAS6K,EAAO3E,QATX,mBAS1BA,EAT0B,KASlBC,EATkB,KAW3B4E,EAAa,SAAbA,EAAcnC,GAClB,GAAKA,EASE,CACL,IAAM6B,EAAUnC,GAAOgC,GACvB9D,EACE,iBADW,aAGTwE,SAAUH,EAAOnE,GACjBiE,OAAQF,EACR7B,KAAMA,QACSnD,IAAXS,EAAuB,CAAEA,UAAW,IAE1C,CAAEQ,GAAI,IACN,WACEI,OAAOC,SAASC,QAAO,WApB3BrB,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZ+F,QAASqE,EAAStK,WAClBsC,SAAU,SAACqD,GAAD,OAAUuF,EAAWvF,EAAKkB,KACpC5G,MAAO,kBAAM6F,OAAUF,QAoB/B,OACE,kBAACpF,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,wBAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACsG,EAAA,EAAKU,MAAN,gBACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIEiC,MAAOiH,EACPzC,SAAU,SAAC5G,GAAD,OAAOsJ,EAAiBtJ,EAAEC,OAAOmC,WAE7C,kBAAC4D,EAAA,EAAKU,MAAN,oBACA,kBAAC,EAAD,CAAYxF,SAAU,SAACsE,GAAD,OAAY4D,EAAU5D,IAASmC,KAAMwB,IAE1DrK,GAAcA,EAAWiI,QACxB,oCACE,kBAACf,EAAA,EAAKU,MAAN,wBACA,kBAACV,EAAA,EAAKgB,MAAN,CACEC,KAAK,WACLC,QAASjC,IAAU,EACnB2B,SAAU,SAAC5G,GAAD,OAAOkF,EAAUlF,EAAEC,OAAOiH,UACpCC,MAAM,0BACNzE,GAAG,UAIP,GAEDxD,GAAc,IAEjB,kBAACE,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACEE,QAAS,kBACP4I,EACIS,EAAWX,GACXhK,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,6BAKRX,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAfjE,iBAqBH+E,GAAgB,KCoXRuF,EA9dO,SAACtL,GAAW,IACxB6F,EAA4B7F,EAA5B6F,KAAMzF,EAAsBJ,EAAtBI,WAAYmL,EAAUvL,EAAVuL,MADK,EAGDlL,oBAC3BkL,EAAQ1F,EAAK2F,aAAe3F,EAAK4F,iBAAiBC,KAAI,kBAAM,SAJhC,mBAGxBC,EAHwB,KAGfC,EAHe,KAOzBC,EAAO,GAPkB,EASGxL,wBAASyF,GATZ,mBASxBC,EATwB,KASVC,EATU,KAwK/B,OAlEAsD,qBAAU,YAENqC,EAAQ5H,UACLwH,EAAQ1F,EAAK2F,aAAe3F,EAAK4F,iBAAiB1H,QACrD4H,EAAQG,MACN,SAACZ,EAAQpH,GAAT,OACa,OAAXoH,GACAA,EAAOnE,MAAQwE,EAAQ1F,EAAK2F,aAAe3F,EAAK4F,iBAAiB3H,GAAGiD,QAGxE6E,GACGL,EAAQ1F,EAAK2F,aAAe3F,EAAK4F,iBAAiBC,KAAI,kBAAM,SAG7DC,EAAQG,MAAK,SAACZ,GAAD,OAAuB,OAAXA,OAC1BK,EAAQ1F,EAAK2F,aAAe3F,EAAK4F,iBAAiBM,SACjD,SAACV,EAAUvH,GACU,OAAf6H,EAAQ7H,IAEZyF,EACE,YACA,CAAExC,GAAIsE,EAAStE,IACf,CACEA,GAAI,EACJiE,OAAQ,EACRgB,QAAS,CAAEvC,WAAY,GACvBwC,WAAY,CAAExC,WAAY,GAC1ByC,MAAO,EACPC,YAAa,CACX5F,OAAQ,EACRkD,WAAY,EACZC,cAAe,GAEjBnD,OAAQ,EACR4E,GAAI,CACF3B,MAAO,CACLC,WAAY,EACZlD,OAAQ,GAEVQ,GAAI,EACJR,OAAQ,GAEV6F,KAAM,CACJrF,GAAI,KAGR,SAACmE,GACCA,EAAOmB,MACLjM,GACA8K,EAAOc,QAAQF,MACb,SAACQ,GAAD,OAAaA,EAAQ7C,aAAerJ,EAAWqJ,cAEnDyB,EAAOqB,SACLnM,GACA8K,EAAOe,WAAWH,MAChB,SAACQ,GAAD,OAAaA,EAAQ7C,aAAerJ,EAAWqJ,cAEnDkC,EAAQ7H,GAAKoH,EACblF,EAAU,aAQjB2F,EAeDA,EAAQ5H,OAAS,EAEjB,kBAACyI,EAAA,EAAD,KACGb,EAAQD,KAAI,SAACR,EAAQuB,GAEpB,GADAZ,EAAKa,KAAKC,uBACK,OAAXzB,EACF,OACE,kBAAC0B,EAAA,EAAD,CACEC,UAAU,mBACV/L,MAAK,aACHgM,UAAU,WAAD,OAAa9L,GAAQ,IAC9B+L,SAAU,UACN3M,GAAcA,EAAWS,WACzB,CAAEE,gBAAiBC,GAAQ,IAC3B,IAENgM,IAAKnB,EAAKY,IAEV,kBAACG,EAAA,EAAKzL,KAAN,CAAWL,MAAO,CAAEmM,WAAY,QAC9B,kBAACL,EAAA,EAAK1L,MAAN,qBAKR,IACGgK,EAAO3E,QAAU2E,EAAOiB,YAAY5F,WACnCnG,IACEA,EAAWS,YACXT,EAAWqJ,aAAeyB,EAAOiB,YAAY1C,aAC5CrJ,EAAWqJ,aAAe5D,EAAK2D,MAAMC,aAAe8B,IAEzD,OAAO,+BAET,IAAM2B,GACHhC,EAAOC,KACND,EAAOC,GAAG5E,QAAU2E,EAAOC,GAAG3B,MAAMjD,WAClCnG,IACEA,EAAWS,YACXqK,EAAOC,GAAG3B,MAAMC,aAAerJ,EAAWqJ,YAElD,OACE,kBAACmD,EAAA,EAAD,CACEC,UAAU,mBACV/L,MAAK,aACHgM,UAAU,WAAD,OAAa9L,GAAQ,IAC9B+L,SAAU,UACN3M,GAAcA,EAAWS,WACzB,CAAEE,gBAAiBC,GAAQ,IAC3B,IAENgM,IAAKnB,EAAKY,IAEV,uBACEU,KAAOD,EAAqC,GAAtC,gBAAqBhC,EAAOC,GAAGpE,IACrChF,QAAS,kBACPoF,OAAOiG,SAAS,CAAE1F,IAAK,EAAG2F,KAAM,EAAGC,SAAU,YAE/CxM,MAAO,CACLyM,cAAgBL,EAAoB,OAAT,OAC3BzL,MAAQyL,EAIJ,OAHA9M,GAAcA,EAAWS,WACvBG,GAAQ,GACRA,GAAQ,IAGhBiB,aAAc,SAACX,GACbuK,EAAKY,GAAKe,QAAQ1M,MAAMgM,UAAxB,kBAA+C9L,GAAQ,KAEzDkB,aAAc,SAACZ,GACbuK,EAAKY,GAAKe,QAAQ1M,MAAMgM,UAAxB,kBAA+C9L,GAAQ,MAGzD,kBAAC4L,EAAA,EAAKzL,KAAN,CAAWL,MAAO,CAAE8G,OAAQ,UAAWqF,WAAY,QACjD,kBAACL,EAAA,EAAK1L,MAAN,KAAagK,EAAOF,UAGvBE,EAAO3E,QAAU2E,EAAOiB,YAAY5F,OACnC,kBAACkH,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,mGAEyC,IACtCvN,GAAcA,EAAWS,WACtB,kBACA,eAIR,yBACEC,MAAO,CACL2G,SAAU,WACVC,IAAK,MACL2F,KAAM,QACN5L,MAAO,MACP,wBAAyB,OACzB,sBAAuB,OACvB,qBAAsB,OACtB,mBAAoB,OACpB,kBAAmB,OACnB,cAAe,OACf,cAAe,iBAEjB+F,MAAM,MAdR,WAoBF,GAEA0D,EAAO3E,SACR2E,EAAOC,GAAG5E,SAAU2E,EAAOC,GAAG3B,MAAMjD,QACpC2G,EAiCC,GAhCA,kBAACO,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,kIAIGvN,GAAcA,EAAWS,WACtB,kBACA,eAIR,yBACEC,MAAO,CACL2G,SAAU,WACVC,IAAK,MACL2F,KAAM,QACN5L,MAAO,MACP,wBAAyB,OACzB,sBAAuB,OACvB,qBAAsB,OACtB,mBAAoB,OACpB,kBAAmB,OACnB,cAAe,OACf,cAAe,iBAEjB+F,MAAM,MAdR,WAsBJ,kBAACoG,EAAA,EAAD,CACEjI,QACEvF,GAAcA,EAAWS,WAAa,YAAc,QAEtDC,MAAO,CACL2G,SAAU,WACVC,IAAK,MACLC,MAAO,OAET7F,KAAK,KACL+L,KAAK,QACL5N,MAAO,0BAAMuH,MAAM,MAAZ,WAEP,kBAACsG,EAAA,EAASC,KAAV,CACEb,UACG9M,GACAA,EAAWqJ,aAAe5D,EAAK2D,MAAMC,aACnCrJ,EAAWiI,QAEhBtG,QAAS,kBACPwJ,GArRIF,EAqRiBH,EAAOnE,QApR5CF,EAAc,eAAgB,CAAEwE,SAAUA,GAAY,CAAEtE,GAAI,IAAK,kBAC/DG,YAAW,kBAAMC,OAAOC,SAASC,QAAO,KAAQ,SARlC,SAACgE,GACjBxE,EAAc,YAAa,CAAEwE,SAAUA,GAAY,CAAEtE,GAAI,IAAK,kBAC5DG,YAAW,kBAAMC,OAAOC,SAASC,QAAO,KAAQ,QAyRA2G,CAAU9C,EAAOnE,IArRhD,IAACsE,IA8QR,QAUQE,EAAQ,OAAS,IAVzB,QAYA,kBAACuC,EAAA,EAASC,KAAV,CACEb,UACG9M,GACAA,EAAWqJ,aAAeyB,EAAOiB,YAAY1C,YAC5CrJ,EAAWqJ,aAAe5D,EAAK2D,MAAMC,aACpCrJ,EAAWiI,QAEhBtG,QAAS,kBA3RCsJ,EA2RsBH,EAAOnE,QA1RrDF,EAAc,mBAAoB,CAAEwE,SAAUA,GAAY,IAAI,kBAC5DlE,OAAOC,SAASC,QAAO,MAFF,IAACgE,IAoRZ,UAWA,kBAACyC,EAAA,EAASC,KAAV,CACEhM,QAAS,kBACPiE,EACE,kBAAC,EAAD,CACEkF,OAAQA,EACR9K,WAAYA,EACZoK,SAAU3E,EACV1F,MAAO,kBAAM6F,OAAUF,QAI7BoH,WAEI9M,IACCA,EAAWiI,SACTkD,GACCnL,EAAWqJ,aAAe5D,EAAK2D,MAAMC,aACrC8B,GACAnL,EAAWqJ,aACTyB,EAAOiB,YAAY1C,cAnB/B,QAyBA,kBAACqE,EAAA,EAASG,QAAV,MACA,kBAACH,EAAA,EAASC,KAAV,CAAehM,QAAS,kBAnTZsJ,EAmTmCH,EAAOnE,QAlTlEF,EACE,iBADW,YAAC,eAGNzG,EAAa,CAAEiK,kBAAmBjK,EAAWqJ,YAAe,IAHvD,IAITjJ,KAAM,wBACN0N,oBAAqB,SACrBC,kBAAmB9C,IAErB,CAAE7K,KAAM,EAAG4N,UAAW,IACtB,WACEC,MAAM,iCACNlH,OAAOC,SAASC,QAAO,MAZJ,IAACgE,IAmTZ,WAIF,kBAACuB,EAAA,EAAKhL,OACCxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,uBACEmM,KAAI,gBAAWtH,EAAKkB,IACpBjG,MAAO,CACLyM,cAAenN,EAAa,OAAS,OACrCqB,MAAOrB,EACH8K,EAAOqB,SACL,MACAnM,EAAWS,WACX,QACA,QACF,QAENgM,UAAU,oBACV9K,QAAS,kBAvXT,SAAC0K,GACf,GAAIrM,EAAY,CACd,IAAM8K,EAASS,EAAQc,GAEnBvB,EAAOqB,UACTrB,EAAOqB,UAAW,EAClBrB,EAAOgB,UAEPhB,EAAOqB,UAAW,EAClBrB,EAAOgB,QACHhB,EAAOmB,OAAOnB,EAAOgB,SAE3BhB,EAAOmB,OAAQ,EACfT,EAAW,GAAD,mBACLD,EAAQrH,MAAM,EAAGmI,IADZ,CAERvB,GAFQ,YAGLS,EAAQrH,MAAMmI,EAAM,EAAGd,EAAQ5H,WAGpC8C,EACE,oBACA,CAAEwD,kBAAmBjK,EAAWqJ,WAAY4B,SAAUH,EAAOnE,IAC7D,CAAEA,GAAI,IACN,gBAgWyBuH,CAAQ7B,MAExB,KAAOvB,EAAOgB,OAAS,GAAK,IAC7B,uBACEiB,KAAI,gBAAWtH,EAAKkB,IACpBjG,MAAO,CACLyM,cAAenN,EAAa,OAAS,OACrCqB,MAAOrB,EACH8K,EAAOmB,MACL,QACAjM,EAAWS,WACX,QACA,QACF,QAENgM,UAAU,kBACV9K,QAAS,kBAnaZ,SAAC0K,GACZ,GAAIrM,EAAY,CACd,IAAM8K,EAASS,EAAQc,GAEnBvB,EAAOmB,OACTnB,EAAOmB,OAAQ,EACfnB,EAAOgB,UAEPhB,EAAOmB,OAAQ,EACfnB,EAAOgB,QACHhB,EAAOqB,UAAUrB,EAAOgB,SAE9BhB,EAAOqB,UAAW,EAClBX,EAAW,GAAD,mBACLD,EAAQrH,MAAM,EAAGmI,IADZ,CAERvB,GAFQ,YAGLS,EAAQrH,MAAMmI,EAAM,EAAGd,EAAQ5H,WAGpC8C,EACE,iBACA,CAAEwD,kBAAmBjK,EAAWqJ,WAAY4B,SAAUH,EAAOnE,IAC7D,CAAEA,GAAI,IACN,gBA4YyBwH,CAAK9B,MAEtB,6BACA,2BAAOI,UAAU,cAAjB,gBACgB,IACd,uBACEM,KAAI,mBAAcjC,EAAOiB,YAAY1C,YACrC3I,MAAO,CACLW,MACErB,GAAcA,EAAWS,WACrBG,GAAQ,GACRA,GAAQ,KAGhB,yBACEI,IACE8J,EAAOiB,YAAYzC,cACfwB,EAAOiB,YAAYzC,cACnBK,sCAEN1I,QAAS,SAACC,GACRA,EAAEC,OAAOH,IACP2I,uCAEJjJ,MAAO,CACLkB,OAAQ,iBACRsD,OAAQ,MACR5D,MAAO,MACP,aAAc,QACd,gBAAiB,SAElB,IACFwJ,EAAOiB,YAAY1C,kBAO/B1D,GAAgByI,OAAOC,KAAK1I,GAAchC,OAAS,EAChDgC,EACA,IAIH,KAjTH,kBAAC2I,EAAA,EAAD,CACE/I,QACGvF,GAAcA,EAAWS,YACU,UAApC,IAAI8N,KAAUC,IAAI,cACd,OACA,SAGN,kDACA,kBAACF,EAAA,EAAMG,QAAP,qBCoLOC,EArWF,SAAC9O,GAAW,IACfgH,EAA+BhH,EAA/BgH,QAAS+H,EAAsB/O,EAAtB+O,MAAO3O,EAAeJ,EAAfI,WADF,EAEYC,wBAASyF,GAFrB,mBAEfC,EAFe,KAEDC,EAFC,OAGE3F,wBAASyF,GAHX,mBAGfD,EAHe,KAGTmJ,EAHS,KAwDtB,OAjCA1F,qBAAU,WACR,IAAM2F,EAAStG,GAAOoG,EAAMG,OAAOlL,IAE9B6B,GAAQoJ,IAAWpJ,EAAKkB,IAC3BwC,EACE,UACA,CAAExC,GAAIkI,GACN,CACE1I,OAAQ,EACRrG,WAAY,EACZuG,cAAe,EACf0I,QAAS,EACTC,QAAS,EACTrI,GAAI,EACJ9G,MAAO,EACPwF,QAAS,EACT4J,MAAO,EACP7F,MAAO,CAAEC,WAAY,EAAGC,cAAe,EAAGnD,OAAQ,GAClDiF,aAAc,CACZzE,GAAI,GAEN0E,gBAAiB,CACf1E,GAAI,KAGR,SAACuI,GACiBN,EAAZM,GACS,iBAMRxJ,IAATD,EAEA,kBAAC6I,EAAA,EAAD,CACE/I,QACGvF,GAAcA,EAAWS,YACU,UAApC,IAAI8N,KAAUC,IAAI,cACd,OACA,SAGN,kDACA,kBAACF,EAAA,EAAMG,QAAP,oBAKO,OAAThJ,EAEA,kBAAC6I,EAAA,EAAD,CAAO/I,QAAQ,UACb,+CAAqBoJ,EAAMG,OAAOlL,IAClC,kBAAC0K,EAAA,EAAMG,QAAP,uCACA,sHAQJhJ,EAAKU,QACHnG,IACCyF,EAAK2D,MAAMC,aAAerJ,EAAWqJ,YACnCrJ,EAAWS,aAehBgF,EAAK2D,MAAMjD,QACTnG,IACCyF,EAAK2D,MAAMC,aAAerJ,EAAWqJ,YACnCrJ,EAAWS,YAehB,kBAAC0O,EAAA,EAAD,KACE,kDAAwB1J,EAAK5F,QAE3B4F,EAAKU,QAAUV,EAAK2D,MAAMjD,SAC5BnG,GACAyF,EAAK2D,MAAMC,aAAerJ,EAAWqJ,aACpCrJ,EAAWS,WACV,kBAAC6N,EAAA,EAAD,CACE/I,QAAQ,SACR6J,aAAW,EACXC,QAAS,WACPT,EAAQ,2BAAKnJ,GAAN,IAAYU,QAAQ,OAG7B,kBAACmI,EAAA,EAAMG,QAAP,gBACA,mRAI6C,uBAAG1B,KAAK,IAAR,QAJ7C,MAQF,GAGF,wBAAI3F,MAAM,yBAAyB3B,EAAK5F,OACvC4F,EAAK3F,WACJ,yBACEkB,IAAKyE,EAAK3F,WACVwP,OAAQ,SAACpO,GACPA,EAAEC,OAAOT,MAAMU,QAAU,SAE3BH,QAAS,SAACC,GACRA,EAAEC,OAAOT,MAAMU,QAAU,QAE3BV,MAAK,aACHU,QAAS,QACTmO,WAAY,OACZvK,YAAa,OACbmC,QAAS,MACTvF,OAAQ,iBACR,gBAAiB,MACjBN,MAAO,MACPC,UAAW,OACX,aAAc,QACdiG,OAAQ,WACJ/B,EAAKY,cACL,CACE,iBAAkB,aAClBlB,OAAQ,cAEV,IAENxD,QAAS,kBACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZF,WAAY2F,EAAK3F,WACjBD,MAAO4F,EAAK5F,MACZE,MAAO,kBAAM6F,OAAUF,UAM/B,GAEF,6BACA,kBAACyJ,EAAA,EAAD,KACG1J,EAAKJ,QAAQmK,MAAM,MAAMlE,KAAI,SAACmE,GAAD,OAC5B,uBAAG/O,MAAO,CAAEgP,WAAY,OAASD,OAGrC,kBAACN,EAAA,EAAD,CACE1C,UAAU,MACV/L,MAAO,CAAEiP,aAAc,MAAOC,cAAe,QAE7C,yBAAKxI,MAAM,OACT,wBAAIA,MAAM,cAAV,aAEF,yBAAKA,MAAM,MAAM1G,MAAO,CAAEiP,aAAc,QACtC,kBAAClO,EAAA,EAAD,CACEE,QAAS,WACPiF,EAAQC,OACRE,OAAOiG,SAAS,CAAE1F,IAAK,EAAG2F,KAAM,EAAGC,SAAU,YAE/CxL,KAAK,KACL+K,UAAU,cACV/L,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAZjE,cAkBH6E,EAAK2F,aAAazH,OACjB,kBAAC,EAAD,CAAe8B,KAAMA,EAAMzF,WAAYA,EAAYmL,OAAO,IAE1D,uBAAGsB,UAAU,cAAb,gBACe,gCAAShH,EAAK2D,MAAMC,YADnC,6BAMF,4BAEA,kBAAC8F,EAAA,EAAD,CAAW1C,UAAU,MAAM/L,MAAO,CAAEiP,aAAc,QAChD,yBAAKvI,MAAM,oBACT,wBAAIA,MAAM,2BAAV,mBAEF,yBAAKA,MAAM,iBAAiB1G,MAAO,CAAEiP,aAAc,QACjD,2BAAOvI,MAAM,cAAb,UACU,IACR,uBACE2F,KAAI,mBAActH,EAAK2D,MAAMC,YAC7B3I,MAAO,CACLW,MACErB,GAAcA,EAAWS,WAAaG,GAAQ,GAAKA,GAAQ,KAG/D,yBACEI,IACEyE,EAAK2D,MAAME,cACP7D,EAAK2D,MAAME,cACXK,sCAEN1I,QAAS,SAACC,GACRA,EAAEC,OAAOH,IACP2I,uCAEJjJ,MAAO,CACLkB,OAAQ,iBACRsD,OAAQ,MACR5D,MAAO,MACP,aAAc,QACd,gBAAiB,SAElB,IACFmE,EAAK2D,MAAMC,WAAY,KACrB,IACL,6BA7BF,UA8BU5D,EAAKwJ,OAEdjP,IACAyF,EAAK2D,MAAMC,aAAerJ,EAAWqJ,YACpCrJ,EAAWiI,SACX,2BACE,kBAACxG,EAAA,EAAD,CACE8D,QAAQ,YACR7D,KAAK,KACLC,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE7F,MAAO,kBAAM6F,OAAUF,IACvBD,KAAMA,EACNzF,WAAYA,OARpB,cAiBF,KAIN,4BACA,kBAACqN,EAAA,EAAD,CACEC,QACGtN,EAGC,4BAFA,kBAACuN,EAAA,EAAD,CAAS3J,GAAG,oBAAZ,0BAKJlD,MAAO,CAAEY,MAAO,SAEhB,0BAAMmL,UAAU,iBAAiB/L,MAAO,CAAEY,MAAO,SAC/C,kBAACG,EAAA,EAAD,CACEE,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZoK,SAAU3E,EACV1F,MAAO,kBAAM6F,OAAUF,QAI7BoH,UAAW9M,EACXU,MAAO,CACLY,MAAO,OACP6L,cAAenN,EAAa,OAAS,OACrC4B,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAlBjE,wBAwBJ,4BAEC6E,EAAK4F,gBAAgB1H,OACpB,kBAAC,EAAD,CAAe8B,KAAMA,EAAMzF,WAAYA,EAAYmL,OAAO,IAE1D,uBAAGsB,UAAU,cAAb,kFAMF,kBAAC0C,EAAA,EAAD,KACE,kBAAC1N,EAAA,EAAD,CACEf,MAAO,CAAEsE,YAAa,IAAKuK,WAAY,OAAQnO,QAAS,SACxDmE,QAAQ,SACR7D,KAAK,KACLC,QApVW,WACjB8E,EACE,iBADW,YAAC,eAGNzG,EAAa,CAAEiK,kBAAmBjK,EAAWqJ,YAAe,IAHvD,IAITjJ,KAAM,wBACN0N,oBAAqB,OACrBC,kBAAmBtI,EAAKkB,KAE1B,CAAEvG,KAAM,EAAG4N,UAAW,IACtB,WACEC,MAAM,+BACNlH,OAAOC,SAASC,QAAO,QAoUvB,gBAUDtB,GAA8B,IAnP/B,kBAAC2I,EAAA,EAAD,CAAO/I,QAAQ,UACb,kDAAwBE,EAAK5F,OAC7B,kBAACyO,EAAA,EAAMG,QAAP,gBACA,kMAG6B,0CAH7B,MArBF,kBAACH,EAAA,EAAD,CAAO/I,QAAQ,UACb,kDAAwBE,EAAK5F,OAC7B,kBAACyO,EAAA,EAAMG,QAAP,gBACA,uKAEsE,IACpE,0CAHF,O,iBC6LOoB,EAlSU,SAACjQ,GAAW,IAEjCyJ,EAQEzJ,EARFyJ,WACAyG,EAOElQ,EAPFkQ,IACAC,EAMEnQ,EANFmQ,eACAhQ,EAKEH,EALFG,MACAmM,EAIEtM,EAJFsM,QACA8D,EAGEpQ,EAHFoQ,WACAC,EAEErQ,EAFFqQ,YACAjQ,EACEJ,EADFI,WATgC,EAWVC,oBAAS,GAXC,mBAW3BC,EAX2B,KAWrBC,EAXqB,OAYVF,mBAAS,IAZC,mBAY3BG,EAZ2B,KAYrBC,EAZqB,OAcAJ,wBAASyF,GAdT,mBAc3BC,EAd2B,KAcbC,EAda,OAgBF3F,mBAAS6P,GAAO,IAhBd,mBAgB3BI,EAhB2B,KAgBjBC,EAhBiB,OAiBoBlQ,mBACpD8P,GAAkB,IAlBc,mBAiB3BK,EAjB2B,KAiBNC,EAjBM,OAoBApQ,mBAAS,IApBT,mBAoB3BqQ,EApB2B,KAoBhBC,EApBgB,OAqBRtQ,mBAAS,IArBD,mBAqB3BuQ,EArB2B,KAqBpBC,EArBoB,OAsBRxQ,mBAAS,IAtBD,mBAsB3ByQ,EAtB2B,KAsBpBC,EAtBoB,OAuBN1Q,mBAASiM,EAAQ/F,QAvBX,mBAuB3BA,GAvB2B,KAuBnBC,GAvBmB,QAwBNnG,mBAASiM,EAAQjE,SAxBX,qBAwB3BA,GAxB2B,MAwBlB2I,GAxBkB,MA0B5BC,GAAW,SAAXA,IAAyC,IAA7BC,EAA4B,wDAC5C,GAAIN,GAASA,IAAUE,EACrBrQ,EAAQ,yBAAKK,MAAO,CAAEW,MAAO,QAArB,8BADV,CAIA,IAAM0P,EAAQb,EAASvM,OAAS,EAAlB,YAA2B4E,GAAO2H,GAAU,GAA5C,MAAwD,KAChEzH,EACJ2H,EAAoBzM,OAAS,EAAI4E,GAAO6H,GAAuB,KAE3DtB,EAAS,CAAEzF,cAIjB,GAHI6G,IAAaJ,IAAKhB,EAAOgB,IAAMiB,GAC/BX,IAAwBL,IAC1BjB,EAAOxF,cAAgBb,GACrB6H,IAAcjH,IAAeiH,EAAU3B,MAAM,SAAU,CACzD,IAAKmC,EAAiB,CACpB,IAAME,EAAezI,GAAO+H,GAe5B,YAdAnH,EACE,aACA,CAAEE,WAAY2H,GACd,CAAE3H,WAAY,IACd,SAACX,GACKA,EACFrI,EACE,yBAAKK,MAAO,CAAEW,MAAO,QAArB,iCAGFwP,GAAS,MAMf/B,EAAOmC,cAAgB1I,GAAO+H,GAG9BE,IAAO1B,EAAOoC,YAAc3I,GAAOiI,SACxB9K,IAAXS,KAAsB2I,EAAO3I,OAASA,SAC1BT,IAAZuC,KAAuB6G,EAAO7G,QAAUA,IAE5CxB,EACE,cACAqI,EACA,CACEgB,IAAK,EACLzG,WAAY,EACZC,cAAe,EACf6H,eAAgB,EAChBC,qBAAsB,EACtBjL,OAAQ,EACR8B,QAAS,EACToJ,cAAe,CACbjI,MAAO,CAAEC,WAAY,EAAGC,cAAe,GACvCO,SAAU,EACV1D,OAAQ,EACRQ,GAAI,EACJ9G,MAAO,EACPoP,MAAO,EACPnP,WAAY,EACZuG,cAAe,GAEjBiL,MAAO,CACLlI,MAAO,CAAEC,WAAY,EAAGC,cAAe,GACvCO,SAAU,EACV1D,OAAQ,EACRQ,GAAI,EACJ9G,MAAO,EACPwF,QAAS,EACT4J,MAAO,EACPnP,WAAY,EACZuG,cAAe,KAInB,SAACqC,GACKoG,EAAOmC,gBACThB,EAAY,kBAAC,IAAD,CAAUlF,GAAE,mBAAc+D,EAAOmC,mBAC7C,IAAI1C,KAAUgD,IAAI,UAAWzC,EAAOmC,cAAe,CAAEO,KAAM,MAC3DzK,OAAOC,SAASC,QAAO,IAErB6H,EAAO7G,UAAYiE,EAAQjE,SAC7BlB,OAAOC,SAASC,QAAO,GAEzB+I,EAAWtH,GACXvI,GAAQ,GACRJ,SAoBN,OAPAmJ,qBAAU,WACRpC,YAAW,WACT2J,EAAS,IACTF,EAAa,MACZ,OACF,IAGD,kBAACjQ,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,yBAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEHmP,EACC,yBACE/O,IAAK+O,EACL/F,IAAKX,EAAa,iBAClBpI,QAAS,SAACC,GACRA,EAAEC,OAAOT,MAAMU,QAAU,OACzBf,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,wBAGJX,MAAO,CACL+Q,QAAS1B,IAAmBK,EAAsB,EAAI,GACtD9O,MAAO,OACP,aAAc,aAIlB,GAEF,kBAAC4F,EAAA,EAAKU,MAAN,yBACA,kBAACV,EAAA,EAAKW,QAAN,eACEvE,MAAO8M,EACPtI,SAAU,SAAC5G,GAAD,OAAOmP,EAAuBnP,EAAEC,OAAOmC,SAC5CtD,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,KAEN,kBAAC6F,EAAA,EAAKU,MAAN,aACA,kBAACV,EAAA,EAAKW,QAAN,eACEE,GAAG,WACHC,KAAK,IACL1E,MAAO4M,EACPpI,SAAU,SAAC5G,GAAD,OAAOiP,EAAYjP,EAAEC,OAAOmC,SACjCtD,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,KAGN,kBAAC6F,EAAA,EAAKU,MAAN,iCACA,kBAACV,EAAA,EAAKW,QAAN,eACEhD,YAAawE,EACb/F,MAAOgN,EACPxI,SAAU,SAAC5G,GAAD,OAAOqP,EAAarP,EAAEC,OAAOmC,SAClCtD,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,KAGN,kBAAC6F,EAAA,EAAKU,MAAN,8BACA,kBAACV,EAAA,EAAKW,QAAN,eACEM,KAAK,WACLtD,YAAY,mDACZvB,MAAOkN,EACP1I,SAAU,SAAC5G,GAAD,OAAOuP,EAASvP,EAAEC,OAAOmC,SAC9BtD,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,KAELmP,EACC,oCACE,kBAACtJ,EAAA,EAAKU,MAAN,0BACA,kBAACV,EAAA,EAAKW,QAAN,eACEM,KAAK,WACLtD,YAAY,mDACZvB,MAAOoN,EACP5I,SAAU,SAAC5G,GAAD,OAAOyP,EAASzP,EAAEC,OAAOmC,SAC9BtD,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,MAIR,GAEDrB,GAAcA,EAAWiI,QACxB,oCACE,kBAACf,EAAA,EAAKU,MAAN,wBACA,kBAACV,EAAA,EAAKgB,MAAN,CACEC,KAAK,WACLC,QAASjC,KAAU,EACnB2B,SAAU,SAAC5G,GAAD,OAAOkF,GAAUlF,EAAEC,OAAOiH,UACpCC,MAAM,2BACNzE,GAAG,SAEL,kBAACsD,EAAA,EAAKgB,MAAN,CACEC,KAAK,WACLC,QAASH,KAAW,EACpBH,SAAU,SAAC5G,GAAD,OAAO0P,GAAS1P,EAAEC,OAAOiH,UACnCC,MAAM,sBACNzE,GAAG,SAIP,GAGDxD,GAAc,IAEjB,kBAACE,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACEE,QAAS,kBAAMkP,MACfnQ,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAPjE,gBAWA,kBAACa,EAAA,EAAD,CACEE,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZH,MAAM,iBACNwF,QAAQ,qKACRC,UAAW,kBA7JzB,IAAIiJ,KAAUgD,IAAI,UAAW,GAAI,CAAEC,KAAM,WACzC/K,EAAc,gBAAiB,CAAE4C,cAAc,IAAI,WACjD4G,EAAY,kBAAC,IAAD,CAAUlF,GAAG,OACzBhE,OAAOC,SAASC,QAAO,OA2JXlH,MAAO,WACL6F,OAAUF,QAKlBH,QAAQ,UAdV,oBAoBHI,GAAgB,KC/LRP,EArGM,SAACxF,GAAW,IACvB0F,EAAiC1F,EAAjC0F,UAAWvF,EAAsBH,EAAtBG,MAAOC,EAAeJ,EAAfI,WADI,EAENC,oBAAS,GAFH,mBAEvBC,EAFuB,KAEjBC,EAFiB,OAIMF,oBAAS,GAJf,mBAIvByR,EAJuB,KAIXC,EAJW,KAK9B,OACE,kBAACrR,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,6BAEF,kBAACR,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,iCAKgC,kCALhC,4KAQE,4BACA,kBAACsG,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKW,QAAN,CACEiF,UAAQ,EACR/E,GAAG,WACHC,KAAK,IACL1E,MAAK,u5GA+BP,kBAAC4D,EAAA,EAAKgB,MAAN,CACExH,MAAO,CAAEkR,MAAO,SAChBzJ,KAAK,WACLE,MAAM,mCACND,QAASsJ,EACT9N,GAAG,QACHkE,SAAU,SAAC5G,GACTyQ,EAAczQ,EAAEC,OAAOiH,cAK/B,kBAAC9H,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACE8D,QAAQ,UACR5D,QAAS2D,EACTwH,UAAW4E,EACXhR,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KATjE,0BC2OOiR,EAlTI,SAACjS,GAAW,IACrB0R,EAAsB1R,EAAtB0R,MAAOtR,EAAeJ,EAAfI,WADa,EAGMC,wBAASyF,GAHf,mBAGrBC,EAHqB,KAGPC,EAHO,KAItB6F,EAAO,GA4Cb,OAAO6F,EACL,kBAAClF,EAAA,EAAD,CAAa1L,MAAO,CAAEoR,UAAW,MAAOC,aAAc,QACpD,kBAAC5C,EAAA,EAAD,MACCmC,EACEnM,QACC,SAACM,GAAD,OACGzF,IACEA,EAAWS,YACVT,EAAWqJ,aAAe5D,EAAK2D,MAAMC,cACxC5D,EAAKU,UAETmF,KAAI,SAAC7F,EAAM/B,GAEV,OADA+H,EAAKa,KAAKC,uBAER,kBAACC,EAAA,EAAD,CACEC,UAAU,OACV/L,MAAK,aACHgM,UAAU,WAAD,OAAa9L,GAAQ,IAC9B+L,SAAU,UACN3M,GAAcA,EAAWS,WACzB,CAAEE,gBAAiBC,GAAQ,IAC3B,IAENgM,IAAKnB,EAAK/H,IAEV,uBACEqJ,KAAI,+BAA0BtH,EAAKkB,IACnCjG,MAAO,CACLW,MACErB,GAAcA,EAAWS,WACrBG,GAAQ,GACRA,GAAQ,IAEhBiB,aAAc,SAACX,GACbuK,EAAK/H,GAAG0J,QAAQ1M,MAAMgM,UAAtB,kBAA6C9L,GAAQ,KAEvDkB,aAAc,SAACZ,GACbuK,EAAK/H,GAAG0J,QAAQ1M,MAAMgM,UAAtB,kBAA6C9L,GAAQ,MAGtD6E,EAAK3F,WACJ,kBAAC0M,EAAA,EAAKhM,OAAN,CACEE,MAAO,CACLC,gBACEX,GAAcA,EAAWS,WACrBG,GAAQ,GACR,QACNuG,QAAS,QAGX,kBAACqF,EAAA,EAAKwF,IAAN,CACEhR,IAAKyE,EAAK3F,WACVY,MAAK,aACH,aAAc,OACd,aAAc,SACV+E,EAAKY,cACL,CACE,iBAAkB,aAClBlB,OAAQ,cAEV,IAENlE,QAAS,SAACC,GACRA,EAAEC,OAAO8Q,WAAWvR,MAAMU,QAAU,WAK1C,GAEF,kBAACoL,EAAA,EAAKzL,KAAN,CACE0L,UAAU,cACV/L,MAAO,CAAEmM,WAAY,QAErB,kBAACL,EAAA,EAAK1L,MAAN,KAAa2E,EAAK5F,SAIrB4F,EAAKoE,UAAYpE,GAAQA,EAAK2D,MAC7B,kBAACiE,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,sCACiC9H,EAAK2D,MAAMC,WAD5C,MAKF,yBACE3I,MAAO,CACL2G,SAAU,WACVC,IAAK,MACL2F,KAAM,MACN5L,MAAO,SACP,wBAAyB,OACzB,sBAAuB,OACvB,qBAAsB,OACtB,mBAAoB,OACpB,kBAAmB,OACnB,cAAe,OACf,cAAe,iBAEjB+F,MAAM,MAdR,WAoBF,GAGD3B,EAAKU,OACJ,kBAACkH,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,iGAEiC,IAC9BvN,GAAcA,EAAWS,WACtB,kBACA,eAIR,yBACEC,MAAO,CACL2G,SAAU,WACVC,KAAM7B,EAAKoE,SAAW,IAAM,IAAM,MAClCoD,KAAM,QACN5L,MAAO,MACP,wBAAyB,OACzB,sBAAuB,OACvB,qBAAsB,OACtB,mBAAoB,OACpB,kBAAmB,OACnB,cAAe,OACf,cAAe,iBAEjB+F,MAAM,MAdR,WAoBF,GAGF,kBAACoG,EAAA,EAAD,CACEjI,QACEvF,GAAcA,EAAWS,WAAa,YAAc,QAEtDC,MAAO,CAAE2G,SAAU,WAAYC,IAAK,MAAOC,MAAO,OAClD7F,KAAK,KACL+L,KAAK,QACL5N,MAAO,0BAAMuH,MAAM,MAAZ,WAENpH,QAAgC0F,IAAlBD,EAAKoE,SAClB,oCACE,kBAAC6D,EAAA,EAASC,KAAV,CACEhM,QAAS,kBA3KT,SAAC8D,EAAMyM,GACzBzL,EACE,WACA,CAAEC,OAAQjB,EAAKkB,GAAIkD,UAAWqI,GAC9B,CAAErS,MAAO,IACT,kBAAMkH,OAAOC,SAASC,QAAO,MAsKEkL,CAAY1M,EAAMA,EAAKoE,WACtCiD,SAAU9M,EAAWqJ,aAAe5D,EAAK2D,MAAMC,YAE9C5D,EAAKoE,SAAW,OAAS,IAJ5B,eAMA,kBAAC6D,EAAA,EAASC,KAAV,CACEhM,QAAS,kBACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZD,MAAO,kBAAM6F,OAAUF,IACvBJ,UAAW,kBA7KlB,SAACG,GAClBgB,EAAc,aAAc,CAAEC,OAAQjB,EAAKkB,IAAM,GAAG,WAClDI,OAAOC,SAASC,QAAO,MA2KgBT,CAAWf,IAC5B5F,MAAM,cACNwF,QAAQ,uKAIdyH,SAAU9M,EAAWqJ,aAAe5D,EAAK2D,MAAMC,YAZjD,UAgBA,kBAACqE,EAAA,EAASC,KAAV,CAAeb,UAAQ,GAAvB,gBACA,kBAACY,EAAA,EAASG,QAAV,OAGF,GAEF,kBAACH,EAAA,EAASC,KAAV,CAAehM,QAAS,kBAhOlB+E,EAgOmCjB,EAAKkB,QA/N1DF,EACE,iBADW,YAAC,eAGNzG,EAAa,CAAEiK,kBAAmBjK,EAAWqJ,YAAe,IAHvD,IAITjJ,KAAM,wBACN0N,oBAAqB,OACrBC,kBAAmBrH,IAErB,CAAEtG,KAAM,EAAG4N,UAAW,IACtB,WACEC,MAAM,+BACNlH,OAAOC,SAASC,QAAO,MAZV,IAACP,IAgON,UAGC1G,GAAcA,EAAWiI,QACxB,oCACE,kBAACyF,EAAA,EAASG,QAAV,MACA,kBAACH,EAAA,EAASC,KAAV,CAAehM,QAAS,kBArNzB,SAAC8D,GAChBgB,EACE,WACA,CAAEC,OAAQjB,EAAKkB,GAAIR,QAASV,EAAKU,QACjC,CAAEtG,MAAO,IACT,kBAAMkH,OAAOC,SAASC,QAAO,MAgNemL,CAAS3M,KACpCA,EAAKU,OAAS,OAAS,IAD1B,aAKF,IAGJ,kBAACqG,EAAA,EAAKhL,OAAN,eACEiL,UAAU,0BACLzM,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,IAEJ,yCACU,IACR,uBACEmM,KAAI,kCAA6BtH,EAAK2D,MAAMC,YAC5C3I,MAAO,CACLW,MACErB,GAAcA,EAAWS,WACrBG,GAAQ,GACRA,GAAQ,KAGhB,yBACEI,IACEyE,EAAK2D,MAAME,cACP7D,EAAK2D,MAAME,cACXK,sCAENK,IAAKvE,EAAK2D,MAAMC,WAAa,eAC7BpI,QAAS,SAACC,GACRA,EAAEC,OAAOH,IACP2I,uCAEJjJ,MAAO,CACLkB,OAAQ,iBACRsD,OAAQ,MACR5D,MAAO,MACP,aAAc,QACd,gBAAiB,SAElB,IACFmE,EAAK2D,MAAMC,YAEd,6BAhCF,SAiCS,IAAM5D,EAAKwJ,YAM7BtJ,GAAgB,IAGnB,kBAAC2I,EAAA,EAAD,CACE/I,QACGvF,GAAcA,EAAWS,YACU,UAApC,IAAI8N,KAAUC,IAAI,cACd,OACA,SAGN,kBAACF,EAAA,EAAMG,QAAP,qBCgGS4D,EAxYC,SAACzS,GAAW,IAClBI,EAAqCJ,EAArCI,WAAYsS,EAAyB1S,EAAzB0S,cAAe3D,EAAU/O,EAAV+O,MADV,EAGO1O,wBAASyF,GAHhB,mBAGlB6M,EAHkB,KAGRtC,EAHQ,OAIKhQ,wBAASyF,GAJd,mBAIlBwG,EAJkB,KAIT8D,EAJS,OAKS/P,wBAASyF,GALlB,mBAKlBC,EALkB,KAKJC,EALI,OAOa3F,mBAAS,IAPtB,mBAOlBuS,EAPkB,KAOLC,EAPK,OAQiBxS,mBAAS,IAR1B,mBAQlByS,EARkB,KAQHC,EARG,KAyEzB,OA7CAzJ,qBAAU,WACR,IAAM2F,EAAStG,GAAOoG,EAAMG,OAAOlL,IAC9BsI,GAAW2C,IAAW3C,EAAQ7C,YACjCF,EACE,aACA,CAAEE,WAAYwF,GACd,CACEiB,IAAK,EACLzG,WAAY,EACZC,cAAe,EACf6H,eAAgB,EAChBC,qBAAsB,EACtBjL,OAAQ,EACR8B,QAAS,EACToJ,cAAe,CACbjI,MAAO,CAAEC,WAAY,EAAGC,cAAe,GACvCO,SAAU,EACV1D,OAAQ,EACRQ,GAAI,EACJ9G,MAAO,EACPoP,MAAO,EACPnP,WAAY,EACZuG,cAAe,GAEjBiL,MAAO,CACLlI,MAAO,CAAEC,WAAY,EAAGC,cAAe,GACvCO,SAAU,EACV1D,OAAQ,EACRQ,GAAI,EACJ9G,MAAO,EACPwF,QAAS,EACT4J,MAAO,EACPnP,WAAY,EACZuG,cAAe,KAGnB,SAACqC,GACCsH,EAAWtH,GACX+J,EAAe,IACfE,EAAiB,eAMTjN,IAAZwG,EAEA,kBAACoC,EAAA,EAAD,CACE/I,QACGvF,GAAcA,EAAWS,YACU,UAApC,IAAI8N,KAAUC,IAAI,cACd,OACA,SAGN,qDACA,kBAACF,EAAA,EAAMG,QAAP,oBAKU,OAAZvC,EAEA,kBAACoC,EAAA,EAAD,CAAO/I,QAAQ,UACb,kDAAwBoJ,EAAMG,OAAOlL,IACrC,kBAAC0K,EAAA,EAAMG,QAAP,uCACA,sHAQJvC,EAAQ/F,QACNnG,IACCkM,EAAQ7C,aAAerJ,EAAWqJ,YAAerJ,EAAWS,YAe/D,kBAAC0O,EAAA,EAAD,KACE,+BAAQjD,EAAQ7C,WAAhB,qBACC6C,EAAQ/F,QACTnG,GACAkM,EAAQ7C,aAAerJ,EAAWqJ,aACjCrJ,EAAWS,WACV,kBAAC6N,EAAA,EAAD,CACE/I,QAAQ,SACR6J,aAAW,EACXC,QAAS,WACPW,EAAW,2BAAKvK,MAAN,IAAYU,QAAQ,OAGhC,kBAACmI,EAAA,EAAMG,QAAP,gBACA,mRAI6C,uBAAG1B,KAAK,IAAR,QAJ7C,MAQF,GAGF,4BACE,yBACE/L,IACEkL,EAAQ5C,cACJ4C,EAAQ5C,cACRK,sCAENK,IAAKkC,EAAQ7C,WAAa,eAC1BpI,QAAS,SAACC,GACRA,EAAEC,OAAOH,IAAM2I,uCAEjBjJ,MAAO,CACLkB,OAAQ,iBACRsD,OAAQ,MACR5D,MAAO,MACP,aAAc,QACd,gBAAiB,MACjB,eAAgB,MAChBkG,OAAQ,WAEV7F,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZH,MAAOqM,EAAQ7C,WACfvJ,WACEoM,EAAQ5C,cACJ4C,EAAQ5C,cACRK,sCAEN5J,MAAO,kBAAM6F,OAAUF,UAI5B,IACH,0BAAM+G,UAAU,0BAA0BP,EAAQ7C,aAGnD6C,EAAQ4D,KACR9P,GAAcA,EAAWqJ,aAAe6C,EAAQ7C,WAC/C,kBAAC8F,EAAA,EAAD,KACGjD,EAAQ4D,IACL5D,EAAQ4D,IACLN,MAAM,MACNlE,KAAI,SAACmE,GAAD,OAAU,uBAAG/O,MAAO,CAAEgP,WAAY,OAASD,MAClD,GACHzP,GAAcA,EAAWqJ,aAAe6C,EAAQ7C,WAC/C,uBAAG3I,MAAO,CAAEgP,WAAY,MAAQtI,MAAM,cAAtC,eACe,IACb,kBAAC,IAAD,CACEgB,QAASpI,EAAWS,WACpBmS,QAAQ,YACRlR,KAAK,KACLoG,SAAU,SAACM,GACLA,EACFxC,EACE,kBAACiN,EAAD,CACE9S,MAAO,kBAAM6F,OAAUF,IACvB1F,WAAYA,EACZsF,UAAW,YACT,IAAIiJ,KAAUgD,IAAI,cAAc,EAAM,CACpCC,KAAM,MAERc,EAAc,2BACTtS,GADQ,IAEXS,YAAY,KAEdmF,OAAUF,SAKhB,IAAI6I,KAAUgD,IAAI,cAAc,EAAO,CACrCC,KAAM,MAERc,EAAc,2BACTtS,GADQ,IAEXS,YAAY,SAKpB,kBAAC4M,EAAA,EAAD,CACEC,QACE,kBAACC,EAAA,EAAD,CAAS3J,GAAG,kBAAZ,yIAOF,kBAACnC,EAAA,EAAD,CACEf,MAAO,CACLC,gBAAiB,YACjBmS,YAAa,YACb7N,aAAc,MACd5D,MAAOrB,EAAWS,WAAa,QAAU,SAE3CiB,KAAK,MAEL,0BAAM+K,UAAU,yBAKtB,IAIJ,GAGF,kBAAC0C,EAAA,EAAD,KACGnP,IACAA,EAAWqJ,aAAe6C,EAAQ7C,YAAcrJ,EAAWiI,SAC1D,kBAACxG,EAAA,EAAD,CACE8D,QAAQ,YACR5D,QAAS,WACPiE,EACE,kBAAC,EAAD,CACEsG,QAASA,EACTlM,WAAYA,EACZqJ,WAAY6C,EAAQ7C,WACpByG,IAAK5D,EAAQ4D,IACbC,eAAgB7D,EAAQ5C,cACxB0G,WAAYA,EACZC,YAAaA,EACblQ,MAAO,kBAAM6F,OAAUF,QAI7BhE,KAAK,MAhBP,gBAqBA,GACC,IACF1B,GAAcA,EAAWqJ,aAAe6C,EAAQ7C,WAC/C,kBAAC5H,EAAA,EAAD,CACEC,KAAK,KACLC,QAAS,YACP,IAAI4M,KAAUgD,IAAI,UAAW,GAAI,CAAEC,KAAM,OACzC,IAAIjD,KAAUgD,IAAI,aAAc,QAAS,CAAEC,KAAM,MACjDzK,OAAOC,SAASC,QAAO,IAEzB1B,QAAQ,aAPV,WAYA,GAEF,yBAAK7E,MAAO,CAAEkR,MAAO,SAAWxK,MAAM,cAAtC,gBACgB8E,EAAQiF,eADxB,gBACqD,IAClDjF,EAAQkF,uBAGb,6BAECpR,GAAcA,EAAWqJ,aAAe6C,EAAQ7C,WAC/C,kBAAC5H,EAAA,EAAD,CACEE,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE7F,MAAO,kBAAM6F,OAAUF,IACvB1F,WAAYA,EACZ6J,UAAU,EACVzH,SAAU,SAACsG,GAAD,OACRuH,EAAY,kBAAC,IAAD,CAAUlF,GAAE,gBAAWrC,EAAI/B,YAK/CjG,MAAO,CACLY,MAAO,OACPM,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KAnBjE,2BAwBA,GAGF,4BAEA,+CACA,kBAAC,EAAD,CAAY0Q,MAAOpF,EAAQmF,cAAerR,WAAYA,IACtD,4DAAkCkM,EAAQ7C,WAA1C,KACA,kBAACnC,EAAA,EAAD,KACE,kBAACA,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIEiC,MAAOkP,EACP3N,YAAa,uBACbiD,SAAU,SAAC5G,GACTuR,EAAevR,EAAEC,OAAOmC,OACpBpC,EAAEC,OAAOmC,MAAMK,QAAU,EAC3BgP,EAAiB,GAAD,mBACXzG,EAAQoF,MAAMnM,QAAO,SAACM,GAAD,OACtBA,EAAK5F,MACF2J,cACAC,SAASvI,EAAEC,OAAOmC,MAAMkG,mBAJf,YAMX0C,EAAQoF,MAAMnM,QACf,SAACM,GAAD,OACGA,EAAK5F,MACH2J,cACAC,SAASvI,EAAEC,OAAOmC,MAAMkG,gBAC3B/D,EAAKJ,QACFmE,cACAC,SAASvI,EAAEC,OAAOmC,MAAMkG,qBAIjCmJ,EAAiB,SAKxBH,EACC,kBAAC,EAAD,CAAYlB,MAAOoB,EAAe1S,WAAYA,IAE9C,GAGF,kBAACmP,EAAA,EAAD,KACE,kBAAC1N,EAAA,EAAD,CACEf,MAAO,CAAEsE,YAAa,IAAKuK,WAAY,OAAQnO,QAAS,SACxDmE,QAAQ,SACR7D,KAAK,KACLC,QAlXc,WAChBuK,GACFzF,EACE,iBADW,YAAC,eAGNzG,EAAa,CAAEiK,kBAAmBjK,EAAWqJ,YAAe,IAHvD,IAITjJ,KAAM,wBACN0N,oBAAqB,UACrBC,kBAAmB7B,EAAQ7C,aAE7B,CAAEjJ,KAAM,EAAG4N,UAAW,IACtB,WACEC,MAAM,kCACNlH,OAAOC,SAASC,QAAO,QAiWzB,mBAUDtB,GAAgB,GAChB4M,GAAY,IAxRb,kBAACjE,EAAA,EAAD,CAAO/I,QAAQ,UACb,+BAAQ2G,EAAQ7C,WAAhB,qBACA,kBAACiF,EAAA,EAAMG,QAAP,gBACA,uKAEsE,IACpE,0CAHF,OCzCOsE,EAnFF,SAACnT,GAAW,IACfI,EAAeJ,EAAfI,WADc,EAGUC,wBAASyF,GAHnB,mBAGfsN,EAHe,KAGLC,EAHK,OAIYhT,wBAASyF,GAJrB,mBAIfC,EAJe,KAIDC,EAJC,OAKU3F,wBAASyF,GALnB,mBAKf6M,EALe,KAKLtC,EALK,KAyBtB,OAlBA/G,qBAAU,WACRC,EACE,gBACA,GACA,CACEhD,OAAQ,EACRQ,GAAI,EACJ9G,MAAO,EACPuJ,MAAO,CAAEC,WAAY,EAAGC,cAAe,GACvC2F,MAAO,EACPvN,KAAM,EACN5B,WAAY,EACZuG,cAAe,IAEjB,SAACqC,GAAD,OAASuK,EAAYvK,QAEtB,IAGD,kBAACyG,EAAA,EAAD,KACE,gDACA,wBAAI1C,UAAU,yBAAd,YACA,kBAAC0C,EAAA,EAAD,CAAW1C,UAAU,eAArB,8EAIA,4BAEA,kBAACY,EAAA,EAAD,CACEC,QACGtN,EAGC,4BAFA,kBAACuN,EAAA,EAAD,CAAS3J,GAAG,oBAAZ,0BAKJlD,MAAO,CAAEY,MAAO,SAEhB,0BAAMmL,UAAU,iBAAiB/L,MAAO,CAAEY,MAAO,SAC/C,kBAACG,EAAA,EAAD,CACEE,QAAS,WACPiE,EACE,kBAAC,EAAD,CACEiE,UAAU,EACV7J,WAAYA,EACZD,MAAO,kBAAM6F,OAAUF,IACvBtD,SAAU,SAACsG,GAAD,OACRuH,EAAY,kBAAC,IAAD,CAAUlF,GAAE,gBAAWrC,EAAI/B,YAK/CmG,UAAW9M,EACXU,MAAO,CACLY,MAAO,OACP6L,cAAenN,EAAa,OAAS,OACrC4B,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,KArBjE,6BA2BJ,4BAEA,+CACA,kBAAC,EAAD,CAAY0Q,MAAO0B,EAAUhT,WAAYA,IACxC2F,GAAgB,GAChB4M,GAAY,K,SCgCJW,EAhHI,SAACtT,GAAW,IACrBI,EAAqCJ,EAArCI,WAAYsS,EAAyB1S,EAAzB0S,cAAevS,EAAUH,EAAVG,MADP,EAGJE,oBAAS,GAHL,mBAGrBC,EAHqB,KAGfC,EAHe,OAIJF,mBAAS,IAJL,mBAIrBG,EAJqB,KAIfC,EAJe,OAMQJ,mBAAS,IANjB,mBAMrBoJ,EANqB,KAMT8J,EANS,OAOIlT,mBAAS,IAPb,mBAOrBmT,EAPqB,KAOXC,EAPW,KAkC5B,OACE,kBAAC/S,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,gBAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACsG,EAAA,EAAKU,MAAN,qBACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIEiC,MAAO+F,EACPvB,SAAU,SAAC5G,GAAD,OAAOiS,EAAcjS,EAAEC,OAAOmC,WAE1C,kBAAC4D,EAAA,EAAKU,MAAN,kBACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIE8G,KAAK,WACL7E,MAAO8P,EACPtL,SAAU,SAAC5G,GAAD,OAAOmS,EAAYnS,EAAEC,OAAOmC,WAEvClD,GAAc,IAEjB,kBAACE,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACE8D,QAAQ,UACR7E,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/De,QAAS,kBACP0H,EACI+J,EAjFF,WACZ,IAAMpC,EAAezI,GAAOc,GACtBiK,EAAS/K,GAAO6K,GAEtB3M,EACE,eACA,CAAE4C,WAAY2H,EAAcoC,SAAUE,GACtC,CAAEjK,WAAY,EAAGC,cAAe,EAAGrB,QAAS,IAC5C,SAACS,GACKA,IACF,IAAI6F,KAAUgD,IAAI,UAAWlI,EAAY,CAAEmI,KAAM,MACjDc,EAAc5J,GACdvI,GAAQ,GACRJ,KAEAM,EACE,yBAAKK,MAAO,CAAEW,MAAO,QAArB,kEAkEQkS,GACAlT,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,kCAIJhB,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,kCAlBV,cCwDKmS,EAvIK,SAAC5T,GAAW,IACtBI,EAAqCJ,EAArCI,WAAYsS,EAAyB1S,EAAzB0S,cAAevS,EAAUH,EAAVG,MADN,EAELE,oBAAS,GAFJ,mBAEtBC,EAFsB,KAEhBC,EAFgB,OAGLF,mBAAS,IAHJ,mBAGtBG,EAHsB,KAGhBC,EAHgB,OAKOJ,mBAAS,IALhB,mBAKtBoJ,EALsB,KAKV8J,EALU,OAMHlT,mBAAS,IANN,mBAMtBuQ,EANsB,KAMfC,EANe,OAOHxQ,mBAAS,IAPN,mBAOtByQ,EAPsB,KAOfC,EAPe,KA+BvB8C,EAAgB,WACpB,IAAMzC,EAAezI,OAAOc,GACtBiK,EAAS/K,OAAOiI,GACtB/J,EACE,gBACA,CAAE4C,WAAY2H,EAAcoC,SAAUE,GACtC,CAAEjK,WAAY,EAAGC,cAAe,EAAGrB,QAAS,IAC5C,SAACS,GACKA,KACF,IAAI6F,KAAUgD,IAAI,UAAWlI,EAAY,CAAEmI,KAAM,MACjDc,EAAc5J,GACdvI,GAAQ,GACRJ,SAMR,OACE,kBAACO,EAAA,EAAD,CACEJ,KAAMA,EACNK,OAAQ,WACNJ,GAAQ,GACRJ,MAGF,kBAACO,EAAA,EAAME,OAAP,iBACOR,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAHN,CAIEC,aAAW,IAEX,kBAACP,EAAA,EAAMQ,MAAP,mCAEF,kBAACoG,EAAA,EAAD,KACE,kBAAC5G,EAAA,EAAMS,KACAf,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACsG,EAAA,EAAKwM,MAAN,KACE,kBAACxM,EAAA,EAAKU,MAAN,qBACA,kBAACV,EAAA,EAAKW,QAAN,CACEvE,MAAO+F,EACPvB,SAAU,SAAC5G,GAAD,OAAOiS,EAAcjS,EAAEC,OAAOmC,UAE1C,kBAAC4D,EAAA,EAAKU,MAAN,yBACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIE8G,KAAK,WACL7E,MAAOkN,EACP1I,SAAU,SAAC5G,GAAD,OAAOuP,EAASvP,EAAEC,OAAOmC,WAErC,kBAAC4D,EAAA,EAAKU,MAAN,0BACA,kBAACV,EAAA,EAAKW,QAAN,iBACO7H,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,GAAIS,MAAO,UAC/C,GAHN,CAIE8G,KAAK,WACL7E,MAAOoN,EACP5I,SAAU,SAAC5G,GAAD,OAAOyP,EAASzP,EAAEC,OAAOmC,YAGtClD,GAAc,IAEjB,kBAACE,EAAA,EAAMkB,OACAxB,GAAcA,EAAWS,WAC1B,CAAEC,MAAO,CAAEC,gBAAiBC,GAAQ,KACpC,GAEJ,kBAACa,EAAA,EAAD,CACE8D,QAAQ,UACR7E,MAAO,CACLkB,OAAO,aAAD,OAAehB,GAAQ,IAC7BD,gBAAiBC,GAAQ,IAE3BiB,aAAc,SAACX,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/DkB,aAAc,SAACZ,GAAD,OAAQA,EAAEC,OAAOT,MAAMC,gBAAkBC,GAAQ,IAC/De,QAAS,kBACP0H,EACImH,EAxGW,WACzB,GAAIA,IAAUE,EACZrQ,EAAQ,yBAAKK,MAAO,CAAEW,MAAO,QAArB,8BACL,CACH,IAAM2P,EAAezI,OAAOc,GAC5BF,EACE,aACA,CAAEE,WAAY2H,GACd,CAAE3H,WAAY,IACd,SAACX,GACKA,EACFrI,EACE,yBAAKK,MAAO,CAAEW,MAAO,QAArB,iCAGFoS,QA0FQE,GACAtT,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,gCAIJhB,EACE,0BAAMK,MAAO,CAAEW,MAAO,QAAtB,+BAlBV,eC7BKuS,EA5EQ,SAAChU,GAAW,IACzBI,EAA8BJ,EAA9BI,WAAYsS,EAAkB1S,EAAlB0S,cADY,EAEErS,wBAASyF,GAFX,mBAEzBC,EAFyB,KAEXC,EAFW,KAIhC,YAAmBF,IAAf1F,GAA2C,OAAfA,EAE5B,kBAAC6T,EAAA,EAAOC,KAAR,8BACyB,IACvB,kBAACrS,EAAA,EAAD,CACE8D,QAAQ,QACR5D,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZsS,cAAeA,EACfvS,MAAO,kBAAM6F,OAAUF,QAI7BhE,KAAK,MAXP,UAcU,IAhBZ,KAiBK,IACH,kBAACD,EAAA,EAAD,CACE8D,QAAQ,QACR5D,QAAS,WACPiE,EACE,kBAAC,EAAD,CACE5F,WAAYA,EACZsS,cAAeA,EACfvS,MAAO,kBAAM6F,OAAUF,QAI7BhE,KAAK,MAXP,WAeCiE,GAAgB,IAMrB,kBAACkO,EAAA,EAAOC,KAAR,CACEpT,MAAO,CAAEW,MAAOrB,GAAcA,EAAWS,WAAa,OAAS,KADjE,wBAGwB,IACtB,uBACEsM,KAAI,kCAA6B/M,EAAWqJ,YAC5C3I,MAAO,CAAEW,MAAOrB,GAAcA,EAAWS,WAAa,QAAU,KAEhE,yBACEO,IACEhB,EAAWsJ,cACPtJ,EAAWsJ,cACXK,sCAEN1I,QAAS,SAACC,GACRA,EAAEC,OAAOH,IAAM2I,uCAEjBjJ,MAAO,CACLkB,OAAQ,iBACRsD,OAAQ,MACR5D,MAAO,MACP,aAAc,QACd,gBAAiB,SAElB,IACFtB,EAAWqJ,c,QC9Dd0K,EAAc7R,EAAQ,KA4Gb8R,EA1GH,WAAO,IAAD,EACoB/T,wBAASyF,GAD7B,mBACT1F,EADS,KACGsS,EADH,KAmDhB,OAhDApJ,qBAAU,WACR,QAAmBxD,IAAf1F,EAA0B,CAC5B,IAAMiU,EAAU,IAAI1F,IACd2F,EAAe3L,OAAO0L,EAAQzF,IAAI,YAEnC0F,GAAiC,KAAjBA,GACnBD,EAAQ1C,IAAI,aAAc,QAAS,CAAEC,KAAM,MAE7C/K,EACE,eACA,CAAE4C,WAAY6K,GACd,CAAE7K,WAAY,EAAGC,cAAe,EAAGrB,QAAS,IAC5C,SAACS,GACKA,GACFA,EAAIjI,WAA2C,SAA9BwT,EAAQzF,IAAI,cAC7B8D,EAAc5J,KAEduL,EAAQ1C,IAAI,UAAW,GAAI,CAAEC,KAAM,MACnCyC,EAAQ1C,IAAI,aAAc,QAAS,CAAEC,KAAM,UAOb,UAApC,IAAIjD,KAAUC,IAAI,eACjBxO,GAAcA,EAAWS,YAE1B0T,SAASC,eAAe,QAAQ1T,MAAM2T,gBAAtC,8EAGEzT,GAAQ,GAHV,wBAIEA,GAAQ,GAJV,0CAOAuT,SAASC,eAAe,QAAQ1T,MAAMW,MAAQ,uBAE9C8S,SAASC,eAAe,QAAQ1T,MAAM2T,gBAAtC,sKAOAF,SAASC,eAAe,QAAQ1T,MAAMW,MAAQ,OAKhD,kBAAC8N,EAAA,EAAD,KACE,kBAAC0E,EAAA,EAAD,CAAQS,OAAO,MACb,kBAACT,EAAA,EAAOU,MAAR,CAAcxH,KAAK,iBACjB,yBACEA,KAAK,gBACL/L,IAAK2I,yBACLK,IAAI,oBACJtJ,MAAO,CAAEY,MAAO,WAGpB,uBAAGyL,KAAK,0EACN,2BAAO3F,MAAM,cAAb,YAAoC2M,EAAYS,UAElD,kBAACX,EAAA,EAAOY,OAAR,CAAeC,gBAAc,mBAAmBjI,UAAU,aAC1D,kBAACoH,EAAA,EAAOc,SAAR,CAAiB/Q,GAAG,mBAAmB6I,UAAU,uBAC/C,kBAAC,EAAD,CACEzM,WAAYA,EACZsS,cAAeA,MAIrB,kBAAC,IAAD,KACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CACEd,KAAK,IACLoD,OAAQ,SAAChV,GAAD,OAAW,kBAAC,EAAD,iBAAUA,EAAV,CAAiBI,WAAYA,MAChD6U,OAAK,IAEP,kBAAC,IAAD,CACErD,KAAK,YACLoD,OAAQ,SAAChV,GAAD,OACN,kBAAC,EAAD,iBAAUA,EAAV,CAAiBI,WAAYA,EAAY4G,QAASA,UAGtD,kBAAC,IAAD,CACE4K,KAAK,eACLoD,OAAQ,SAAChV,GAAD,OACN,kBAAC,EAAD,iBACMA,EADN,CAEEI,WAAYA,EACZsS,cAAeA,UAMzB,kBAACuB,EAAA,EAAD,CAAQpH,UAAU,cAChB,2BAAOrF,MAAM,cAAb,0CAEF,oEC9GA0N,GAAYC,EAFY7S,EAAQ,KAA9B6S,mBAE4B,CAClCC,IAAK9S,EAAQ,IAAkB+S,aAG3B9L,EAAa,SAACrG,EAAOoS,EAAYC,EAAY/S,GACjD0S,EAAU,CACRhS,MAAM,SAAD,OAAWA,GAAX,OAAmBsS,EAAiBF,IAApC,OAAkDG,GACrDF,GADG,OAGJjS,MAAK,SAACwF,EAAK4M,GACRA,GAAKrH,MAAMqH,GACX5M,EAAIvF,KAAMf,EAASsG,EAAIvF,KAAKL,IAC3BmL,MAAM,+CAITxH,EAAgB,SAAC3D,EAAOoS,EAAYC,EAAY/S,EAAU/B,GAC1DA,GACFA,EAAQ,YAAD,OACOyC,GADP,OACesS,EAAiBF,IADhC,OAC8CG,GACjDF,GAFG,MAKTL,EAAU,CACRhS,MAAM,YAAD,OAAcA,GAAd,OAAsBsS,EAAiBF,IAAvC,OAAqDG,GACxDF,GADG,OAGJjS,MAAK,SAACwF,EAAK4M,GACRA,GAAKrH,MAAMqH,GACX5M,EAAIvF,KAAMf,EAASsG,EAAIvF,KAAKL,IAC3BmL,MAAM,kDAITmH,EAAmB,SAACF,GAAD,OACvB9G,OAAOC,KAAK6G,GAAYvR,OAAS,EAAjC,WACQyK,OAAOC,KAAK6G,GACb5J,KACC,SAACiK,GAAD,gBACKA,EADL,YAC2C,kBAAtBL,EAAWK,GAAsB,IAAM,IAD5D,OAEIL,EAAWK,IAFf,OAGkC,kBAAtBL,EAAWK,GAAsB,IAAM,OAEpDC,KAAK,KARZ,KASI,IAEAH,GAAmB,SAAnBA,EAAoBF,GAAD,OACvB/G,OAAOC,KAAK8G,GAAYxR,OAAS,EAAjC,WACQyK,OAAOC,KAAK8G,GACb7J,KAAI,SAACmK,GAAD,OAAeA,EAAYJ,EAAiBF,EAAWM,OAC3DD,KAAK,KAHZ,KAII,IAEAjN,GAAS,SAACgB,GAAD,IAAOmM,EAAP,+DACbnM,EACImM,EACEnM,EAAKoM,QAAQ,KAAM,OAAOA,QAAQ,KAAM,OAAOA,QAAQ,OAAvD,UACApM,EAAKoM,QAAQ,MAAO,IAAIA,QAAQ,MAAhC,QAA+CA,QAAQ,KAAvD,OACFpM,GAEA3I,GAAU,CACd,qBACA,qBACA,oBACA,gBACA,gBACA,iBAKFgV,IAAShB,OAAO,kBAAC,EAAD,MAAST,SAASC,eAAe,U,iBCzEjDyB,EAAOC,QAAU,CAAEb,WAJf,qEAI2BhT,aAFV,sC","file":"static/js/main.fb6f7cbf.chunk.js","sourcesContent":["import React, { useState } from \"react\";\nimport { Modal, Button } from \"react-bootstrap\";\n\nimport { palette } from \"../index\";\n\nconst PictureModal = (props) => {\n  const { title, pictureURL, close, loggedInAs } = props;\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[4] } }\n          : {})}\n      >\n        <img\n          src={pictureURL}\n          onError={(e) => {\n            e.target.style.display = \"none\";\n            setInfo(<span style={{ color: \"red\" }}>Picture not found!</span>);\n          }}\n          style={{\n            width: \"100%\",\n            maxHeight: \"70vh\",\n            \"object-fit\": \"contain\",\n          }}\n        />\n        {info ? info : \"\"}\n      </Modal.Body>\n      <Modal.Footer\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n      >\n        <Button\n          size=\"sm\"\n          onClick={() => {\n            setShow(false);\n            close();\n          }}\n          style={{\n            border: `1px solid ${palette[2]}`,\n            backgroundColor: palette[0],\n          }}\n          onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n          onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n        >\n          Thanks for showing me this {Math.random() < 0.5 ? \"cool\" : \"neat\"}{\" \"}\n          picture!\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default PictureModal;\n","import React, { useState } from \"react\";\n\nimport { AsyncTypeahead, TypeaheadMenu } from \"react-bootstrap-typeahead\";\n\nimport { palette } from \"./index\";\n\nconst { BING_API_KEY } = require(\"./apolloURL\");\n\nconst SearchImage = (props) => {\n  const { callback, loggedInAs } = props;\n  const [isLoading, setIsLoading] = useState(false);\n  const [options, setOptions] = useState([]);\n  const [page, setPage] = useState(0);\n  const [lastQuery, setLastQuery] = useState(\"\");\n\n  const BLURAMOUNT = 10;\n\n  const handleSearch = (query) => {\n    setIsLoading(true);\n\n    fetch(\n      \"https://api.cognitive.microsoft.com/bing/v7.0/images/search?q=\" +\n        encodeURIComponent(query) +\n        `&count=20&safeSearch=${\n          loggedInAs && loggedInAs.unsafeMode ? \"Off\" : \"Strict\"\n        }&offset=` +\n        (query !== lastQuery ? 0 : page * 20),\n      {\n        headers: {\n          \"Ocp-Apim-Subscription-Key\": BING_API_KEY,\n        },\n      }\n    )\n      .then((data) => data.json())\n      .then((data) => {\n        const newOptions = data.value.reduce(\n          (p, hit, i) =>\n            (i + options.length) % 2 == 0\n              ? [\n                  ...p,\n                  {\n                    id: \"(Image Selected)\",\n                    urls: [hit.thumbnailUrl],\n                    longUrls: [hit.contentUrl],\n                    isFamilyFriendly: [hit.isFamilyFriendly],\n                  },\n                ]\n              : [\n                  ...p.slice(0, p.length - 1),\n                  {\n                    id: \"(Image Selected)\",\n                    urls: [p[p.length - 1].urls[0], hit.thumbnailUrl],\n                    longUrls: [p[p.length - 1].longUrls[0], hit.contentUrl],\n                    isFamilyFriendly: [\n                      p[p.length - 1].isFamilyFriendly[0],\n                      hit.isFamilyFriendly,\n                    ],\n                  },\n                ],\n          query !== lastQuery ? [] : options\n        );\n        setOptions(newOptions);\n\n        if (query !== lastQuery) {\n          setPage(1);\n        } else {\n          setPage(page + 1);\n        }\n        setLastQuery(query);\n        setIsLoading(false);\n      })\n      .catch(console.log);\n  };\n\n  return (\n    <AsyncTypeahead\n      id=\"async-example\"\n      isLoading={isLoading}\n      filterBy={() => true}\n      labelKey=\"id\"\n      minLength={2}\n      onSearch={handleSearch}\n      maxResults={9}\n      onPaginate={() => handleSearch(lastQuery)}\n      useCache={false}\n      options={options}\n      placeholder=\"Search for an image...\"\n      renderMenuItemChildren={(option) => (\n        <div>\n          <img\n            onClick={() =>\n              callback(option.longUrls[0], option.isFamilyFriendly[0])\n            }\n            src={option.urls[0]}\n            style={{\n              marginRight: \"10px\",\n              borderRadius: \"4px\",\n              width: \"50%\",\n              height: \"auto\",\n              ...(option.isFamilyFriendly[0]\n                ? {}\n                : {\n                    \"-webkit-filter\": \"blur(\" + BLURAMOUNT + \"px)\",\n                    filter: \"blur(\" + BLURAMOUNT + \"px)\",\n                  }),\n            }}\n          />\n          {option.urls.length === 2 ? (\n            <img\n              onClick={() =>\n                callback(option.longUrls[1], option.isFamilyFriendly[1])\n              }\n              src={option.urls[1]}\n              style={{\n                marginRight: \"10px\",\n                borderRadius: \"4px\",\n                width: \"50%\",\n                height: \"auto\",\n                ...(option.isFamilyFriendly[1]\n                  ? {}\n                  : {\n                      \"-webkit-filter\": \"blur(\" + BLURAMOUNT + \"px)\",\n                      filter: \"blur(\" + BLURAMOUNT + \"px)\",\n                    }),\n              }}\n            />\n          ) : (\n            \"\"\n          )}\n        </div>\n      )}\n    />\n  );\n};\n\nexport default SearchImage;\n","import React, { useState } from \"react\";\n\nimport { Modal, Button } from \"react-bootstrap\";\n\nimport { palette } from \"../index\";\n\nconst ConfirmModal = (props) => {\n  const { title, content, onConfirm, close, loggedInAs } = props;\n  const [show, setShow] = useState(true);\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>{title}</Modal.Title>\n      </Modal.Header>\n      <Modal.Body\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[4] } }\n          : {})}\n      >\n        {content}\n      </Modal.Body>\n      <Modal.Footer\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n      >\n        <Button\n          variant=\"danger\"\n          onClick={() => {\n            setShow(false);\n            close();\n          }}\n        >\n          No!\n        </Button>\n        <Button\n          variant=\"primary\"\n          onClick={onConfirm}\n          style={{\n            border: `1px solid ${palette[2]}`,\n            backgroundColor: palette[0],\n          }}\n          onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n          onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n        >\n          Yes!\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default ConfirmModal;\n","import React, { useState } from \"react\";\n\nimport { mutation_call, palette, escape } from \"../index\";\n\nimport { Modal, Form, Button } from \"react-bootstrap\";\n\nimport SearchImage from \"../SearchImage\";\nimport ConfirmModal from \"./ConfirmModal\";\n\nconst EditNodeModal = (props) => {\n  const { node, close, loggedInAs } = props;\n\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n  const [showingModal, showModal] = useState(undefined);\n\n  const [title, setTitle] = useState(node.title);\n  const [content, setContent] = useState(node.content);\n  const [picture, setPicture] = useState(node.pictureURL);\n  const [showChangePic, setShowChangePic] = useState(false);\n  const [hidden, setHidden] = useState(node.hidden);\n\n  const [shouldHide, setShouldHide] = useState(node.pictureUnsafe || false);\n\n  const deletePage = () => {\n    mutation_call(\"deleteNode\", { nodeID: node.ID }, 0, () => {\n      history.back();\n      setTimeout(() => window.location.reload(false), 100);\n    });\n  };\n\n  const editNode = () => {\n    const esTitle = escape(title);\n    const esContent = escape(content, true);\n    const esPicture = picture.length > 0 ? escape(picture) : null;\n\n    mutation_call(\n      \"editNode\",\n      {\n        nodeID: node.ID,\n        title: esTitle,\n        content: `\"\"${esContent}\"\"`,\n        pictureURL: esPicture,\n        ...(shouldHide\n          ? { hidden: true, pictureUnsafe: true }\n          : { pictureUnsafe: false }),\n        ...(!shouldHide && hidden !== undefined && !node.pictureUnsafe\n          ? { hidden }\n          : {}),\n      },\n      { ID: 0 },\n      (res) => {\n        if (res) {\n          window.location.reload(false);\n        }\n      }\n    );\n  };\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Editing Page</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          {picture ? (\n            <>\n              <div\n                style={{\n                  border: \"1px solid #eee\",\n                  borderRadius: \"8px\",\n                }}\n              >\n                <img\n                  src={picture}\n                  onError={(e) => {\n                    setInfo(\n                      <span style={{ color: \"red\" }}>Picture not found!</span>\n                    );\n                    setPicture(\"\");\n                    setShouldHide(false);\n                  }}\n                  style={{\n                    padding: \"1px\",\n                    width: \"100%\",\n                    \"object-fit\": \"contain\",\n                    borderRadius: \"8px\",\n                  }}\n                />\n                <span\n                  class=\"fa fa-times\"\n                  style={{\n                    position: \"absolute\",\n                    top: \"1.5em\",\n                    right: \"1.5em\",\n                    color: \"#888\",\n                    cursor: \"pointer\",\n                    textShadow:\n                      \"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white\",\n                  }}\n                  onMouseEnter={(e) => (e.target.style.color = \"#555\")}\n                  onMouseLeave={(e) => (e.target.style.color = \"#888\")}\n                  onClick={() => {\n                    setPicture(\"\");\n                    setShouldHide(false);\n                  }}\n                />\n              </div>\n\n              <br />\n            </>\n          ) : (\n            \"\"\n          )}\n\n          <div class=\"row no-gutters\">\n            <div class=\"col\">Picture:</div>\n            <div class=\"col small text-muted text-center\">\n              {!picture\n                ? \"(Don't use any picture)\"\n                : picture === node.pictureURL\n                ? \"(Use existing picture)\"\n                : \"(Use new picture)\"}\n            </div>\n            <div class=\"col text-right\">\n              <Button\n                variant={\n                  loggedInAs && loggedInAs.unsafeMode ? \"secondary\" : \"light\"\n                }\n                size=\"sm\"\n                onClick={() => setShowChangePic(!showChangePic)}\n              >\n                {picture ? \"Change\" : \"Select\"} Picture\n              </Button>\n            </div>\n          </div>\n          {showChangePic ? (\n            <SearchImage\n              loggedInAs={loggedInAs}\n              callback={(url, familyFriendly) => {\n                setPicture(url);\n                setInfo(\"\");\n                setShowChangePic(false);\n                setShouldHide(!familyFriendly);\n              }}\n            />\n          ) : (\n            \"\"\n          )}\n          <Form.Label>Title:</Form.Label>\n          <Form.Control\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n          />\n          <Form.Label>Content:</Form.Label>\n          <Form.Control\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            as=\"textarea\"\n            rows=\"3\"\n            value={content}\n            onChange={(e) => setContent(e.target.value)}\n          />\n          {loggedInAs && loggedInAs.isAdmin ? (\n            <>\n              <Form.Label>Admin Controls:</Form.Label>\n              <Form.Check\n                type=\"checkbox\"\n                checked={hidden || false}\n                onChange={(e) => setHidden(e.target.checked)}\n                label=\"Page should be hidden\"\n                id=\"hide\"\n              />\n            </>\n          ) : (\n            \"\"\n          )}\n          {info ? info : \"\"}\n          {shouldHide ? (\n            <span style={{ color: \"red\" }}>\n              <br />\n              The image chosen will cause the page to automatically be hidden.\n              If you would like to not have this happen, change or remove the\n              image.\n            </span>\n          ) : (\n            \"\"\n          )}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            onClick={() =>\n              title\n                ? content\n                  ? editNode()\n                  : setInfo(\n                      <span style={{ color: \"red\" }}>\n                        Content cannot be empty!\n                      </span>\n                    )\n                : setInfo(\n                    <span style={{ color: \"red\" }}>Title cannot be empty!</span>\n                  )\n            }\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Edit Page!\n          </Button>\n          <Button\n            variant=\"danger\"\n            onClick={() => {\n              showModal(\n                <ConfirmModal\n                  loggedInAs={loggedInAs}\n                  close={() => showModal(undefined)}\n                  onConfirm={deletePage}\n                  title=\"Delete Page\"\n                  content=\"This will erase all suggested choices of this page, and their associated scores. This will NOT delete sub-pages of this page. Are you sure you wish to continue?\"\n                />\n              );\n            }}\n          >\n            Delete\n          </Button>\n        </Modal.Footer>\n      </Form>\n      {showingModal || \"\"}\n    </Modal>\n  );\n};\n\nexport default EditNodeModal;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Typeahead } from \"react-bootstrap-typeahead\";\n\nimport { query_call } from \"../index\";\n\nconst SearchPage = (props) => {\n  const { callback, toID } = props;\n  const [allNodes, setAllNodes] = useState(undefined);\n  const [toNode, setToNode] = useState(undefined);\n\n  const filterByCallback = (node, props) => {\n    if (props.text === \"\") {\n      callback(\"\");\n      return true;\n    }\n    return (\n      node.title.toLowerCase().includes(props.text.toLowerCase()) ||\n      node.owner.screenName.toLowerCase().includes(props.text.toLowerCase())\n    );\n  };\n\n  useEffect(() => {\n    if (toID) {\n      query_call(\"getNode\", { ID: toID }, { title: 0, ID: 0 }, (res) =>\n        setToNode(res)\n      );\n    } else setToNode(null);\n\n    query_call(\n      \"allNodes\",\n      {},\n      { title: 0, owner: { screenName: 0, profilePicURL: 0 }, ID: 0 },\n      (res) => setAllNodes(res)\n    );\n  }, []);\n\n  if (!allNodes || toNode === undefined) return <div>Loading...</div>;\n\n  return (\n    <Typeahead\n      filterBy={filterByCallback}\n      defaultSelected={[toNode ? toNode.title : \"\"]}\n      labelKey=\"title\"\n      options={allNodes}\n      placeholder=\"(Leave Empty to Create New Page)\"\n      renderMenuItemChildren={(node) => (\n        <div onClick={() => callback(node.ID)}>\n          {node.title}\n          <div>\n            <small>\n              Author:{\" \"}\n              <img\n                src={\n                  node.owner.profilePicURL\n                    ? node.owner.profilePicURL\n                    : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n                }\n                onError={(e) => {\n                  e.target.src =\n                    process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\";\n                }}\n                style={{\n                  border: \"1px solid #bbb\",\n                  height: \"2em\",\n                  width: \"2em\",\n                  \"object-fit\": \"cover\",\n                  \"border-radius\": \"50%\",\n                }}\n              />{\" \"}\n              {node.owner.screenName}\n            </small>\n          </div>\n        </div>\n      )}\n    />\n  );\n};\n\nexport default SearchPage;\n","import React, { useState } from \"react\";\nimport { Form, Button, Modal } from \"react-bootstrap\";\n\nimport { escape, mutation_call, palette } from \"../index\";\n\nimport SearchImage from \"../SearchImage\";\n\nconst CreateNodeModal = (props) => {\n  const {\n    loggedInAs,\n    callback,\n    picture,\n    pictureUnsafe,\n    close,\n    featured,\n  } = props;\n\n  const [title, setTitle] = useState(\"\");\n  const [content, setContent] = useState(\"\");\n  const [pictureField, setPictureField] = useState(picture);\n  const [showChangePic, setShowChangePic] = useState(false);\n\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n  const [shouldHide, setShouldHide] = useState(pictureUnsafe);\n\n  const createNode = () => {\n    const esTitle = escape(title);\n    const esContent = escape(content, true);\n    const esPicture = escape(pictureField);\n    mutation_call(\n      \"createNode\",\n      {\n        accountScreenName: loggedInAs.screenName,\n        title: esTitle,\n        content: `\"\"${esContent}\"\"`,\n        featured: featured || false,\n        ...(shouldHide ? { hidden: true, pictureUnsafe: true } : {}),\n        ...(esPicture && esPicture.length ? { pictureURL: esPicture } : {}),\n      },\n      { ID: 0 },\n      callback ||\n        (() => {\n          window.location.reload(false);\n        })\n    );\n  };\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Creating New Page</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          {pictureField ? (\n            <>\n              <div\n                style={{\n                  border: \"1px solid #eee\",\n                  borderRadius: \"8px\",\n                }}\n              >\n                <img\n                  src={pictureField}\n                  onError={() => {\n                    setInfo(\n                      <span style={{ color: \"red\" }}>Picture not found!</span>\n                    );\n                    setPictureField(\"\");\n                    setShouldHide(false);\n                  }}\n                  alt=\"This shouldn't have happened\"\n                  style={{\n                    padding: \"1px\",\n                    width: \"100%\",\n                    \"object-fit\": \"contain\",\n                    borderRadius: \"8px\",\n                  }}\n                />\n                <span\n                  class=\"fa fa-times\"\n                  style={{\n                    position: \"absolute\",\n                    top: \"1.5em\",\n                    right: \"1.5em\",\n                    color: \"#888\",\n                    cursor: \"pointer\",\n                    textShadow:\n                      \"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white\",\n                  }}\n                  onMouseEnter={(e) => (e.target.style.color = \"#555\")}\n                  onMouseLeave={(e) => (e.target.style.color = \"#888\")}\n                  onClick={() => {\n                    setPictureField(\"\");\n                    setShouldHide(false);\n                  }}\n                />\n              </div>\n\n              <br />\n            </>\n          ) : (\n            \"\"\n          )}\n\n          <div class=\"row no-gutters\">\n            <div class=\"col\">Picture:</div>\n            <div class=\"col small text-muted text-center\">\n              {!pictureField ? \"(Don't use any picture)\" : \"(Use new picture)\"}\n            </div>\n            <div class=\"col text-right\">\n              <Button\n                variant={\n                  loggedInAs && loggedInAs.unsafeMode ? \"secondary\" : \"light\"\n                }\n                size=\"sm\"\n                onClick={() => setShowChangePic(!showChangePic)}\n              >\n                {pictureField ? \"Change\" : \"Select\"} Picture\n              </Button>\n            </div>\n          </div>\n          {showChangePic ? (\n            <SearchImage\n              loggedInAs={loggedInAs}\n              callback={(url, familyFriendly) => {\n                setPictureField(url);\n                setShowChangePic(false);\n                setShouldHide(!familyFriendly);\n              }}\n            />\n          ) : (\n            \"\"\n          )}\n          <Form.Label>Title:</Form.Label>\n          <Form.Control\n            value={title}\n            onChange={(e) => setTitle(e.target.value)}\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n          />\n          <Form.Label>Content:</Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            rows=\"3\"\n            value={content}\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            onChange={(e) => setContent(e.target.value)}\n          />\n          {info || \"\"}\n          {shouldHide ? (\n            <span style={{ color: \"red\" }}>\n              The image chosen will cause the page to automatically be hidden.\n              If you would like to not have this happen, change or remove the\n              image.\n            </span>\n          ) : (\n            \"\"\n          )}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            onClick={() =>\n              title\n                ? content\n                  ? createNode()\n                  : setInfo(\n                      <span style={{ color: \"red\" }}>\n                        Content cannot be empty!\n                      </span>\n                    )\n                : setInfo(\n                    <span style={{ color: \"red\" }}>Title cannot be empty!</span>\n                  )\n            }\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Create Page!\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default CreateNodeModal;\n","import React, { useState } from \"react\";\n\nimport { Modal, Button, Form } from \"react-bootstrap\";\n\nimport SearchPage from \"../Node/SearchPage\";\n\nimport CreateNodeModal from \"./CreateNodeModal\";\n\nimport { mutation_call, escape, palette } from \"../index\";\n\nconst SuggestChoiceModal = (props) => {\n  const { loggedInAs, fromNode, close } = props;\n\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n\n  const [toPage, setToPage] = useState(\"\");\n  const [suggestAction, setSuggestAction] = useState(\"\");\n  const [showingModal, showModal] = useState(\"\");\n\n  const createNewAction = (toID) => {\n    if (!toID) {\n      showModal(\n        <CreateNodeModal\n          loggedInAs={loggedInAs}\n          picture={fromNode.pictureURL}\n          pictureUnsafe={fromNode.pictureUnsafe}\n          callback={(node) => createNewAction(node.ID)}\n          close={() => showModal(undefined)}\n        />\n      );\n    } else {\n      const escaped = escape(suggestAction);\n      mutation_call(\n        \"suggestChoice\",\n        {\n          accountScreenName: loggedInAs.screenName,\n          fromID: fromNode.ID,\n          action: escaped,\n          toID,\n        },\n        { ID: 0 },\n        () => {\n          window.location.reload(false);\n        }\n      );\n    }\n  };\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Suggesting New Choice</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          <Form.Label>Action:</Form.Label>\n          <Form.Control\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            value={suggestAction}\n            onChange={(e) => setSuggestAction(e.target.value)}\n          />\n          <Form.Label>Go to Page:</Form.Label>\n          <SearchPage callback={(nodeID) => setToPage(nodeID)} toID={toPage} />\n          {info ? info : \"\"}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            onClick={() =>\n              suggestAction\n                ? createNewAction(toPage)\n                : setInfo(\n                    <span style={{ color: \"red\" }}>\n                      Action cannot be empty!\n                    </span>\n                  )\n            }\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Submit New Choice\n          </Button>\n        </Modal.Footer>\n      </Form>\n      {showingModal || \"\"}\n    </Modal>\n  );\n};\n\nexport default SuggestChoiceModal;\n","import React, { useState } from \"react\";\n\nimport { Modal, Button, Form } from \"react-bootstrap\";\n\nimport SearchPage from \"../Node/SearchPage\";\n\nimport CreateNodeModal from \"./CreateNodeModal\";\n\nimport { mutation_call, palette, escape } from \"../index\";\n\nconst EditChoiceModal = (props) => {\n  const { choice, loggedInAs, fromNode, close } = props;\n\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n\n  const [toPage, setToPage] = useState(choice.to.ID);\n  const [suggestAction, setSuggestAction] = useState(choice.action);\n  const [showingModal, showModal] = useState(\"\");\n  const [hidden, setHidden] = useState(choice.hidden);\n\n  const editChoice = (toID) => {\n    if (!toID) {\n      showModal(\n        <CreateNodeModal\n          loggedInAs={loggedInAs}\n          picture={fromNode.pictureURL}\n          callback={(node) => editChoice(node.ID)}\n          close={() => showModal(undefined)}\n        />\n      );\n    } else {\n      const escaped = escape(suggestAction);\n      mutation_call(\n        \"editSuggestion\",\n        {\n          choiceID: choice.ID,\n          action: escaped,\n          toID: toID,\n          ...(hidden !== undefined ? { hidden } : {}),\n        },\n        { ID: 0 },\n        () => {\n          window.location.reload(false);\n        }\n      );\n    }\n  };\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Editing Choice</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          <Form.Label>Action:</Form.Label>\n          <Form.Control\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            value={suggestAction}\n            onChange={(e) => setSuggestAction(e.target.value)}\n          ></Form.Control>\n          <Form.Label>Go to Page:</Form.Label>\n          <SearchPage callback={(nodeID) => setToPage(nodeID)} toID={toPage} />\n\n          {loggedInAs && loggedInAs.isAdmin ? (\n            <>\n              <Form.Label>Admin Controls:</Form.Label>\n              <Form.Check\n                type=\"checkbox\"\n                checked={hidden || false}\n                onChange={(e) => setHidden(e.target.checked)}\n                label=\"Choice should be hidden\"\n                id=\"hide\"\n              />\n            </>\n          ) : (\n            \"\"\n          )}\n          {info ? info : \"\"}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            onClick={() =>\n              suggestAction\n                ? editChoice(toPage)\n                : setInfo(\n                    <span style={{ color: \"red\" }}>\n                      Action cannot be empty!\n                    </span>\n                  )\n            }\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Edit Choice\n          </Button>\n        </Modal.Footer>\n      </Form>\n      {showingModal || \"\"}\n    </Modal>\n  );\n};\n\nexport default EditChoiceModal;\n","import React, { useState, useEffect, createRef, forceUpdate } from \"react\";\n\nimport {\n  CardColumns,\n  Card,\n  DropdownButton,\n  Dropdown,\n  Alert,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\n\nimport Cookies from \"universal-cookie\";\nimport EditChoiceModal from \"../Modals/EditChoiceModal\";\n\nimport { mutation_call, query_call, palette } from \"../index\";\n\nconst ChoiceColumns = (props) => {\n  const { node, loggedInAs, canon } = props;\n\n  const [choices, setChoices] = useState(\n    (canon ? node.canonChoices : node.nonCanonChoices).map(() => null)\n  );\n\n  const refs = [];\n\n  const [showingModal, showModal] = useState(undefined);\n\n  const like = (idx) => {\n    if (loggedInAs) {\n      const choice = choices[idx];\n\n      if (choice.liked) {\n        choice.liked = false;\n        choice.score--;\n      } else {\n        choice.liked = true;\n        choice.score++;\n        if (choice.disliked) choice.score++;\n      }\n      choice.disliked = false;\n      setChoices([\n        ...choices.slice(0, idx),\n        choice,\n        ...choices.slice(idx + 1, choices.length),\n      ]);\n\n      mutation_call(\n        \"likeSuggestion\",\n        { accountScreenName: loggedInAs.screenName, choiceID: choice.ID },\n        { ID: 0 },\n        () => {}\n      );\n    }\n  };\n\n  const dislike = (idx) => {\n    if (loggedInAs) {\n      const choice = choices[idx];\n\n      if (choice.disliked) {\n        choice.disliked = false;\n        choice.score++;\n      } else {\n        choice.disliked = true;\n        choice.score--;\n        if (choice.liked) choice.score--;\n      }\n      choice.liked = false;\n      setChoices([\n        ...choices.slice(0, idx),\n        choice,\n        ...choices.slice(idx + 1, choices.length),\n      ]);\n\n      mutation_call(\n        \"dislikeSuggestion\",\n        { accountScreenName: loggedInAs.screenName, choiceID: choice.ID },\n        { ID: 0 },\n        () => {}\n      );\n    }\n  };\n\n  const makeCanon = (choiceID) => {\n    mutation_call(\"makeCanon\", { choiceID: choiceID }, { ID: 0 }, () =>\n      setTimeout(() => window.location.reload(false), 100)\n    );\n  };\n\n  const makeNonCanon = (choiceID) => {\n    mutation_call(\"makeNonCanon\", { choiceID: choiceID }, { ID: 0 }, () =>\n      setTimeout(() => window.location.reload(false), 100)\n    );\n  };\n\n  const removeSuggestion = (choiceID) => {\n    mutation_call(\"removeSuggestion\", { choiceID: choiceID }, {}, () =>\n      window.location.reload(false)\n    );\n  };\n\n  const reportSuggestion = (choiceID) => {\n    mutation_call(\n      \"createFeedback\",\n      {\n        ...(loggedInAs ? { accountScreenName: loggedInAs.screenName } : {}),\n        info: \"This is inappropriate\",\n        reportingObjectType: \"Choice\",\n        reportingObjectID: choiceID,\n      },\n      { info: 0, reporting: 0 },\n      () => {\n        alert(\"Successfully reported action!\");\n        window.location.reload(false);\n      }\n    );\n  };\n\n  useEffect(() => {\n    if (\n      choices.length !==\n        (canon ? node.canonChoices : node.nonCanonChoices).length ||\n      choices.some(\n        (choice, i) =>\n          choice !== null &&\n          choice.ID !== (canon ? node.canonChoices : node.nonCanonChoices)[i].ID\n      )\n    )\n      setChoices(\n        (canon ? node.canonChoices : node.nonCanonChoices).map(() => null)\n      );\n\n    if (choices.some((choice) => choice === null)) {\n      (canon ? node.canonChoices : node.nonCanonChoices).forEach(\n        (choiceID, i) => {\n          if (choices[i] !== null) return;\n\n          query_call(\n            \"getChoice\",\n            { ID: choiceID.ID },\n            {\n              ID: 0,\n              action: 0,\n              likedBy: { screenName: 0 },\n              dislikedBy: { screenName: 0 },\n              score: 0,\n              suggestedBy: {\n                hidden: 0,\n                screenName: 0,\n                profilePicURL: 0,\n              },\n              hidden: 0,\n              to: {\n                owner: {\n                  screenName: 0,\n                  hidden: 0,\n                },\n                ID: 0,\n                hidden: 0,\n              },\n              from: {\n                ID: 0,\n              },\n            },\n            (choice) => {\n              choice.liked =\n                loggedInAs &&\n                choice.likedBy.some(\n                  (account) => account.screenName === loggedInAs.screenName\n                );\n              choice.disliked =\n                loggedInAs &&\n                choice.dislikedBy.some(\n                  (account) => account.screenName === loggedInAs.screenName\n                );\n              choices[i] = choice;\n              showModal({});\n            }\n          );\n        }\n      );\n    }\n  });\n\n  if (!choices)\n    return (\n      <Alert\n        variant={\n          (loggedInAs && loggedInAs.unsafeMode) ||\n          new Cookies().get(\"unsafeMode\") === \"true\"\n            ? \"dark\"\n            : \"light\"\n        }\n      >\n        <title>Loading Page...</title>\n        <Alert.Heading>Loading...</Alert.Heading>\n      </Alert>\n    );\n\n  if (choices.length > 0)\n    return (\n      <CardColumns>\n        {choices.map((choice, idx) => {\n          refs.push(createRef());\n          if (choice === null)\n            return (\n              <Card\n                className=\"mt-2 text-center\"\n                style={{\n                  boxShadow: `0 0 3px ${palette[0]}`,\n                  overflow: \"hidden\",\n                  ...(loggedInAs && loggedInAs.unsafeMode\n                    ? { backgroundColor: palette[4] }\n                    : {}),\n                }}\n                ref={refs[idx]}\n              >\n                <Card.Body style={{ paddingTop: \"2em\" }}>\n                  <Card.Title>Loading...</Card.Title>\n                </Card.Body>\n              </Card>\n            );\n\n          if (\n            (choice.hidden || choice.suggestedBy.hidden) &&\n            (!loggedInAs ||\n              (!loggedInAs.unsafeMode &&\n                loggedInAs.screenName !== choice.suggestedBy.screenName &&\n                (loggedInAs.screenName !== node.owner.screenName || !canon)))\n          )\n            return <span />;\n\n          const disabled =\n            !choice.to ||\n            ((choice.to.hidden || choice.to.owner.hidden) &&\n              (!loggedInAs ||\n                (!loggedInAs.unsafeMode &&\n                  choice.to.owner.screenName !== loggedInAs.screenName)));\n\n          return (\n            <Card\n              className=\"text-center mt-2\"\n              style={{\n                boxShadow: `0 0 3px ${palette[0]}`,\n                overflow: \"hidden\",\n                ...(loggedInAs && loggedInAs.unsafeMode\n                  ? { backgroundColor: palette[4] }\n                  : {}),\n              }}\n              ref={refs[idx]}\n            >\n              <a\n                href={!disabled ? `/node/${choice.to.ID}` : \"\"}\n                onClick={() =>\n                  window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" })\n                }\n                style={{\n                  pointerEvents: !disabled ? \"auto\" : \"none\",\n                  color: !disabled\n                    ? loggedInAs && loggedInAs.unsafeMode\n                      ? palette[0]\n                      : palette[2]\n                    : \"grey\",\n                }}\n                onMouseEnter={(e) => {\n                  refs[idx].current.style.boxShadow = `0 0 6px ${palette[2]}`;\n                }}\n                onMouseLeave={(e) => {\n                  refs[idx].current.style.boxShadow = `0 0 3px ${palette[0]}`;\n                }}\n              >\n                <Card.Body style={{ cursor: \"pointer\", paddingTop: \"2em\" }}>\n                  <Card.Title>{choice.action}</Card.Title>\n                </Card.Body>\n              </a>\n              {choice.hidden || choice.suggestedBy.hidden ? (\n                <OverlayTrigger\n                  overlay={\n                    <Tooltip>\n                      This action is hidden, because it has been marked as\n                      unsafe! You can see it because you are{\" \"}\n                      {loggedInAs && loggedInAs.unsafeMode\n                        ? \"in Unsafe Mode.\"\n                        : \"the owner.\"}\n                    </Tooltip>\n                  }\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: \"5px\",\n                      left: \"6.5px\",\n                      color: \"red\",\n                      \"-webkit-touch-callout\": \"none\",\n                      \"-webkit-user-select\": \"none\",\n                      \"-khtml-user-select\": \"none\",\n                      \"-moz-user-select\": \"none\",\n                      \"-ms-user-select\": \"none\",\n                      \"user-select\": \"none\",\n                      \"text-shadow\": \"0 0 1px black\",\n                    }}\n                    class=\"fa\"\n                  >\n                    &#xf056;\n                  </div>\n                </OverlayTrigger>\n              ) : (\n                \"\"\n              )}\n              {!choice.hidden &&\n              (choice.to.hidden || choice.to.owner.hidden) &&\n              !disabled ? (\n                <OverlayTrigger\n                  overlay={\n                    <Tooltip>\n                      This page this action leads to is hidden, because it has\n                      been marked as unsafe! You will be able to see it because\n                      you are\n                      {loggedInAs && loggedInAs.unsafeMode\n                        ? \"in Unsafe Mode.\"\n                        : \"the owner.\"}\n                    </Tooltip>\n                  }\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: \"5px\",\n                      left: \"6.5px\",\n                      color: \"red\",\n                      \"-webkit-touch-callout\": \"none\",\n                      \"-webkit-user-select\": \"none\",\n                      \"-khtml-user-select\": \"none\",\n                      \"-moz-user-select\": \"none\",\n                      \"-ms-user-select\": \"none\",\n                      \"user-select\": \"none\",\n                      \"text-shadow\": \"0 0 1px black\",\n                    }}\n                    class=\"fa\"\n                  >\n                    &#xf056;\n                  </div>\n                </OverlayTrigger>\n              ) : (\n                \"\"\n              )}\n              <DropdownButton\n                variant={\n                  loggedInAs && loggedInAs.unsafeMode ? \"secondary\" : \"light\"\n                }\n                style={{\n                  position: \"absolute\",\n                  top: \"0px\",\n                  right: \"0px\",\n                }}\n                size=\"sm\"\n                drop=\"right\"\n                title={<span class=\"fa\">&#xf013;</span>}\n              >\n                <Dropdown.Item\n                  disabled={\n                    !loggedInAs ||\n                    (loggedInAs.screenName !== node.owner.screenName &&\n                      !loggedInAs.isAdmin)\n                  }\n                  onClick={() =>\n                    canon ? makeNonCanon(choice.ID) : makeCanon(choice.ID)\n                  }\n                >\n                  Make {canon ? \"Nonc\" : \"C\"}anon\n                </Dropdown.Item>\n                <Dropdown.Item\n                  disabled={\n                    !loggedInAs ||\n                    (loggedInAs.screenName !== choice.suggestedBy.screenName &&\n                      loggedInAs.screenName !== node.owner.screenName &&\n                      !loggedInAs.isAdmin)\n                  }\n                  onClick={() => removeSuggestion(choice.ID)}\n                >\n                  Delete\n                </Dropdown.Item>\n                <Dropdown.Item\n                  onClick={() =>\n                    showModal(\n                      <EditChoiceModal\n                        choice={choice}\n                        loggedInAs={loggedInAs}\n                        fromNode={node}\n                        close={() => showModal(undefined)}\n                      />\n                    )\n                  }\n                  disabled={\n                    !(\n                      loggedInAs &&\n                      (loggedInAs.isAdmin ||\n                        (canon &&\n                          loggedInAs.screenName === node.owner.screenName) ||\n                        (!canon &&\n                          loggedInAs.screenName ===\n                            choice.suggestedBy.screenName))\n                    )\n                  }\n                >\n                  Edit\n                </Dropdown.Item>\n                <Dropdown.Divider />\n                <Dropdown.Item onClick={() => reportSuggestion(choice.ID)}>\n                  Report\n                </Dropdown.Item>\n              </DropdownButton>\n              <Card.Footer\n                {...(loggedInAs && loggedInAs.unsafeMode\n                  ? { style: { backgroundColor: palette[5] } }\n                  : {})}\n              >\n                <a\n                  href={`/node/${node.ID}`}\n                  style={{\n                    pointerEvents: loggedInAs ? \"auto\" : \"none\",\n                    color: loggedInAs\n                      ? choice.disliked\n                        ? \"red\"\n                        : loggedInAs.unsafeMode\n                        ? \"white\"\n                        : \"black\"\n                      : \"grey\",\n                  }}\n                  className=\"fa fa-thumbs-down\"\n                  onClick={() => dislike(idx)}\n                ></a>\n                {\" \" + (choice.score || 0) + \" \"}\n                <a\n                  href={`/node/${node.ID}`}\n                  style={{\n                    pointerEvents: loggedInAs ? \"auto\" : \"none\",\n                    color: loggedInAs\n                      ? choice.liked\n                        ? \"green\"\n                        : loggedInAs.unsafeMode\n                        ? \"white\"\n                        : \"black\"\n                      : \"grey\",\n                  }}\n                  className=\"fa fa-thumbs-up\"\n                  onClick={() => like(idx)}\n                ></a>\n                <br />\n                <small className=\"text-muted\">\n                  Suggested By:{\" \"}\n                  <a\n                    href={`/account/${choice.suggestedBy.screenName}`}\n                    style={{\n                      color:\n                        loggedInAs && loggedInAs.unsafeMode\n                          ? palette[0]\n                          : palette[2],\n                    }}\n                  >\n                    <img\n                      src={\n                        choice.suggestedBy.profilePicURL\n                          ? choice.suggestedBy.profilePicURL\n                          : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n                      }\n                      onError={(e) => {\n                        e.target.src =\n                          process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\";\n                      }}\n                      style={{\n                        border: \"1px solid #bbb\",\n                        height: \"2em\",\n                        width: \"2em\",\n                        \"object-fit\": \"cover\",\n                        \"border-radius\": \"50%\",\n                      }}\n                    />{\" \"}\n                    {choice.suggestedBy.screenName}\n                  </a>\n                </small>\n              </Card.Footer>\n            </Card>\n          );\n        })}\n        {showingModal && Object.keys(showingModal).length > 0\n          ? showingModal\n          : \"\"}\n      </CardColumns>\n    );\n\n  return null;\n};\n\nexport default ChoiceColumns;\n","import React, { useState, useEffect } from \"react\";\n\nimport {\n  Container,\n  Button,\n  Alert,\n  OverlayTrigger,\n  Tooltip,\n} from \"react-bootstrap\";\nimport Cookies from \"universal-cookie\";\n\nimport PictureModal from \"../Modals/PictureModal\";\nimport EditNodeModal from \"../Modals/EditNodeModal\";\nimport SuggestChoiceModal from \"../Modals/SuggestChoiceModal\";\n\nimport ChoiceColumns from \"./ChoiceColumns\";\n\nimport { escape, palette, query_call, mutation_call } from \"../index\";\n\nconst Node = (props) => {\n  const { history, match, loggedInAs } = props;\n  const [showingModal, showModal] = useState(undefined);\n  const [node, setNode] = useState(undefined);\n  const BLURAMOUNT = 40;\n\n  const reportNode = () => {\n    mutation_call(\n      \"createFeedback\",\n      {\n        ...(loggedInAs ? { accountScreenName: loggedInAs.screenName } : {}),\n        info: \"This is inappropriate\",\n        reportingObjectType: \"Node\",\n        reportingObjectID: node.ID,\n      },\n      { info: 0, reporting: 0 },\n      () => {\n        alert(\"Successfully reported page!\");\n        window.location.reload(false);\n      }\n    );\n  };\n\n  useEffect(() => {\n    const pageID = escape(match.params.id);\n\n    if (!node || pageID !== node.ID) {\n      query_call(\n        \"getNode\",\n        { ID: pageID },\n        {\n          hidden: 0,\n          pictureURL: 0,\n          pictureUnsafe: 0,\n          fgColor: 0,\n          bgColor: 0,\n          ID: 0,\n          title: 0,\n          content: 0,\n          views: 0,\n          owner: { screenName: 0, profilePicURL: 0, hidden: 0 },\n          canonChoices: {\n            ID: 0,\n          },\n          nonCanonChoices: {\n            ID: 0,\n          },\n        },\n        (returnNode) => {\n          if (returnNode) setNode(returnNode);\n          else setNode(null);\n        }\n      );\n    }\n  });\n\n  if (node === undefined) {\n    return (\n      <Alert\n        variant={\n          (loggedInAs && loggedInAs.unsafeMode) ||\n          new Cookies().get(\"unsafeMode\") === \"true\"\n            ? \"dark\"\n            : \"light\"\n        }\n      >\n        <title>Loading Page...</title>\n        <Alert.Heading>Loading...</Alert.Heading>\n      </Alert>\n    );\n  }\n\n  if (node === null)\n    return (\n      <Alert variant=\"danger\">\n        <title>Error! Node: {match.params.id}</title>\n        <Alert.Heading>Oh snap! You ran into an error</Alert.Heading>\n        <p>\n          This page does not exist, or maybe our database is down. Who knows?\n          Not you. Hahahaha\n        </p>\n      </Alert>\n    );\n\n  if (\n    node.hidden &&\n    (!loggedInAs ||\n      (node.owner.screenName !== loggedInAs.screenName &&\n        !loggedInAs.unsafeMode))\n  )\n    return (\n      <Alert variant=\"danger\">\n        <title>Crowdventure! - {node.title}</title>\n        <Alert.Heading>Unsafe!</Alert.Heading>\n        <p>\n          This page has been hidden from general users, because the content has\n          been deemed unsafe. If you would like to see it, log in and turn on{\" \"}\n          <b>Unsafe mode</b>!\n        </p>\n      </Alert>\n    );\n\n  if (\n    node.owner.hidden &&\n    (!loggedInAs ||\n      (node.owner.screenName !== loggedInAs.screenName &&\n        !loggedInAs.unsafeMode))\n  )\n    return (\n      <Alert variant=\"danger\">\n        <title>Crowdventure! - {node.title}</title>\n        <Alert.Heading>Unsafe!</Alert.Heading>\n        <p>\n          This page has been hidden from general users, because the author has\n          been flagged as unsafe for the general public. If you would like to\n          see it, log in and turn on <b>Unsafe mode</b>!\n        </p>\n      </Alert>\n    );\n\n  return (\n    <Container>\n      <title>Crowdventure! - {node.title}</title>\n\n      {(node.hidden || node.owner.hidden) &&\n      loggedInAs &&\n      node.owner.screenName === loggedInAs.screenName &&\n      !loggedInAs.unsafeMode ? (\n        <Alert\n          variant=\"danger\"\n          dismissible\n          onClose={() => {\n            setNode({ ...node, hidden: false });\n          }}\n        >\n          <Alert.Heading>Unsafe!</Alert.Heading>\n          <p>\n            This page has been hidden from general users, because the content\n            has been deemed unsafe. Users in unsafe mode can see this page and\n            its content. Since you own this page, you can see it. If you believe\n            this page should be considered safe, click <a href=\"\">Here</a>.\n          </p>\n        </Alert>\n      ) : (\n        \"\"\n      )}\n\n      <h1 class=\"display-4 text-center\">{node.title}</h1>\n      {node.pictureURL ? (\n        <img\n          src={node.pictureURL}\n          onLoad={(e) => {\n            e.target.style.display = \"block\";\n          }}\n          onError={(e) => {\n            e.target.style.display = \"none\";\n          }}\n          style={{\n            display: \"block\",\n            marginLeft: \"auto\",\n            marginRight: \"auto\",\n            padding: \"1px\",\n            border: \"1px solid #eee\",\n            \"border-radius\": \"8px\",\n            width: \"90%\",\n            maxHeight: \"30vh\",\n            \"object-fit\": \"cover\",\n            cursor: \"pointer\",\n            ...(node.pictureUnsafe\n              ? {\n                  \"-webkit-filter\": \"blur(\" + BLURAMOUNT + \"px)\",\n                  filter: \"blur(\" + BLURAMOUNT + \"px)\",\n                }\n              : {}),\n          }}\n          onClick={() =>\n            showModal(\n              <PictureModal\n                loggedInAs={loggedInAs}\n                pictureURL={node.pictureURL}\n                title={node.title}\n                close={() => showModal(undefined)}\n              />\n            )\n          }\n        />\n      ) : (\n        \"\"\n      )}\n      <br />\n      <Container>\n        {node.content.split(\"\\n\").map((line) => (\n          <p style={{ textIndent: \"5%\" }}>{line}</p>\n        ))}\n      </Container>\n      <Container\n        className=\"row\"\n        style={{ paddingRight: \"0px\", paddingBottom: \"5px\" }}\n      >\n        <div class=\"col\">\n          <h3 class=\"text-muted\">Choices:</h3>\n        </div>\n        <div class=\"col\" style={{ paddingRight: \"0px\" }}>\n          <Button\n            onClick={() => {\n              history.back();\n              window.scrollTo({ top: 0, left: 0, behavior: \"smooth\" });\n            }}\n            size=\"lg\"\n            className=\"float-right\"\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Go back!\n          </Button>\n        </div>\n      </Container>\n      {node.canonChoices.length ? (\n        <ChoiceColumns node={node} loggedInAs={loggedInAs} canon={true} />\n      ) : (\n        <p className=\"text-muted\">\n          By decree of <strong>{node.owner.screenName}</strong>, this journey\n          ends here.\n        </p>\n      )}\n\n      <p />\n\n      <Container className=\"row\" style={{ paddingRight: \"0px\" }}>\n        <div class=\"col align-bottom\">\n          <h3 class=\"align-bottom text-muted\">Other options:</h3>\n        </div>\n        <div class=\"col text-right\" style={{ paddingRight: \"0px\" }}>\n          <small class=\"text-muted\">\n            Author:{\" \"}\n            <a\n              href={`/account/${node.owner.screenName}`}\n              style={{\n                color:\n                  loggedInAs && loggedInAs.unsafeMode ? palette[0] : palette[2],\n              }}\n            >\n              <img\n                src={\n                  node.owner.profilePicURL\n                    ? node.owner.profilePicURL\n                    : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n                }\n                onError={(e) => {\n                  e.target.src =\n                    process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\";\n                }}\n                style={{\n                  border: \"1px solid #bbb\",\n                  height: \"2em\",\n                  width: \"2em\",\n                  \"object-fit\": \"cover\",\n                  \"border-radius\": \"50%\",\n                }}\n              />{\" \"}\n              {node.owner.screenName}{\" \"}\n            </a>{\" \"}\n            <br />\n            Views: {node.views}\n          </small>\n          {loggedInAs &&\n          (node.owner.screenName === loggedInAs.screenName ||\n            loggedInAs.isAdmin) ? (\n            <p>\n              <Button\n                variant=\"secondary\"\n                size=\"sm\"\n                onClick={() => {\n                  showModal(\n                    <EditNodeModal\n                      close={() => showModal(undefined)}\n                      node={node}\n                      loggedInAs={loggedInAs}\n                    />\n                  );\n                }}\n              >\n                Edit Page\n              </Button>\n            </p>\n          ) : (\n            \"\"\n          )}\n        </div>\n      </Container>\n      <p />\n      <OverlayTrigger\n        overlay={\n          !loggedInAs ? (\n            <Tooltip id=\"tooltip-disabled\">You must be signed in!</Tooltip>\n          ) : (\n            <p />\n          )\n        }\n        style={{ width: \"100%\" }}\n      >\n        <span className=\"d-inline-block\" style={{ width: \"100%\" }}>\n          <Button\n            onClick={() => {\n              showModal(\n                <SuggestChoiceModal\n                  loggedInAs={loggedInAs}\n                  fromNode={node}\n                  close={() => showModal(undefined)}\n                />\n              );\n            }}\n            disabled={!loggedInAs}\n            style={{\n              width: \"100%\",\n              pointerEvents: loggedInAs ? \"auto\" : \"none\",\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Suggest New Choice\n          </Button>\n        </span>\n      </OverlayTrigger>\n      <p />\n\n      {node.nonCanonChoices.length ? (\n        <ChoiceColumns node={node} loggedInAs={loggedInAs} canon={false} />\n      ) : (\n        <p className=\"text-muted\">\n          There are currently no options! You can help expand the story by\n          adding to it!\n        </p>\n      )}\n\n      <Container>\n        <Button\n          style={{ marginRight: \"0\", marginLeft: \"auto\", display: \"block\" }}\n          variant=\"danger\"\n          size=\"sm\"\n          onClick={reportNode}\n        >\n          Report Page\n        </Button>\n      </Container>\n\n      {showingModal ? showingModal : \"\"}\n    </Container>\n  );\n};\n\nexport default Node;\n","import React, { useState, useEffect } from \"react\";\n\nimport { Modal, Button, Form } from \"react-bootstrap\";\n\nimport { mutation_call, query_call, escape, palette } from \"../index\";\n\nimport ConfirmModal from \"./ConfirmModal\";\n\nimport Cookies from \"universal-cookie\";\n\nimport { Redirect } from \"react-router-dom\";\n\nconst EditAccountModal = (props) => {\n  const {\n    screenName,\n    bio,\n    profilePicture,\n    close,\n    account,\n    setAccount,\n    setRedirect,\n    loggedInAs,\n  } = props;\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n\n  const [showingModal, showModal] = useState(undefined);\n\n  const [bioField, setBioField] = useState(bio || \"\");\n  const [profilePictureField, setProfilePictureField] = useState(\n    profilePicture || \"\"\n  );\n  const [nameField, setNameField] = useState(\"\");\n  const [pass1, setPass1] = useState(\"\");\n  const [pass2, setPass2] = useState(\"\");\n  const [hidden, setHidden] = useState(account.hidden);\n  const [isAdmin, setAdmin] = useState(account.isAdmin);\n\n  const editPage = (checkedIfExists = false) => {\n    if (pass1 && pass1 !== pass2) {\n      setInfo(<div style={{ color: \"red\" }}>Passwords must match!</div>);\n      return;\n    }\n    const esBio = bioField.length > 0 ? `\"\"${escape(bioField, true)}\"\"` : null;\n    const esPicture =\n      profilePictureField.length > 0 ? escape(profilePictureField) : null;\n\n    const params = { screenName };\n    if (bioField !== bio) params.bio = esBio;\n    if (profilePictureField !== profilePicture)\n      params.profilePicURL = esPicture;\n    if (nameField !== screenName && !nameField.match(/^\\s*$/)) {\n      if (!checkedIfExists) {\n        const esScreenName = escape(nameField);\n        query_call(\n          \"getAccount\",\n          { screenName: esScreenName },\n          { screenName: 0 },\n          (res) => {\n            if (res) {\n              setInfo(\n                <div style={{ color: \"red\" }}>That account already exists!</div>\n              );\n            } else {\n              editPage(true);\n            }\n          }\n        );\n        return;\n      } else {\n        params.newScreenName = escape(nameField);\n      }\n    }\n    if (pass1) params.newPassword = escape(pass1);\n    if (hidden !== undefined) params.hidden = hidden;\n    if (isAdmin !== undefined) params.isAdmin = isAdmin;\n\n    mutation_call(\n      \"editAccount\",\n      params,\n      {\n        bio: 0,\n        screenName: 0,\n        profilePicURL: 0,\n        totalNodeViews: 0,\n        totalSuggestionScore: 0,\n        hidden: 0,\n        isAdmin: 0,\n        featuredNodes: {\n          owner: { screenName: 0, profilePicURL: 0 },\n          featured: 0,\n          hidden: 0,\n          ID: 0,\n          title: 0,\n          views: 0,\n          pictureURL: 0,\n          pictureUnsafe: 0,\n        },\n        nodes: {\n          owner: { screenName: 0, profilePicURL: 0 },\n          featured: 0,\n          hidden: 0,\n          ID: 0,\n          title: 0,\n          content: 0,\n          views: 0,\n          pictureURL: 0,\n          pictureUnsafe: 0,\n        },\n      },\n      // I shouldnt need any of the parameters if it just reloads the page\n      (res) => {\n        if (params.newScreenName) {\n          setRedirect(<Redirect to={`/account/${params.newScreenName}`} />);\n          new Cookies().set(\"account\", params.newScreenName, { path: \"/\" });\n          window.location.reload(false);\n        }\n        if (params.isAdmin !== account.isAdmin) {\n          window.location.reload(false);\n        }\n        setAccount(res);\n        setShow(false);\n        close();\n      }\n    );\n  };\n\n  const deleteAccount = () => {\n    new Cookies().set(\"account\", \"\", { path: \"/\" });\n    mutation_call(\"deleteAccount\", { screenName }, {}, () => {\n      setRedirect(<Redirect to=\"/\" />);\n      window.location.reload(false);\n    });\n  };\n\n  useEffect(() => {\n    setTimeout(() => {\n      setPass1(\"\");\n      setNameField(\"\");\n    }, 1000);\n  }, []);\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Editing Account</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          {profilePicture ? (\n            <img\n              src={profilePicture}\n              alt={screenName + \"'s Profile Pic\"}\n              onError={(e) => {\n                e.target.style.display = \"none\";\n                setInfo(\n                  <span style={{ color: \"red\" }}>Picture not found!</span>\n                );\n              }}\n              style={{\n                opacity: profilePicture === profilePictureField ? 1 : 0.2,\n                width: \"100%\",\n                \"object-fit\": \"contain\",\n              }}\n            />\n          ) : (\n            \"\"\n          )}\n          <Form.Label>Profile Pic URL:</Form.Label>\n          <Form.Control\n            value={profilePictureField}\n            onChange={(e) => setProfilePictureField(e.target.value)}\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n          />\n          <Form.Label>Bio:</Form.Label>\n          <Form.Control\n            as=\"textarea\"\n            rows=\"3\"\n            value={bioField}\n            onChange={(e) => setBioField(e.target.value)}\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n          />\n\n          <Form.Label>Change your screen name:</Form.Label>\n          <Form.Control\n            placeholder={screenName}\n            value={nameField}\n            onChange={(e) => setNameField(e.target.value)}\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n          />\n\n          <Form.Label>Change your password:</Form.Label>\n          <Form.Control\n            type=\"password\"\n            placeholder=\"••••••••\"\n            value={pass1}\n            onChange={(e) => setPass1(e.target.value)}\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n          />\n          {pass1 ? (\n            <>\n              <Form.Label>Confirm password:</Form.Label>\n              <Form.Control\n                type=\"password\"\n                placeholder=\"••••••••\"\n                value={pass2}\n                onChange={(e) => setPass2(e.target.value)}\n                {...(loggedInAs && loggedInAs.unsafeMode\n                  ? { style: { backgroundColor: palette[5], color: \"white\" } }\n                  : {})}\n              />\n            </>\n          ) : (\n            \"\"\n          )}\n          {loggedInAs && loggedInAs.isAdmin ? (\n            <>\n              <Form.Label>Admin Controls:</Form.Label>\n              <Form.Check\n                type=\"checkbox\"\n                checked={hidden || false}\n                onChange={(e) => setHidden(e.target.checked)}\n                label=\"Account should be hidden\"\n                id=\"hide\"\n              />\n              <Form.Check\n                type=\"checkbox\"\n                checked={isAdmin || false}\n                onChange={(e) => setAdmin(e.target.checked)}\n                label=\"Account is an admin\"\n                id=\"adm\"\n              />\n            </>\n          ) : (\n            \"\"\n          )}\n\n          {info ? info : \"\"}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            onClick={() => editPage()}\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Edit Account\n          </Button>\n          <Button\n            onClick={() => {\n              showModal(\n                <ConfirmModal\n                  loggedInAs={loggedInAs}\n                  title=\"Delete Account\"\n                  content=\"This will erase all content created by this account, including all pages and suggested choices, and liked and disliked content. Are you sure you wish to continue?\"\n                  onConfirm={() => deleteAccount()}\n                  close={() => {\n                    showModal(undefined);\n                  }}\n                />\n              );\n            }}\n            variant=\"danger\"\n          >\n            Delete Account\n          </Button>\n        </Modal.Footer>\n      </Form>\n      {showingModal || \"\"}\n    </Modal>\n  );\n};\nexport default EditAccountModal;\n","import React, { useState } from \"react\";\n\nimport { Modal, Button, Form } from \"react-bootstrap\";\n\nimport { palette } from \"../index\";\n\nconst ConfirmModal = (props) => {\n  const { onConfirm, close, loggedInAs } = props;\n  const [show, setShow] = useState(true);\n\n  const [understand, setUnderstand] = useState(false);\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Turn on Unsafe Mode</Modal.Title>\n      </Modal.Header>\n      <Modal.Body\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[4] } }\n          : {})}\n      >\n        Unsafe Mode allows you to see <b>ALL</b> of the content on Crowdventure,\n        including content that has been classified as \"unsafe\". Before you can\n        continue, you must acknowledge and agree to the terms of service:\n        <p />\n        <Form>\n          <Form.Control\n            disabled\n            as=\"textarea\"\n            rows=\"5\"\n            value={`Please read these terms of service (\"terms\", \"terms of service\") carefully before using the Crowdventure website (the \"service\").\n            \nI. Conditions of Use\n  We will provide their services to you, which are subject to the conditions stated below in this document. Every time you visit this website, use its services or make a purchase, you accept the following conditions. This is why we urge you to read them carefully.\n            \nII. Privacy Policy\n  Before you continue using our website we advise you to read our privacy policy [link to privacy policy] regarding our user data collection. It will help you better understand our practices.\n            \nIII. Copyright\n  Content published on this website (digital downloads, images, texts, graphics, logos) is the property of Crowdventure and/or its content creators and protected by international copyright laws. The entire compilation of the content found on this website is the exclusive property of [name], with copyright authorship for this compilation by [name].\n            \nIV. Communication\n  The entire communication with us is electronic. Every time you send us an email or visit our website, you are going to be communicating with us. You hereby consent to receive communications from us. If you subscribe to the news on our website, you are going to receive regular emails from us. We will continue to communicate with you by posting news and notices on our website and by sending you emails. You also agree that all notices, disclosures, agreements and other communications we provide to you electronically meet the legal requirements that such communications be in writing.\n            \nV. Applicable Law\n  By visiting this website, you agree that the laws of the United States of America, without regard to principles of conflict laws, will govern these terms of service, or any dispute of any sort that might come between [name] and you, or its business partners and associates.\n            \nVI. Disputes\n  Any dispute related in any way to your visit to this website or to products you purchase from us shall be arbitrated by state or federal court [your location] and you consent to exclusive jurisdiction and venue of such courts.\n            \nVII. Comments, Reviews, and Emails\n  Visitors may post content as long as it is not obscene, illegal, defamatory, threatening, infringing of intellectual property rights, invasive of privacy or injurious in any other way to third parties. Content has to be free of software viruses, political campaign, and commercial solicitation.\n  We reserve all rights (but not the obligation) to remove and/or edit such content. When you post your content, you grant Crowdventure non-exclusive, royalty-free and irrevocable right to use, reproduce, publish, modify such content throughout the world in any media.\n            \nVIII. License and Site Access\n  We grant you a limited license to access and make personal use of this website. You are not allowed to download or modify it. This may be done only with written consent from us.\n            \nIX. User Account\n  If you are an owner of an account on this website, you are solely responsible for maintaining the confidentiality of your private user details (username and password). You are responsible for all activities that occur under your account or password.\n  We reserve all rights to terminate accounts, edit or remove content and cancel orders in their sole discretion.`}\n          />\n          <Form.Check\n            style={{ float: \"right\" }}\n            type=\"checkbox\"\n            label=\"I agree to the terms of service.\"\n            checked={understand}\n            id=\"check\"\n            onChange={(e) => {\n              setUnderstand(e.target.checked);\n            }}\n          />\n        </Form>\n      </Modal.Body>\n      <Modal.Footer\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n      >\n        <Button\n          variant=\"primary\"\n          onClick={onConfirm}\n          disabled={!understand}\n          style={{\n            border: `1px solid ${palette[2]}`,\n            backgroundColor: palette[0],\n          }}\n          onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n          onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n        >\n          Turn on Unsafe Mode\n        </Button>\n      </Modal.Footer>\n    </Modal>\n  );\n};\n\nexport default ConfirmModal;\n","import React, { useState, createRef } from \"react\";\n\nimport { mutation_call, palette } from \"./index\";\n\nimport {\n  CardColumns,\n  Card,\n  OverlayTrigger,\n  Tooltip,\n  DropdownButton,\n  Dropdown,\n  Alert,\n  Container,\n} from \"react-bootstrap\";\n\nimport Cookies from \"universal-cookie\";\nimport ConfirmModal from \"./Modals/ConfirmModal\";\n\nconst NodeViewer = (props) => {\n  const { nodes, loggedInAs } = props;\n\n  const [showingModal, showModal] = useState(undefined);\n  const refs = [];\n  const BLURAMOUNT = 20;\n\n  const reportNode = (nodeID) => {\n    mutation_call(\n      \"createFeedback\",\n      {\n        ...(loggedInAs ? { accountScreenName: loggedInAs.screenName } : {}),\n        info: \"This is inappropriate\",\n        reportingObjectType: \"Node\",\n        reportingObjectID: nodeID,\n      },\n      { info: 0, reporting: 0 },\n      () => {\n        alert(\"Successfully reported page!\");\n        window.location.reload(false);\n      }\n    );\n  };\n\n  const hidePage = (node) => {\n    mutation_call(\n      \"editNode\",\n      { nodeID: node.ID, hidden: !node.hidden },\n      { title: 0 },\n      () => window.location.reload(false)\n    );\n  };\n\n  const featurePage = (node, alreadyFeatured) => {\n    mutation_call(\n      \"editNode\",\n      { nodeID: node.ID, featured: !alreadyFeatured },\n      { title: 0 },\n      () => window.location.reload(false)\n    );\n  };\n\n  const deletePage = (node) => {\n    mutation_call(\"deleteNode\", { nodeID: node.ID }, 0, () => {\n      window.location.reload(false);\n    });\n  };\n\n  return nodes ? (\n    <CardColumns style={{ marginTop: \"5px\", marginBottom: \"5px\" }}>\n      <Container />\n      {nodes\n        .filter(\n          (node) =>\n            (loggedInAs &&\n              (loggedInAs.unsafeMode ||\n                loggedInAs.screenName === node.owner.screenName)) ||\n            !node.hidden\n        )\n        .map((node, i) => {\n          refs.push(createRef());\n          return (\n            <Card\n              className=\"mt-2\"\n              style={{\n                boxShadow: `0 0 3px ${palette[0]}`,\n                overflow: \"hidden\",\n                ...(loggedInAs && loggedInAs.unsafeMode\n                  ? { backgroundColor: palette[4] }\n                  : {}),\n              }}\n              ref={refs[i]}\n            >\n              <a\n                href={`/crowdventure/#/node/${node.ID}`}\n                style={{\n                  color:\n                    loggedInAs && loggedInAs.unsafeMode\n                      ? palette[0]\n                      : palette[2],\n                }}\n                onMouseEnter={(e) => {\n                  refs[i].current.style.boxShadow = `0 0 6px ${palette[2]}`;\n                }}\n                onMouseLeave={(e) => {\n                  refs[i].current.style.boxShadow = `0 0 3px ${palette[0]}`;\n                }}\n              >\n                {node.pictureURL ? (\n                  <Card.Header\n                    style={{\n                      backgroundColor:\n                        loggedInAs && loggedInAs.unsafeMode\n                          ? palette[5]\n                          : \"white\",\n                      padding: \"1px\",\n                    }}\n                  >\n                    <Card.Img\n                      src={node.pictureURL}\n                      style={{\n                        \"max-height\": \"30vh\",\n                        \"object-fit\": \"cover\",\n                        ...(node.pictureUnsafe\n                          ? {\n                              \"-webkit-filter\": \"blur(\" + BLURAMOUNT + \"px)\",\n                              filter: \"blur(\" + BLURAMOUNT + \"px)\",\n                            }\n                          : {}),\n                      }}\n                      onError={(e) => {\n                        e.target.parentNode.style.display = \"none\";\n                      }}\n                    />\n                  </Card.Header>\n                ) : (\n                  \"\"\n                )}\n                <Card.Body\n                  className=\"text-center\"\n                  style={{ paddingTop: \"2em\" }}\n                >\n                  <Card.Title>{node.title}</Card.Title>\n                </Card.Body>\n              </a>\n\n              {node.featured && node && node.owner ? (\n                <OverlayTrigger\n                  overlay={\n                    <Tooltip>\n                      This page has been starred by {node.owner.screenName}!\n                    </Tooltip>\n                  }\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: \"5px\",\n                      left: \"5px\",\n                      color: \"yellow\",\n                      \"-webkit-touch-callout\": \"none\",\n                      \"-webkit-user-select\": \"none\",\n                      \"-khtml-user-select\": \"none\",\n                      \"-moz-user-select\": \"none\",\n                      \"-ms-user-select\": \"none\",\n                      \"user-select\": \"none\",\n                      \"text-shadow\": \"0 0 1px black\",\n                    }}\n                    class=\"fa\"\n                  >\n                    &#xf005;\n                  </div>\n                </OverlayTrigger>\n              ) : (\n                \"\"\n              )}\n\n              {node.hidden ? (\n                <OverlayTrigger\n                  overlay={\n                    <Tooltip>\n                      This page is hidden, because it has been marked as unsafe!\n                      You can see it because you are{\" \"}\n                      {loggedInAs && loggedInAs.unsafeMode\n                        ? \"in Unsafe Mode.\"\n                        : \"the owner.\"}\n                    </Tooltip>\n                  }\n                >\n                  <div\n                    style={{\n                      position: \"absolute\",\n                      top: (node.featured ? \"2\" : \"\") + \"5px\",\n                      left: \"6.5px\",\n                      color: \"red\",\n                      \"-webkit-touch-callout\": \"none\",\n                      \"-webkit-user-select\": \"none\",\n                      \"-khtml-user-select\": \"none\",\n                      \"-moz-user-select\": \"none\",\n                      \"-ms-user-select\": \"none\",\n                      \"user-select\": \"none\",\n                      \"text-shadow\": \"0 0 1px black\",\n                    }}\n                    class=\"fa\"\n                  >\n                    &#xf056;\n                  </div>\n                </OverlayTrigger>\n              ) : (\n                \"\"\n              )}\n\n              <DropdownButton\n                variant={\n                  loggedInAs && loggedInAs.unsafeMode ? \"secondary\" : \"light\"\n                }\n                style={{ position: \"absolute\", top: \"0px\", right: \"0px\" }}\n                size=\"sm\"\n                drop=\"right\"\n                title={<span class=\"fa\">&#xf013;</span>}\n              >\n                {loggedInAs && node.featured !== undefined ? (\n                  <>\n                    <Dropdown.Item\n                      onClick={() => featurePage(node, node.featured)}\n                      disabled={loggedInAs.screenName !== node.owner.screenName}\n                    >\n                      {node.featured ? \"Un-f\" : \"F\"}eature page\n                    </Dropdown.Item>\n                    <Dropdown.Item\n                      onClick={() =>\n                        showModal(\n                          <ConfirmModal\n                            loggedInAs={loggedInAs}\n                            close={() => showModal(undefined)}\n                            onConfirm={() => deletePage(node)}\n                            title=\"Delete Page\"\n                            content=\"This will erase all suggested choices of this page, and their associated scores. This will NOT delete sub-pages of this page. Are you sure you wish to continue?\"\n                          />\n                        )\n                      }\n                      disabled={loggedInAs.screenName !== node.owner.screenName}\n                    >\n                      Delete\n                    </Dropdown.Item>\n                    <Dropdown.Item disabled>Make Private</Dropdown.Item>\n                    <Dropdown.Divider />\n                  </>\n                ) : (\n                  \"\"\n                )}\n                <Dropdown.Item onClick={() => reportNode(node.ID)}>\n                  Report\n                </Dropdown.Item>\n                {loggedInAs && loggedInAs.isAdmin ? (\n                  <>\n                    <Dropdown.Divider />\n                    <Dropdown.Item onClick={() => hidePage(node)}>\n                      {node.hidden ? \"Un-h\" : \"H\"}ide page\n                    </Dropdown.Item>\n                  </>\n                ) : (\n                  \"\"\n                )}\n              </DropdownButton>\n              <Card.Footer\n                className=\"text-muted text-center\"\n                {...(loggedInAs && loggedInAs.unsafeMode\n                  ? { style: { backgroundColor: palette[5] } }\n                  : {})}\n              >\n                <small>\n                  Author:{\" \"}\n                  <a\n                    href={`/crowdventure/#/account/${node.owner.screenName}`}\n                    style={{\n                      color:\n                        loggedInAs && loggedInAs.unsafeMode\n                          ? palette[0]\n                          : palette[2],\n                    }}\n                  >\n                    <img\n                      src={\n                        node.owner.profilePicURL\n                          ? node.owner.profilePicURL\n                          : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n                      }\n                      alt={node.owner.screenName + \" Profile Pic\"}\n                      onError={(e) => {\n                        e.target.src =\n                          process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\";\n                      }}\n                      style={{\n                        border: \"1px solid #bbb\",\n                        height: \"2em\",\n                        width: \"2em\",\n                        \"object-fit\": \"cover\",\n                        \"border-radius\": \"50%\",\n                      }}\n                    />{\" \"}\n                    {node.owner.screenName}\n                  </a>\n                  <br />\n                  Views:{\" \" + node.views}\n                </small>\n              </Card.Footer>\n            </Card>\n          );\n        })}\n      {showingModal || \"\"}\n    </CardColumns>\n  ) : (\n    <Alert\n      variant={\n        (loggedInAs && loggedInAs.unsafeMode) ||\n        new Cookies().get(\"unsafeMode\") === \"true\"\n          ? \"dark\"\n          : \"light\"\n      }\n    >\n      <Alert.Heading>Loading...</Alert.Heading>\n    </Alert>\n  );\n};\n\nexport default NodeViewer;\n","import React, { useState, useEffect } from \"react\";\n\nimport Cookies from \"universal-cookie\";\nimport {\n  Container,\n  Button,\n  Alert,\n  OverlayTrigger,\n  Tooltip,\n  Form,\n} from \"react-bootstrap\";\nimport BootstrapSwitchButton from \"bootstrap-switch-button-react\";\n\nimport { escape, query_call, palette, mutation_call } from \"./index\";\nimport CreateNodeModal from \"./Modals/CreateNodeModal\";\nimport EditAccountModal from \"./Modals/EditAccountModal\";\nimport PictureModal from \"./Modals/PictureModal\";\nimport UnsafeModal from \"./Modals/UnsafeModal\";\n\nimport NodeViewer from \"./NodeViewer\";\n\nimport { Redirect } from \"react-router-dom\";\n\nconst Account = (props) => {\n  const { loggedInAs, setLoggedInAs, match } = props;\n\n  const [redirect, setRedirect] = useState(undefined);\n  const [account, setAccount] = useState(undefined);\n  const [showingModal, showModal] = useState(undefined);\n\n  const [searchQuery, setSearchQuery] = useState(\"\");\n  const [searchedNodes, setSearchedNodes] = useState([]);\n\n  const reportAccount = () => {\n    if (account)\n      mutation_call(\n        \"createFeedback\",\n        {\n          ...(loggedInAs ? { accountScreenName: loggedInAs.screenName } : {}),\n          info: \"This is inappropriate\",\n          reportingObjectType: \"Account\",\n          reportingObjectID: account.screenName,\n        },\n        { info: 0, reporting: 0 },\n        () => {\n          alert(\"Successfully reported account!\");\n          window.location.reload(false);\n        }\n      );\n  };\n\n  useEffect(() => {\n    const pageID = escape(match.params.id);\n    if (!account || pageID !== account.screenName) {\n      query_call(\n        \"getAccount\",\n        { screenName: pageID },\n        {\n          bio: 0,\n          screenName: 0,\n          profilePicURL: 0,\n          totalNodeViews: 0,\n          totalSuggestionScore: 0,\n          hidden: 0,\n          isAdmin: 0,\n          featuredNodes: {\n            owner: { screenName: 0, profilePicURL: 0 },\n            featured: 0,\n            hidden: 0,\n            ID: 0,\n            title: 0,\n            views: 0,\n            pictureURL: 0,\n            pictureUnsafe: 0,\n          },\n          nodes: {\n            owner: { screenName: 0, profilePicURL: 0 },\n            featured: 0,\n            hidden: 0,\n            ID: 0,\n            title: 0,\n            content: 0,\n            views: 0,\n            pictureURL: 0,\n            pictureUnsafe: 0,\n          },\n        },\n        (res) => {\n          setAccount(res);\n          setSearchQuery(\"\");\n          setSearchedNodes([]);\n        }\n      );\n    }\n  });\n\n  if (account === undefined) {\n    return (\n      <Alert\n        variant={\n          (loggedInAs && loggedInAs.unsafeMode) ||\n          new Cookies().get(\"unsafeMode\") === \"true\"\n            ? \"dark\"\n            : \"light\"\n        }\n      >\n        <title>Loading Account...</title>\n        <Alert.Heading>Loading...</Alert.Heading>\n      </Alert>\n    );\n  }\n\n  if (account === null)\n    return (\n      <Alert variant=\"danger\">\n        <title>Error! Account: {match.params.id}</title>\n        <Alert.Heading>Oh snap! You ran into an error</Alert.Heading>\n        <p>\n          This page does not exist, or maybe our database is down. Who knows?\n          Not you. Hahahaha\n        </p>\n      </Alert>\n    );\n\n  if (\n    account.hidden &&\n    (!loggedInAs ||\n      (account.screenName !== loggedInAs.screenName && !loggedInAs.unsafeMode))\n  )\n    return (\n      <Alert variant=\"danger\">\n        <title>{account.screenName} on Crowdventure!</title>\n        <Alert.Heading>Unsafe!</Alert.Heading>\n        <p>\n          This page has been hidden from general users, because the content has\n          been deemed unsafe. If you would like to see it, log in and turn on{\" \"}\n          <b>Unsafe mode</b>!\n        </p>\n      </Alert>\n    );\n\n  return (\n    <Container>\n      <title>{account.screenName} on Crowdventure!</title>\n      {account.hidden &&\n      loggedInAs &&\n      account.screenName === loggedInAs.screenName &&\n      !loggedInAs.unsafeMode ? (\n        <Alert\n          variant=\"danger\"\n          dismissible\n          onClose={() => {\n            setAccount({ ...node, hidden: false });\n          }}\n        >\n          <Alert.Heading>Unsafe!</Alert.Heading>\n          <p>\n            This page has been hidden from general users, because the content\n            has been deemed unsafe. Users in unsafe mode can see this page and\n            its content. Since you own this page, you can see it. If you believe\n            this page should be considered safe, click <a href=\"\">Here</a>.\n          </p>\n        </Alert>\n      ) : (\n        \"\"\n      )}\n\n      <h1>\n        <img\n          src={\n            account.profilePicURL\n              ? account.profilePicURL\n              : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n          }\n          alt={account.screenName + \" Profile Pic\"}\n          onError={(e) => {\n            e.target.src = process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\";\n          }}\n          style={{\n            border: \"1px solid #bbb\",\n            height: \"3em\",\n            width: \"3em\",\n            \"object-fit\": \"cover\",\n            \"border-radius\": \"50%\",\n            \"margin-right\": \"5px\",\n            cursor: \"pointer\",\n          }}\n          onClick={() => {\n            showModal(\n              <PictureModal\n                loggedInAs={loggedInAs}\n                title={account.screenName}\n                pictureURL={\n                  account.profilePicURL\n                    ? account.profilePicURL\n                    : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n                }\n                close={() => showModal(undefined)}\n              />\n            );\n          }}\n        />{\" \"}\n        <span className=\"display-4 align-middle\">{account.screenName}</span>\n      </h1>\n\n      {account.bio ||\n      (loggedInAs && loggedInAs.screenName === account.screenName) ? (\n        <Container>\n          {account.bio\n            ? account.bio\n                .split(\"\\n\")\n                .map((line) => <p style={{ textIndent: \"5%\" }}>{line}</p>)\n            : \"\"}\n          {loggedInAs && loggedInAs.screenName === account.screenName ? (\n            <p style={{ textIndent: \"1%\" }} class=\"text-muted\">\n              Unsafe Mode:{\" \"}\n              <BootstrapSwitchButton\n                checked={loggedInAs.unsafeMode}\n                onstyle=\"secondary\"\n                size=\"sm\"\n                onChange={(checked) => {\n                  if (checked) {\n                    showModal(\n                      <UnsafeModal\n                        close={() => showModal(undefined)}\n                        loggedInAs={loggedInAs}\n                        onConfirm={() => {\n                          new Cookies().set(\"unsafeMode\", true, {\n                            path: \"/\",\n                          });\n                          setLoggedInAs({\n                            ...loggedInAs,\n                            unsafeMode: true,\n                          });\n                          showModal(undefined);\n                        }}\n                      />\n                    );\n                  } else {\n                    new Cookies().set(\"unsafeMode\", false, {\n                      path: \"/\",\n                    });\n                    setLoggedInAs({\n                      ...loggedInAs,\n                      unsafeMode: false,\n                    });\n                  }\n                }}\n              />\n              <OverlayTrigger\n                overlay={\n                  <Tooltip id=\"tooltip-unsafe\">\n                    Unsafe mode allows you to see all content on Crowdventure,\n                    including content that has been flagged as unsafe for the\n                    general public!\n                  </Tooltip>\n                }\n              >\n                <Button\n                  style={{\n                    backgroundColor: \"#00000000\",\n                    borderColor: \"#00000000\",\n                    borderRadius: \"50%\",\n                    color: loggedInAs.unsafeMode ? \"white\" : \"black\",\n                  }}\n                  size=\"xs\"\n                >\n                  <span className=\"fa fa-info-circle\" />\n                </Button>\n              </OverlayTrigger>\n            </p>\n          ) : (\n            \"\"\n          )}\n        </Container>\n      ) : (\n        \"\"\n      )}\n\n      <Container>\n        {loggedInAs &&\n        (loggedInAs.screenName === account.screenName || loggedInAs.isAdmin) ? (\n          <Button\n            variant=\"secondary\"\n            onClick={() => {\n              showModal(\n                <EditAccountModal\n                  account={account}\n                  loggedInAs={loggedInAs}\n                  screenName={account.screenName}\n                  bio={account.bio}\n                  profilePicture={account.profilePicURL}\n                  setAccount={setAccount}\n                  setRedirect={setRedirect}\n                  close={() => showModal(undefined)}\n                />\n              );\n            }}\n            size=\"sm\"\n          >\n            Edit Account\n          </Button>\n        ) : (\n          \"\"\n        )}{\" \"}\n        {loggedInAs && loggedInAs.screenName === account.screenName ? (\n          <Button\n            size=\"sm\"\n            onClick={() => {\n              new Cookies().set(\"account\", \"\", { path: \"/\" });\n              new Cookies().set(\"unsafeMode\", \"false\", { path: \"/\" });\n              window.location.reload(false);\n            }}\n            variant=\"secondary\"\n          >\n            Log out\n          </Button>\n        ) : (\n          \"\"\n        )}\n        <div style={{ float: \"right\" }} class=\"text-muted\">\n          Total views: {account.totalNodeViews} Total score:{\" \"}\n          {account.totalSuggestionScore}\n        </div>\n      </Container>\n      <br />\n\n      {loggedInAs && loggedInAs.screenName === account.screenName ? (\n        <Button\n          onClick={() => {\n            showModal(\n              <CreateNodeModal\n                close={() => showModal(undefined)}\n                loggedInAs={loggedInAs}\n                featured={true}\n                callback={(res) =>\n                  setRedirect(<Redirect to={`/node/${res.ID}`} />)\n                }\n              />\n            );\n          }}\n          style={{\n            width: \"100%\",\n            border: `1px solid ${palette[2]}`,\n            backgroundColor: palette[0],\n          }}\n          onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n          onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n        >\n          Create a New Adventure!\n        </Button>\n      ) : (\n        \"\"\n      )}\n\n      <p />\n\n      <h3>Featured Pages:</h3>\n      <NodeViewer nodes={account.featuredNodes} loggedInAs={loggedInAs} />\n      <h3>Search All Pages Authored by {account.screenName}:</h3>\n      <Form>\n        <Form.Control\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5], color: \"white\" } }\n            : {})}\n          value={searchQuery}\n          placeholder={\"Search for a page...\"}\n          onChange={(e) => {\n            setSearchQuery(e.target.value);\n            if (e.target.value.length >= 2) {\n              setSearchedNodes([\n                ...account.nodes.filter((node) =>\n                  node.title\n                    .toLowerCase()\n                    .includes(e.target.value.toLowerCase())\n                ),\n                ...account.nodes.filter(\n                  (node) =>\n                    !node.title\n                      .toLowerCase()\n                      .includes(e.target.value.toLowerCase()) &&\n                    node.content\n                      .toLowerCase()\n                      .includes(e.target.value.toLowerCase())\n                ),\n              ]);\n            } else {\n              setSearchedNodes([]);\n            }\n          }}\n        />\n      </Form>\n      {searchQuery ? (\n        <NodeViewer nodes={searchedNodes} loggedInAs={loggedInAs} />\n      ) : (\n        \"\"\n      )}\n\n      <Container>\n        <Button\n          style={{ marginRight: \"0\", marginLeft: \"auto\", display: \"block\" }}\n          variant=\"danger\"\n          size=\"sm\"\n          onClick={reportAccount}\n        >\n          Report Account\n        </Button>\n      </Container>\n\n      {showingModal || \"\"}\n      {redirect || \"\"}\n    </Container>\n  );\n};\n\nexport default Account;\n","import React, { useState, useEffect } from \"react\";\nimport { Container, Button, OverlayTrigger, Tooltip } from \"react-bootstrap\";\n\nimport NodeViewer from \"./NodeViewer\";\n\nimport { query_call, palette } from \"./index\";\nimport { Redirect } from \"react-router-dom\";\nimport CreateNodeModal from \"./Modals/CreateNodeModal\";\n\nconst Home = (props) => {\n  const { loggedInAs } = props;\n\n  const [topNodes, setTopNodes] = useState(undefined);\n  const [showingModal, showModal] = useState(undefined);\n  const [redirect, setRedirect] = useState(undefined);\n\n  useEffect(() => {\n    query_call(\n      \"featuredNodes\",\n      {},\n      {\n        hidden: 0,\n        ID: 0,\n        title: 0,\n        owner: { screenName: 0, profilePicURL: 0 },\n        views: 0,\n        size: 0,\n        pictureURL: 0,\n        pictureUnsafe: 0,\n      },\n      (res) => setTopNodes(res)\n    );\n  }, []);\n\n  return (\n    <Container>\n      <title>Crowdventure!</title>\n      <h1 className=\"display-4 text-center\">Welcome!</h1>\n      <Container className=\"text-center\">\n        Crowdventure is a Crowd-Sourced\n        Choose-and-Create-Your-Own-Adventure-Game!\n      </Container>\n      <p />\n\n      <OverlayTrigger\n        overlay={\n          !loggedInAs ? (\n            <Tooltip id=\"tooltip-disabled\">You must be signed in!</Tooltip>\n          ) : (\n            <p />\n          )\n        }\n        style={{ width: \"100%\" }}\n      >\n        <span className=\"d-inline-block\" style={{ width: \"100%\" }}>\n          <Button\n            onClick={() => {\n              showModal(\n                <CreateNodeModal\n                  featured={true}\n                  loggedInAs={loggedInAs}\n                  close={() => showModal(undefined)}\n                  callback={(res) =>\n                    setRedirect(<Redirect to={`/node/${res.ID}`} />)\n                  }\n                />\n              );\n            }}\n            disabled={!loggedInAs}\n            style={{\n              width: \"100%\",\n              pointerEvents: loggedInAs ? \"auto\" : \"none\",\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n          >\n            Create a New Adventure!\n          </Button>\n        </span>\n      </OverlayTrigger>\n      <p />\n\n      <h3>Featured Pages:</h3>\n      <NodeViewer nodes={topNodes} loggedInAs={loggedInAs} />\n      {showingModal || \"\"}\n      {redirect || \"\"}\n    </Container>\n  );\n};\n\nexport default Home;\n","import React, { useState } from \"react\";\nimport { Button, Modal, Form } from \"react-bootstrap\";\n\nimport { mutation_call, palette, escape } from \"../index\";\n\nimport Cookies from \"universal-cookie\";\n\nconst LoginModal = (props) => {\n  const { loggedInAs, setLoggedInAs, close } = props;\n\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n\n  const [screenName, setScreenName] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  const login = () => {\n    const esScreenName = escape(screenName);\n    const esPass = escape(password);\n\n    mutation_call(\n      \"loginAccount\",\n      { screenName: esScreenName, password: esPass },\n      { screenName: 0, profilePicURL: 0, isAdmin: 0 },\n      (res) => {\n        if (res) {\n          new Cookies().set(\"account\", screenName, { path: \"/\" });\n          setLoggedInAs(res);\n          setShow(false);\n          close();\n        } else {\n          setInfo(\n            <div style={{ color: \"red\" }}>\n              That account does not exist or the password did not match!\n            </div>\n          );\n        }\n      }\n    );\n  };\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Log in</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          <Form.Label>Screen Name:</Form.Label>\n          <Form.Control\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            value={screenName}\n            onChange={(e) => setScreenName(e.target.value)}\n          />\n          <Form.Label>Password:</Form.Label>\n          <Form.Control\n            {...(loggedInAs && loggedInAs.unsafeMode\n              ? { style: { backgroundColor: palette[5], color: \"white\" } }\n              : {})}\n            type=\"password\"\n            value={password}\n            onChange={(e) => setPassword(e.target.value)}\n          />\n          {info ? info : \"\"}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            variant=\"primary\"\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n            onClick={() =>\n              screenName\n                ? password\n                  ? login()\n                  : setInfo(\n                      <span style={{ color: \"red\" }}>\n                        Please enter your screenName!\n                      </span>\n                    )\n                : setInfo(\n                    <span style={{ color: \"red\" }}>\n                      Please enter your password!\n                    </span>\n                  )\n            }\n          >\n            Log in\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default LoginModal;\n","import React, { useState } from \"react\";\n\nimport { Modal, Button, Form } from \"react-bootstrap\";\n\nimport { query_call, mutation_call, palette } from \"../index\";\n\nimport Cookies from \"universal-cookie\";\n\nconst SignUpModal = (props) => {\n  const { loggedInAs, setLoggedInAs, close } = props;\n  const [show, setShow] = useState(true);\n  const [info, setInfo] = useState(\"\");\n\n  const [screenName, setScreenName] = useState(\"\");\n  const [pass1, setPass1] = useState(\"\");\n  const [pass2, setPass2] = useState(\"\");\n\n  const handleSubmitSignUp = () => {\n    if (pass1 !== pass2)\n      setInfo(<div style={{ color: \"red\" }}>Passwords must match!</div>);\n    else {\n      const esScreenName = escape(screenName);\n      query_call(\n        \"getAccount\",\n        { screenName: esScreenName },\n        { screenName: 0 },\n        (res) => {\n          if (res) {\n            setInfo(\n              <div style={{ color: \"red\" }}>That account already exists!</div>\n            );\n          } else {\n            createAccount();\n          }\n        }\n      );\n    }\n  };\n\n  const createAccount = () => {\n    const esScreenName = escape(screenName);\n    const esPass = escape(pass1);\n    mutation_call(\n      \"createAccount\",\n      { screenName: esScreenName, password: esPass },\n      { screenName: 0, profilePicURL: 0, isAdmin: 0 },\n      (res) => {\n        if (res) {\n          new Cookies().set(\"account\", screenName, { path: \"/\" });\n          setLoggedInAs(res);\n          setShow(false);\n          close();\n        }\n      }\n    );\n  };\n\n  return (\n    <Modal\n      show={show}\n      onHide={() => {\n        setShow(false);\n        close();\n      }}\n    >\n      <Modal.Header\n        {...(loggedInAs && loggedInAs.unsafeMode\n          ? { style: { backgroundColor: palette[5] } }\n          : {})}\n        closeButton\n      >\n        <Modal.Title>Sign Up for Crowdventure!</Modal.Title>\n      </Modal.Header>\n      <Form>\n        <Modal.Body\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[4] } }\n            : {})}\n        >\n          <Form.Group>\n            <Form.Label>Screen Name:</Form.Label>\n            <Form.Control\n              value={screenName}\n              onChange={(e) => setScreenName(e.target.value)}\n            />\n            <Form.Label>Create Password:</Form.Label>\n            <Form.Control\n              {...(loggedInAs && loggedInAs.unsafeMode\n                ? { style: { backgroundColor: palette[5], color: \"white\" } }\n                : {})}\n              type=\"password\"\n              value={pass1}\n              onChange={(e) => setPass1(e.target.value)}\n            />\n            <Form.Label>Confirm Password:</Form.Label>\n            <Form.Control\n              {...(loggedInAs && loggedInAs.unsafeMode\n                ? { style: { backgroundColor: palette[5], color: \"white\" } }\n                : {})}\n              type=\"password\"\n              value={pass2}\n              onChange={(e) => setPass2(e.target.value)}\n            />\n          </Form.Group>\n          {info ? info : \"\"}\n        </Modal.Body>\n        <Modal.Footer\n          {...(loggedInAs && loggedInAs.unsafeMode\n            ? { style: { backgroundColor: palette[5] } }\n            : {})}\n        >\n          <Button\n            variant=\"primary\"\n            style={{\n              border: `1px solid ${palette[2]}`,\n              backgroundColor: palette[0],\n            }}\n            onMouseEnter={(e) => (e.target.style.backgroundColor = palette[2])}\n            onMouseLeave={(e) => (e.target.style.backgroundColor = palette[0])}\n            onClick={() =>\n              screenName\n                ? pass1\n                  ? handleSubmitSignUp()\n                  : setInfo(\n                      <span style={{ color: \"red\" }}>\n                        Please enter a screen name!\n                      </span>\n                    )\n                : setInfo(\n                    <span style={{ color: \"red\" }}>\n                      Please enter a password!\n                    </span>\n                  )\n            }\n          >\n            Sign Up\n          </Button>\n        </Modal.Footer>\n      </Form>\n    </Modal>\n  );\n};\n\nexport default SignUpModal;\n","import React, { useState } from \"react\";\nimport { Navbar, Button } from \"react-bootstrap\";\n\nimport LoginModal from \"./Modals/LoginModal\";\nimport SignUpModal from \"./Modals/SignUpModal\";\n\nconst AccountManager = (props) => {\n  const { loggedInAs, setLoggedInAs } = props;\n  const [showingModal, showModal] = useState(undefined);\n\n  if (loggedInAs === undefined || loggedInAs === null) {\n    return (\n      <Navbar.Text>\n        You are not logged in.{\" \"}\n        <Button\n          variant=\"light\"\n          onClick={() => {\n            showModal(\n              <LoginModal\n                loggedInAs={loggedInAs}\n                setLoggedInAs={setLoggedInAs}\n                close={() => showModal(undefined)}\n              />\n            );\n          }}\n          size=\"sm\"\n        >\n          Log In\n        </Button>{\" \"}\n        or{\" \"}\n        <Button\n          variant=\"light\"\n          onClick={() => {\n            showModal(\n              <SignUpModal\n                loggedInAs={loggedInAs}\n                setLoggedInAs={setLoggedInAs}\n                close={() => showModal(undefined)}\n              />\n            );\n          }}\n          size=\"sm\"\n        >\n          Sign Up\n        </Button>\n        {showingModal || \"\"}\n      </Navbar.Text>\n    );\n  }\n\n  return (\n    <Navbar.Text\n      style={{ color: loggedInAs && loggedInAs.unsafeMode ? \"grey\" : \"\" }}\n    >\n      You are logged in as:{\" \"}\n      <a\n        href={`/crowdventure/#/account/${loggedInAs.screenName}`}\n        style={{ color: loggedInAs && loggedInAs.unsafeMode ? \"white\" : \"\" }}\n      >\n        <img\n          src={\n            loggedInAs.profilePicURL\n              ? loggedInAs.profilePicURL\n              : process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\"\n          }\n          onError={(e) => {\n            e.target.src = process.env.PUBLIC_URL + \"/defaultProfilePic.jpg\";\n          }}\n          style={{\n            border: \"1px solid #bbb\",\n            height: \"2em\",\n            width: \"2em\",\n            \"object-fit\": \"cover\",\n            \"border-radius\": \"50%\",\n          }}\n        />{\" \"}\n        {loggedInAs.screenName}\n      </a>\n    </Navbar.Text>\n  );\n};\n\nexport default AccountManager;\n","import React, { useState, useEffect } from \"react\";\nimport { HashRouter, Route, Switch } from \"react-router-dom\";\n\nimport Node from \"./Node/Node\";\nimport Account from \"./Account\";\nimport Home from \"./Home\";\nimport AccountManager from \"./AccountManager\";\n\nimport { Navbar, Container } from \"react-bootstrap\";\n\nimport Cookies from \"universal-cookie\";\nimport history from \"history/browser\";\n\nimport { mutation_call, palette } from \"./index\";\nconst packageJson = require(\"../package.json\");\n\nconst App = () => {\n  const [loggedInAs, setLoggedInAs] = useState(undefined);\n\n  useEffect(() => {\n    if (loggedInAs === undefined) {\n      const cookies = new Cookies();\n      const savedAccount = escape(cookies.get(\"account\"));\n\n      if (!savedAccount || savedAccount === \"\")\n        cookies.set(\"unsafeMode\", \"false\", { path: \"/\" });\n\n      mutation_call(\n        \"loginAccount\",\n        { screenName: savedAccount },\n        { screenName: 0, profilePicURL: 0, isAdmin: 0 },\n        (res) => {\n          if (res) {\n            res.unsafeMode = cookies.get(\"unsafeMode\") === \"true\";\n            setLoggedInAs(res);\n          } else {\n            cookies.set(\"account\", \"\", { path: \"/\" });\n            cookies.set(\"unsafeMode\", \"false\", { path: \"/\" });\n          }\n        }\n      );\n    }\n\n    if (\n      new Cookies().get(\"unsafeMode\") === \"true\" ||\n      (loggedInAs && loggedInAs.unsafeMode)\n    ) {\n      document.getElementById(\"root\").style.backgroundImage = `linear-gradient(\n      to right,\n      rgb(158, 232, 255),\n      ${palette[3]} 10%,\n      ${palette[3]} 90%,\n      rgb(158, 232, 255)\n    )`;\n      document.getElementById(\"root\").style.color = \"rgb(225, 240, 255)\";\n    } else {\n      document.getElementById(\"root\").style.backgroundImage = `linear-gradient(\n        to right,\n        rgb(158, 232, 255),\n        rgb(245,250,255) 10%,\n        rgb(245,250,255) 90%,\n        rgb(158, 232, 255)\n      )`;\n      document.getElementById(\"root\").style.color = \"\";\n    }\n  });\n\n  return (\n    <Container>\n      <Navbar expand=\"lg\">\n        <Navbar.Brand href=\"/crowdventure\">\n          <img\n            href=\"/crowdventure\"\n            src={process.env.PUBLIC_URL + \"/logo.png\"}\n            alt=\"Crowdventure Logo\"\n            style={{ width: \"100%\" }}\n          />\n        </Navbar.Brand>\n        <a href=\"https://github.com/benjaminjkern/crowdventure/blob/master/CHANGELOG.md\">\n          <small class=\"text-muted\">Version: {packageJson.version}</small>\n        </a>\n        <Navbar.Toggle aria-controls=\"basic-navbar-nav\" className=\"bg-light\" />\n        <Navbar.Collapse id=\"basic-navbar-nav\" className=\"justify-content-end\">\n          <AccountManager\n            loggedInAs={loggedInAs}\n            setLoggedInAs={setLoggedInAs}\n          />\n        </Navbar.Collapse>\n      </Navbar>\n      <HashRouter>\n        <Switch>\n          <Route\n            path=\"/\"\n            render={(props) => <Home {...props} loggedInAs={loggedInAs} />}\n            exact\n          />\n          <Route\n            path=\"/node/:id\"\n            render={(props) => (\n              <Node {...props} loggedInAs={loggedInAs} history={history} />\n            )}\n          />\n          <Route\n            path=\"/account/:id\"\n            render={(props) => (\n              <Account\n                {...props}\n                loggedInAs={loggedInAs}\n                setLoggedInAs={setLoggedInAs}\n              />\n            )}\n          />\n        </Switch>\n      </HashRouter>\n      <Navbar className=\"text-right\">\n        <small class=\"text-muted\">@ 2020 Copyright: (MIT) Benjamin Kern</small>\n      </Navbar>\n      <title>Crowdventure! - Page not found!</title>\n    </Container>\n  );\n};\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport App from \"./App\";\n\nconst { createApolloFetch } = require(\"apollo-fetch\");\n\nconst app_fetch = createApolloFetch({\n  uri: require(\"./apolloURL.js\").backendURL,\n});\n\nconst query_call = (query, parameters, attributes, callback) => {\n  app_fetch({\n    query: `query{${query}${formatParameters(parameters)}${formatAttributes(\n      attributes\n    )}}`,\n  }).then((res, err) => {\n    if (err) alert(err);\n    if (res.data) callback(res.data[query]);\n    else alert(\"Something went wrong when calling query\");\n  });\n};\n\nconst mutation_call = (query, parameters, attributes, callback, setInfo) => {\n  if (setInfo)\n    setInfo(\n      `mutation{${query}${formatParameters(parameters)}${formatAttributes(\n        attributes\n      )}}`\n    );\n  app_fetch({\n    query: `mutation{${query}${formatParameters(parameters)}${formatAttributes(\n      attributes\n    )}}`,\n  }).then((res, err) => {\n    if (err) alert(err);\n    if (res.data) callback(res.data[query]);\n    else alert(\"Something went wrong when calling mutation\");\n  });\n};\n\nconst formatParameters = (parameters) =>\n  Object.keys(parameters).length > 0\n    ? `(${Object.keys(parameters)\n        .map(\n          (param) =>\n            `${param}:${typeof parameters[param] === \"string\" ? '\"' : \"\"}${\n              parameters[param]\n            }${typeof parameters[param] === \"string\" ? '\"' : \"\"}`\n        )\n        .join(\",\")})`\n    : \"\";\n\nconst formatAttributes = (attributes) =>\n  Object.keys(attributes).length > 0\n    ? `{${Object.keys(attributes)\n        .map((attribute) => attribute + formatAttributes(attributes[attribute]))\n        .join(\",\")}}`\n    : \"\";\n\nconst escape = (text, newlines = false) =>\n  text\n    ? newlines\n      ? text.replace(/\"$/, ' \" ').replace(/^\"/, ' \" ').replace(/\"\"\"/g, ` \"\" \" `)\n      : text.replace(/\\n/g, \"\").replace(/\\\\/g, `\\\\\\\\`).replace(/\"/g, `\\\\\"`)\n    : text;\n\nconst palette = [\n  \"rgb(100, 180, 244)\", // original\n  \"rgb(158, 232, 255)\", // light\n  \"rgb(80, 160, 224)\", //dark\n  \"rgb(34,34,34)\", // darker grey\n  \"rgb(41,41,41)\", // original grey\n  \"rgb(50,50,50)\",\n];\n\n// ========================================\n\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\nexport { app_fetch, escape, palette, query_call, mutation_call };\n","const backendURL =\n    \"https://3yfp7ejc0m.execute-api.us-east-1.amazonaws.com/dev/graphql\";\n\nconst BING_API_KEY = \"8300cebe5f0d452a9ccb4bca67af4659\";\n\nmodule.exports = { backendURL, BING_API_KEY };"],"sourceRoot":""}