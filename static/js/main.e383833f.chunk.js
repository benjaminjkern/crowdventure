(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"name":"client","version":"0.1.5","private":true,"homepage":"http://benjaminjkern.github.io/crowdventure","dependencies":{"@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","apollo-fetch":"^0.7.0","apollo-link":"^1.2.14","apollo-link-http":"^1.5.17","apollo-upload-client":"^14.1.1","bootstrap":"^4.5.0","bs-custom-file-input":"^1.3.4","cloudinary":"^1.22.0","cloudinary-core":"^2.11.1","cloudinary-react":"^1.6.5","color-thief-node":"^1.0.3","color-thief-react":"^1.0.2","colorthief":"^2.3.2","fs":"0.0.1-security","graphql":"^15.0.0","graphql-tag":"^2.11.0","graphql-tools":"^4.0.7","history":"^5.0.0","local-storage":"^2.0.0","lodash":"^4.17.19","node-fetch":"^2.6.0","react":"^16.13.1","react-aspect-ratio":"^1.0.42","react-bootstrap":"^1.0.1","react-bootstrap-typeahead":"^5.0.0","react-cookie":"^4.0.3","react-dom":"^16.13.1","react-router-dom":"^5.1.2","react-router-redux":"^4.0.8","react-scripts":"3.4.1","react-transition-group":"^4.4.1","request-ip":"^2.1.3","yargs-parser":"^18.1.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"eslint":"^6.8.0","eslint-config-prettier":"^6.10.1","eslint-plugin-react":"^7.19.0","gh-pages":"^3.1.0","prettier":"^2.0.4"}}')},118:function(e,t,a){"use strict";a.r(t),a.d(t,"app_fetch",(function(){return A})),a.d(t,"escape",(function(){return T})),a.d(t,"palette",(function(){return q})),a.d(t,"SearchImage",(function(){return H}));var n=a(75),r=a(7),c=a(0),o=a.n(c),l=a(19),i=a.n(l),u=a(51),s=a(14),d=a(41),m=a(49),g=a(20),E=a(125),p=a(126),f=a(86),h=a(133),b=a(127),w=a(130),v=a(131),y=a(128),j=a(134),C=a(129),N=a(65),x=a(61),O=function(e){var t=e.owner,a=e.account,n=e.choices,l=e.nodeID,i=e.canon,u=e.onEdit,s=Object(c.useState)(""),g=Object(r.a)(s,2),E=g[0],p=(g[1],Object(c.useState)(void 0)),f=Object(r.a)(p,2),h=f[0],b=f[1],w=Object(c.useState)(void 0),v=Object(r.a)(w,2),x=v[0],O=v[1],k=Object(c.useState)(void 0),S=Object(r.a)(k,2),P=S[0],L=S[1];return Object(c.useEffect)((function(){x&&x===l&&void 0!==P||(b(Object(m.a)({},n.reduce((function(e,t,n){return Object(m.a)({},e,Object(d.a)({},n,{disliked:!!a&&t.dislikedBy.map((function(e){return e.screenName})).includes(a.screenName),liked:!!a&&t.likedBy.map((function(e){return e.screenName})).includes(a.screenName),score:t.score}))}),{}))),O(l),L(a))})),h&&x===l&&void 0!==P?o.a.createElement(y.a,null,E||"",n.map((function(e,n){return o.a.createElement(j.a,{className:"text-center"},o.a.createElement("a",{href:e.to?"/crowdventure/#/node/".concat(e.to.ID):"",style:{pointerEvents:e.to?"auto":"none",color:e.to?void 0:"grey"}},o.a.createElement(j.a.Body,{style:{cursor:"pointer",paddingTop:"2em"}},o.a.createElement(j.a.Title,null,e.action))),o.a.createElement(C.a,{variant:"light",style:{position:"absolute",top:"0px",right:"0px"},size:"sm",drop:"right",title:o.a.createElement("span",{class:"fa"},"\uf013")},o.a.createElement(N.a.Item,{disabled:!a||a.screenName!==t.screenName,onClick:function(){return i?(t=e.ID,void A({query:'mutation{makeNonCanon(choiceID:"'.concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeNonCanon&&window.location.reload(!1)}))):function(e){A({query:'mutation{makeCanon(choiceID:"'.concat(e,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeCanon&&setTimeout((function(){return window.location.reload(!1)}),100)}))}(e.ID);var t}},"Make ",i?"Nonc":"C","anon"),o.a.createElement(N.a.Item,{disabled:!a||a.screenName!==e.suggestedBy.screenName&&a.screenName!==t.screenName,onClick:function(){return t=e.ID,void A({query:'mutation{removeSuggestion(choiceID:"'.concat(t,'")}')}).then((function(e,t){t&&alert(t),e.data&&window.location.reload(!1)}));var t}},"Delete"),o.a.createElement(N.a.Item,{onClick:function(){return u(e)},disabled:!a||a.screenName!==e.suggestedBy.screenName&&(!i||a.screenName!==t.screenName)},"Edit"),o.a.createElement(N.a.Divider,null),o.a.createElement(N.a.Item,{disabled:!0},"Report")),o.a.createElement(j.a.Footer,null,o.a.createElement("a",{href:"/crowdventure/#/node/".concat(l),style:{pointerEvents:a?"auto":"none",color:a?h[n].disliked?"red":"black":"grey"},className:"fa fa-thumbs-down",onClick:function(t){var r;a&&b(Object(m.a)({},h,Object(d.a)({},n,{liked:!1,disliked:!h[n].disliked,score:h[n].score+(h[n].liked?-2:h[n].disliked?1:-1)}))),r=e.ID,a&&A({query:'mutation{dislikeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(r,'"){ID}}')}).then((function(e,t){t&&alert(t)}))}})," "+(h[n]?h[n].score:0)+" ",o.a.createElement("a",{href:"/crowdventure/#/node/".concat(l),style:{pointerEvents:a?"auto":"none",color:a&&h[n]?h[n].liked?"green":"black":"grey"},className:"fa fa-thumbs-up",onClick:function(){var t;a&&b(Object(m.a)({},h,Object(d.a)({},n,{disliked:!1,liked:!h[n].liked,score:h[n].score+(h[n].disliked?2:h[n].liked?-1:1)}))),t=e.ID,a&&A({query:'mutation{likeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t)}))}}),o.a.createElement("br",null),o.a.createElement("small",{className:"text-muted"},"Suggested By:"," ",o.a.createElement("a",{href:"/crowdventure/#/account/".concat(e.suggestedBy.screenName)},o.a.createElement("img",{src:e.suggestedBy.profilePicURL?e.suggestedBy.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",e.suggestedBy.screenName))))}))):null},k=function(e){var t=e.callback,a=e.toID,n=Object(c.useState)(void 0),l=Object(r.a)(n,2),i=l[0],u=l[1],s=Object(c.useState)(void 0),d=Object(r.a)(s,2),m=d[0],g=d[1];return Object(c.useEffect)((function(){a?A({query:'query{getNode(ID:"'.concat(a,'"){title,ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getNode?g(e.data.getNode):alert("Something went wrong when retrieving node")})):g(null),A({query:"query{allNodes{title,owner{screenName,profilePicURL},ID}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allNodes?u(e.data.allNodes):alert("Something went wrong when retrieving all nodes")}))}),[]),i&&void 0!==m?o.a.createElement(x.b,{filterBy:function(e,a){return""===a.text?(t(""),!0):e.title.toLowerCase().includes(a.text.toLowerCase())||e.owner.screenName.toLowerCase().includes(a.text.toLowerCase())},defaultSelected:[m?m.title:""],labelKey:"title",options:i,placeholder:"(Leave Empty to Create New Page)",renderMenuItemChildren:function(e){return o.a.createElement("div",{onClick:function(){return t(e.ID)}},e.title,o.a.createElement("div",null,o.a.createElement("small",null,"Author:"," ",o.a.createElement("img",{src:e.owner.profilePicURL?e.owner.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",e.owner.screenName)))}}):o.a.createElement("div",null,"Loading...")},S=function(e){var t=e.history,a=e.match,n=Object(c.useState)(void 0),l=Object(r.a)(n,1)[0],i=Object(c.useState)(void 0),u=Object(r.a)(i,2),s=u[0],d=u[1],m=Object(c.useState)(void 0),y=Object(r.a)(m,2),j=y[0],C=y[1],N=Object(c.useState)(""),x=Object(r.a)(N,2),S=x[0],P=x[1],L=Object(c.useState)(!1),I=Object(r.a)(L,2),R=I[0],D=I[1],U=Object(c.useState)(""),B=Object(r.a)(U,2),F=B[0],M=B[1],z=Object(c.useState)(""),Y=Object(r.a)(z,2),G=Y[0],V=Y[1],K=Object(c.useState)(!1),W=Object(r.a)(K,2),_=W[0],J=W[1],Q=Object(c.useState)(""),X=Object(r.a)(Q,2),Z=X[0],$=X[1],ee=Object(c.useState)(""),te=Object(r.a)(ee,2),ae=te[0],ne=te[1],re=Object(c.useState)(void 0),ce=Object(r.a)(re,2),oe=ce[0],le=ce[1],ie=Object(c.useState)(void 0),ue=Object(r.a)(ie,2),se=ue[0],de=ue[1],me=Object(c.useState)(!1),ge=Object(r.a)(me,2),Ee=ge[0],pe=ge[1],fe=Object(c.useState)(!1),he=Object(r.a)(fe,2),be=he[0],we=he[1],ve=Object(c.useState)(!1),ye=Object(r.a)(ve,2),je=ye[0],Ce=ye[1],Ne=Object(c.useState)(""),xe=Object(r.a)(Ne,2),Oe=xe[0],ke=xe[1],Se=Object(c.useState)(!1),Pe=Object(r.a)(Se,2),Le=Pe[0],Ie=Pe[1],Re=Object(c.useState)(!1),De=Object(r.a)(Re,2),Ue=De[0],Be=De[1];return Object(c.useEffect)((function(){var t=T(a.params.id);if(j&&t===j.ID||A({query:'query{getNode(ID:"'.concat(t,'"){pictureURL,fgColor,bgColor,ID,title,content,views,owner{screenName,profilePicURL},canonChoices{suggestedBy{screenName,profilePicURL},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}},nonCanonChoices{suggestedBy{screenName,profilePicURL},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}}}}')}).then((function(t,a){a&&alert(a),t.data&&t.data.getNode?(C(t.data.getNode),e.setBgColor(t.data.getNode.bgColor),e.setFgColor(t.data.getNode.fgColor)):C(null)})),void 0===s){var n=new g.a,r=T(n.get("account"));r?A({query:'mutation{loginAccount(screenName:"'.concat(r,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data?d(e.data.loginAccount):(alert("Something went wrong when retrieving account, logging out"),n.set("account","",{path:"/"}),d(null))})):d(null)}})),void 0===j?o.a.createElement(E.a,{variant:"light"},o.a.createElement("title",null,"Loading Page..."),o.a.createElement(E.a.Heading,null,"Loading...")):null===j?o.a.createElement(E.a,{variant:"danger"},o.a.createElement(E.a.Heading,null,"Oh snap! You ran into an error"),o.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):o.a.createElement(p.a,null,o.a.createElement("title",null,"Crowdventure! - ",j.title),o.a.createElement("h1",{class:"display-4 text-center"},j.title),j.pictureURL?o.a.createElement("img",{src:j.pictureURL,onLoad:function(e){e.target.style.display="block"},onError:function(e){e.target.style.display="none"},style:{display:"block",marginLeft:"auto",marginRight:"auto",padding:"1px",border:"1px solid #eee","border-radius":"8px",width:"90%",maxHeight:"30vh","object-fit":"cover",cursor:"pointer"},onClick:function(){Ie(!0),P("")}}):"",o.a.createElement("br",null),o.a.createElement(p.a,null,j.content.split("\n").map((function(e){return o.a.createElement("p",{style:{textIndent:"5%"}},e)}))),o.a.createElement(p.a,{className:"row",style:{paddingRight:"0px",paddingBottom:"5px"}},o.a.createElement("div",{class:"col"},o.a.createElement("h3",null,"Choices:")),o.a.createElement("div",{class:"col",style:{paddingRight:"0px"}},o.a.createElement(f.a,{onClick:function(){t.back()},size:"lg",className:"float-right",style:{border:"1px solid ".concat(q[2]),backgroundColor:q[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=q[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=q[0]}},"Go back!"))),j.canonChoices.length?o.a.createElement(O,{owner:j.owner,choices:j.canonChoices,account:s,canon:!0,nodeID:j.ID,onEdit:function(e){M(e.action),V(e.to.ID),ke(e.ID),Ce(!0),P("")}}):o.a.createElement("p",{className:"text-muted"},"By decree of ",o.a.createElement("strong",null,j.owner.screenName),", this journey ends here."),o.a.createElement("p",null),o.a.createElement(p.a,{className:"row",style:{paddingRight:"0px"}},o.a.createElement("div",{class:"col align-bottom"},o.a.createElement("h3",{class:"align-bottom"},"Other options:")),o.a.createElement("div",{class:"col text-right",style:{paddingRight:"0px"}},o.a.createElement("small",{class:"text-muted"},"Author:"," ",o.a.createElement("a",{href:"/crowdventure/#/account/".concat(j.owner.screenName)},o.a.createElement("img",{src:j.owner.profilePicURL?j.owner.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",j.owner.screenName," ")," ",o.a.createElement("br",null),"Views: ",j.views),s&&j.owner.screenName===s.screenName?o.a.createElement("p",null,o.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){$(j.title),ne(j.content),le(j.pictureURL||""),pe(!0),P("")}},"Edit Page")):"")),o.a.createElement("p",null),o.a.createElement(h.a,{overlay:s?o.a.createElement("p",null):o.a.createElement(b.a,{id:"tooltip-disabled"},"You must be signed in!"),style:{width:"100%"}},o.a.createElement("span",{className:"d-inline-block",style:{width:"100%"}},o.a.createElement(f.a,{onClick:function(){D(!0),V(""),ke(""),M(""),P("")},disabled:!s,style:{width:"100%",pointerEvents:s?"auto":"none",border:"1px solid ".concat(q[2]),backgroundColor:q[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=q[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=q[0]}},"Suggest New Choice"))),o.a.createElement("p",null),o.a.createElement(O,{owner:j.owner,choices:j.nonCanonChoices,account:s,canon:!1,nodeID:j.ID,onEdit:function(e){M(e.action),V(e.to.ID),ke(e.ID),Ce(!0),P("")}}),o.a.createElement(w.a,{show:je,onHide:function(){return Ce(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Editing Choice")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,o.a.createElement(v.a.Label,null,"Action:"),o.a.createElement(v.a.Control,{value:F,onChange:function(e){return M(e.target.value)}}),o.a.createElement(v.a.Label,null,"Go to Page:"),o.a.createElement(k,{callback:function(e){return V(e)},toID:G}),S||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){return F?function e(t){if(t){var a=T(F);A({query:'mutation{editSuggestion(choiceID:"'.concat(Oe,'",action:"').concat(a,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data?(Ce(!1),J(!1),window.location.reload(!1)):alert("Something went wrong when editing choice!")}))}else Ce(!1),J(!0),P(""),$(""),ne(""),le(j.pictureURL||""),de([e])}(G):P(o.a.createElement("span",{style:{color:"red"}},"Action cannot be empty!"))}},"Edit Choice")))),o.a.createElement(w.a,{show:R,onHide:function(){return D(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Suggesting New Choice")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,o.a.createElement(v.a.Label,null,"Action:"),o.a.createElement(v.a.Control,{value:F,onChange:function(e){return M(e.target.value)}}),o.a.createElement(v.a.Label,null,"Go to Page:"),o.a.createElement(k,{callback:function(e){return V(e)},toID:G}),S||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){return F?function e(t){if(t){var a=T(F);A({query:'mutation{suggestChoice(accountScreenName:"'.concat(s.screenName,'",fromID:"').concat(j.ID,'",action:"').concat(a,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data?(D(!1),J(!1),window.location.reload(!1)):alert("Something went wrong when creating choice!")}))}else D(!1),J(!0),$(""),ne(""),P(""),le(j.pictureURL||""),de([e])}(G):P(o.a.createElement("span",{style:{color:"red"}},"Action cannot be empty!"))}},"Submit New Choice")))),o.a.createElement(w.a,{show:_,onHide:function(){return J(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Creating New Page")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,oe?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},o.a.createElement("img",{src:oe,onError:function(e){P(o.a.createElement("span",{style:{color:"red"}},"Picture not found!")),le("")},style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),o.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){le("")}})),o.a.createElement("br",null)):"",o.a.createElement("div",{class:"row no-gutters"},o.a.createElement("div",{class:"col"},"Picture:"),o.a.createElement("div",{class:"col small text-muted text-center"},oe?oe===j.pictureURL?"(Use existing picture)":"(Use new picture)":"(Don't use any picture)"),o.a.createElement("div",{class:"col text-right"},o.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return Be(!0)}},oe?"Change":"Select"," Picture"))),Ue?o.a.createElement(H,{callback:function(e){le(e),Be(!1)}}):"",o.a.createElement(v.a.Label,null,"Title:"),o.a.createElement(v.a.Control,{value:Z,onChange:function(e){return $(e.target.value)}}),o.a.createElement(v.a.Label,null,"Content:"),o.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:ae,onChange:function(e){return ne(e.target.value)}}),S||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){return Z?ae?function(){var e=T(Z),t=T(ae,!0),a=T(oe);A({query:'mutation{createNode(accountScreenName:"'.concat(s.screenName,'",title:"').concat(e,'",content:"""').concat(t,'""",pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?se[0](e.data.createNode.ID):alert("Something went wrong when creating node")}))}():P(o.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):P(o.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Create Page!")))),o.a.createElement(w.a,{show:Ee,onHide:function(){return pe(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Editing Page")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,oe?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},o.a.createElement("img",{src:oe,onError:function(e){P(o.a.createElement("span",{style:{color:"red"}},"Picture not found!")),le("")},style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),o.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){le("")}})),o.a.createElement("br",null)):"",o.a.createElement("div",{class:"row no-gutters"},o.a.createElement("div",{class:"col"},"Picture:"),o.a.createElement("div",{class:"col small text-muted text-center"},oe?oe===j.pictureURL?"(Use existing picture)":"(Use new picture)":"(Don't use any picture)"),o.a.createElement("div",{class:"col text-right"},o.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return Be(!0)}},oe?"Change":"Select"," Picture"))),Ue?o.a.createElement(H,{callback:function(e){le(e),Be(!1)}}):"",o.a.createElement(v.a.Label,null,"Title:"),o.a.createElement(v.a.Control,{value:Z,onChange:function(e){return $(e.target.value)}}),o.a.createElement(v.a.Label,null,"Content:"),o.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:ae,onChange:function(e){return ne(e.target.value)}}),S||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){return Z?ae?function(){var e=T(Z),t=T(ae,!0),a=T(oe);A({query:'mutation{editNode(nodeID:"'.concat(j.ID,'",title:"').concat(e,'",content:"""').concat(t,'""",pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editNode?(pe(!1),window.location.reload(!1)):alert("Something went wrong when editing node")}))}():P(o.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):P(o.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Edit Page!"),o.a.createElement(f.a,{variant:"danger",onClick:function(){we(!0),P("")}},"Delete")))),o.a.createElement(w.a,{show:be,onHide:function(){return we(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Delete Page")),o.a.createElement(w.a.Body,null,"Are you sure?"),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{variant:"danger",onClick:function(){return we(!1)}},"No!"),o.a.createElement(f.a,{variant:"primary",onClick:function(){A({query:'mutation{deleteNode(nodeID:"'.concat(j.ID,'")}')}).then((function(e,a){a&&alert(a),e.data?(t.back(),setTimeout((function(){return window.location.reload(!1)}),100)):alert("Something went wrong when deleting node")}))}},"Yes!"))),o.a.createElement(w.a,{show:Le,onHide:function(){return Ie(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,j.title)),o.a.createElement("img",{src:j.pictureURL,onError:function(e){e.target.style.display="none",P(o.a.createElement("span",{style:{color:"red"}},"Picture not found!"))},style:{width:"100%",maxHeight:"70vh","object-fit":"contain"}}),S||"",o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{size:"sm",onClick:function(){return Ie(!1)}},"Thanks for showing me this ",Math.random()<.5?"cool":"neat"," ","picture!"))),l||"")},P=function(e){var t=Object(c.useState)(void 0),a=Object(r.a)(t,2),n=a[0],l=a[1],i=Object(c.useState)(void 0),u=Object(r.a)(i,2),d=u[0],m=u[1],x=Object(c.useState)(void 0),O=Object(r.a)(x,2),k=O[0],S=O[1],P=Object(c.useState)(!1),L=Object(r.a)(P,2),I=L[0],R=L[1],D=Object(c.useState)(""),U=Object(r.a)(D,2),B=U[0],F=U[1],M=Object(c.useState)(""),z=Object(r.a)(M,2),Y=z[0],G=z[1],V=Object(c.useState)(""),K=Object(r.a)(V,2),W=K[0],_=K[1],J=Object(c.useState)(""),Q=Object(r.a)(J,2),X=Q[0],Z=Q[1],$=Object(c.useState)(!1),ee=Object(r.a)($,2),te=ee[0],ae=ee[1],ne=Object(c.useState)(!1),re=Object(r.a)(ne,2),ce=re[0],oe=re[1],le=Object(c.useState)(""),ie=Object(r.a)(le,2),ue=ie[0],se=ie[1],de=Object(c.useState)(!1),me=Object(r.a)(de,2),ge=me[0],Ee=me[1],pe=Object(c.useState)(""),fe=Object(r.a)(pe,2),he=fe[0],be=fe[1],we=Object(c.useState)(!1),ve=Object(r.a)(we,2),ye=ve[0],je=ve[1];Object(c.useEffect)((function(){var t=T(e.match.params.id);if(d&&t===d.screenName||A({query:'query{getAccount(screenName:"'.concat(t,'"){bio,screenName,profilePicURL,totalNodeViews,totalSuggestionScore,nodes{featured,ID,title,views,pictureURL}}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?m(e.data.getAccount):alert("Something went wrong when retrieving account")})),!k){var a=new g.a,n=T(a.get("account"));A({query:'mutation{loginAccount(screenName:"'.concat(n,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data?S(e.data.loginAccount):(alert("Something went wrong when logging in account, logging out"),a.set("account","",{path:"/"}))}))}}));return void 0===d?o.a.createElement(E.a,{variant:"light"},o.a.createElement("title",null,"Loading Account..."),o.a.createElement(E.a.Heading,null,"Loading...")):null===d?o.a.createElement(E.a,{variant:"danger"},o.a.createElement(E.a.Heading,null,"Oh snap! You ran into an error"),o.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):o.a.createElement(p.a,null,o.a.createElement("title",null,d.screenName," on Crowdventure!"),o.a.createElement("h1",null,o.a.createElement("img",{src:d.profilePicURL?d.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:d.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"3em",width:"3em","object-fit":"cover","border-radius":"50%","margin-right":"5px",cursor:"pointer"},onClick:function(){je(!0),Z("")}})," ",o.a.createElement("span",{className:"display-4 align-middle"},d.screenName)),d.bio?o.a.createElement(p.a,null,d.bio.split("\n").map((function(e){return o.a.createElement("p",{style:{textIndent:"5%"}},e)}))):"",o.a.createElement(p.a,null,k&&k.screenName===d.screenName?o.a.createElement(f.a,{variant:"light",onClick:function(){se(d.bio),be(d.profilePicURL),oe(!0),Z("")},size:"sm"},"Edit Account"):"",o.a.createElement("div",{style:{float:"right"},class:"text-muted"},"Total views: ",d.totalNodeViews," Total score:"," ",d.totalSuggestionScore)),o.a.createElement("br",null),k&&k.screenName===d.screenName?o.a.createElement(f.a,{onClick:function(){R(!0),F(""),G(""),_(""),Z("")},style:{width:"100%",border:"1px solid ".concat(q[2]),backgroundColor:q[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=q[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=q[0]}},"Create a New Adventure!"):"",o.a.createElement("p",null),o.a.createElement("h3",null,"Featured Pages:"),o.a.createElement(y.a,null,d.nodes.map((function(e,t){return o.a.createElement(j.a,null,o.a.createElement("a",{href:"/crowdventure/#/node/".concat(e.ID)},e.pictureURL?o.a.createElement(j.a.Header,{style:{"background-color":"white",padding:"1px"}},o.a.createElement(j.a.Img,{src:e.pictureURL,style:{"max-height":"30vh","object-fit":"cover"},onError:function(e){e.target.parentNode.style.display="none"}})):"",o.a.createElement(j.a.Body,{className:"text-center",style:{paddingTop:"2em"}},o.a.createElement(j.a.Title,null,e.title))),e.featured?o.a.createElement(h.a,{overlay:o.a.createElement(b.a,null,"This page has been starred by this user!")},o.a.createElement("div",{style:{position:"absolute",top:"5px",left:"5px",color:"yellow","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","text-shadow":"0 0 1px black"},class:"fa"},"\uf005")):"",o.a.createElement(C.a,{variant:"light",style:{position:"absolute",top:"0px",right:"0px"},size:"sm",drop:"right",title:o.a.createElement("span",{class:"fa"},"\uf013")},o.a.createElement(N.a.Item,{onClick:function(){return function(e,t){A({query:'mutation{editNode(nodeID:"'.concat(e.ID,'", featured:').concat(!t,"){title}}")}).then((function(e,t){t&&alert(t),e.data?window.location.reload(!1):alert("Something went wrong when featuring page")}))}(e,e.featured)},disabled:!k||k.screenName!==d.screenName},e.featured?"Un-f":"F","eature page"),o.a.createElement(N.a.Item,{disabled:!0},"Delete"),o.a.createElement(N.a.Item,{disabled:!0},"Make Private"),o.a.createElement(N.a.Divider,null),o.a.createElement(N.a.Item,{disabled:!0},"Report")),o.a.createElement(j.a.Footer,{className:"text-muted text-center"},o.a.createElement("small",null,"Author:"," ",o.a.createElement("img",{src:d.profilePicURL?d.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:d.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",d.screenName,o.a.createElement("br",null),"Views:"," "+e.views)))}))),o.a.createElement(w.a,{show:ye,onHide:function(){return je(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,d.screenName)),o.a.createElement("img",{src:d.profilePicURL?d.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:d.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{width:"100%",height:"70vh","object-fit":"contain"}}),X||"",o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{size:"sm",onClick:function(){return je(!1)}},"Wow, ",d.screenName," has a"," ",Math.random()<.5?"cool":"neat"," profile picture!"))),o.a.createElement("p",null),k&&k.screenName===d.screenName?o.a.createElement(p.a,null,o.a.createElement(w.a,{show:I,onHide:function(){return R(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Creating New Page")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,W?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},o.a.createElement("img",{src:W,onError:function(e){Z(o.a.createElement("span",{style:{color:"red"}},"Picture not found!")),_("")},alt:"New Image",style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),o.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){_("")}})),o.a.createElement("br",null)):"",o.a.createElement("div",{class:"row no-gutters"},o.a.createElement("div",{class:"col"},"Picture:"),o.a.createElement("div",{class:"col small text-muted text-center"},W?"(Use new picture)":"(Don't use any picture)"),o.a.createElement("div",{class:"col text-right"},o.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return ae(!0)}},W?"Change":"Select"," Picture"))),te?o.a.createElement(H,{callback:function(e){_(e),ae(!1)}}):"",o.a.createElement(v.a.Label,null,"Title:"),o.a.createElement(v.a.Control,{value:B,onChange:function(e){return F(e.target.value)}}),o.a.createElement(v.a.Label,null,"Content:"),o.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:Y,onChange:function(e){return G(e.target.value)}}),X||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){return B?Y?function(){var e=T(B),t=T(Y),a=T(W);A({query:'mutation{createNode(accountScreenName:"'.concat(d.screenName,'",title:"').concat(e,'",content:"').concat(t,'",featured:true,pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?(R(!1),l(o.a.createElement(s.a,{to:"/node/".concat(e.data.createNode.ID)}))):alert("Something went wrong when creating node")}))}():Z(o.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):Z(o.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Create Page!")))),o.a.createElement(w.a,{show:ce,onHide:function(){return oe(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Editing Account")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,d.profilePicURL?o.a.createElement("img",{src:d.profilePicURL,alt:d.screenName+" Profile Pic",onError:function(e){e.target.style.display="none",Z(o.a.createElement("span",{style:{color:"red"}},"Picture not found!"))},style:{opacity:d.profilePicURL===W?1:.2,width:"100%","object-fit":"contain"}}):"",o.a.createElement(v.a.Label,null,"Profile Pic URL:"),o.a.createElement(v.a.Control,{value:he,onChange:function(e){return be(e.target.value)}}),o.a.createElement(v.a.Label,null,"Bio:"),o.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:ue,onChange:function(e){return se(e.target.value)}}),X||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){var e=T(ue,!0),t=T(he);A({query:'mutation{editAccount(screenName:"'.concat(d.screenName,'",bio:"""').concat(e,'""",profilePicURL:"').concat(t,'"){bio,screenName,suggestedChoices{action, from{title}, to{title}},totalNodeViews,totalSuggestionScore, nodes{featured,ID,title,views}}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editAccount?(m(e.data.editAccount),oe(!1),window.location.reload(!1)):alert("Something went wrong when editing account")}))}},"Edit Account"),o.a.createElement(f.a,{onClick:function(){(new g.a).set("account","",{path:"/"}),window.location.reload(!1)},variant:"secondary"},"Log out"),o.a.createElement(f.a,{onClick:function(){Ee(!0),Z("")},variant:"danger"},"Delete Account")))),o.a.createElement(w.a,{show:ge,onHide:function(){return Ee(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Delete Account")),o.a.createElement(w.a.Body,null,"Are you sure?"),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{variant:"danger",onClick:function(){return Ee(!1)}},"No!"),o.a.createElement(f.a,{variant:"primary",onClick:function(){k&&k.screenName===d.screenName&&((new g.a).set("account","",{path:"/"}),A({query:'mutation{deleteAccount(screenName:"'.concat(k.screenName,'")}')}).then((function(e,t){t&&alert(t),e.data?(l(o.a.createElement(s.a,{to:"/"})),window.location.reload(!1)):alert("Something went wrong when deleting account")})))}},"Yes!")))):"",n||"")},L=(a(114),function(){var e=Object(c.useState)(void 0),t=Object(r.a)(e,2),a=t[0],n=t[1],l=Object(c.useState)(!1),i=Object(r.a)(l,2),u=i[0],d=i[1],m=Object(c.useState)(!1),C=Object(r.a)(m,2),N=C[0],x=C[1],O=Object(c.useState)(""),k=Object(r.a)(O,2),S=k[0],P=k[1],L=Object(c.useState)(""),I=Object(r.a)(L,2),R=I[0],D=I[1],U=Object(c.useState)(""),B=Object(r.a)(U,2),F=B[0],M=B[1],z=Object(c.useState)(""),Y=Object(r.a)(z,2),G=Y[0],V=Y[1],K=Object(c.useState)(!1),W=Object(r.a)(K,2),_=W[0],J=W[1],Q=Object(c.useState)(void 0),X=Object(r.a)(Q,2),Z=X[0],$=X[1];Object(c.useEffect)((function(){A({query:"query{featuredNodes{ID,title,owner{screenName,profilePicURL},views,size,pictureURL}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.featuredNodes?n(e.data.featuredNodes):alert("Something went wrong when retrieving featured nodes")}));var e=new g.a,t=T(e.get("account"));A({query:'mutation{loginAccount(screenName:"'.concat(t,'"){screenName}}')}).then((function(t,a){a&&alert(a),t.data?d(t.data.loginAccount):(alert("Something went wrong when retrieving account, logging out"),e.set("account","",{path:"/"}))}))}),[]);return o.a.createElement(p.a,null,o.a.createElement("title",null,"Crowdventure!"),o.a.createElement("h1",{className:"display-4 text-center"},"Welcome!"),o.a.createElement(p.a,{className:"text-center"},"Crowdventure is a Crowd-Sourced Choose-and-Create-Your-Own-Adventure-Game!"),o.a.createElement("p",null),o.a.createElement(h.a,{overlay:u?o.a.createElement("p",null):o.a.createElement(b.a,{id:"tooltip-disabled"},"You must be signed in!"),style:{width:"100%"}},o.a.createElement("span",{className:"d-inline-block",style:{width:"100%"}},o.a.createElement(f.a,{onClick:function(){x(!0),P(""),D(""),M(""),V("")},disabled:!u,style:{width:"100%",pointerEvents:u?"auto":"none",border:"1px solid ".concat(q[2]),backgroundColor:q[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=q[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=q[0]}},"Create a New Adventure!"))),o.a.createElement("p",null),o.a.createElement("h3",null,"Featured Pages:"),a?o.a.createElement(y.a,null,a.map((function(e){return o.a.createElement(j.a,{className:"text-center"},o.a.createElement("a",{href:"/crowdventure/#/node/".concat(e.ID)},e.pictureURL?o.a.createElement(j.a.Header,{style:{"background-color":"white",padding:"1px"}},o.a.createElement(j.a.Img,{src:e.pictureURL,style:{"max-height":"30vh","object-fit":"cover"},onError:function(e){e.target.parentNode.style.display="none"}})):"",o.a.createElement(j.a.Body,{style:{paddingTop:"2em"}},o.a.createElement(j.a.Title,null,e.title))),o.a.createElement(j.a.Footer,null,o.a.createElement("small",{className:"text-muted"},"Author:"," ",o.a.createElement("a",{href:"/crowdventure/#/account/".concat(e.owner.screenName)},o.a.createElement("img",{src:e.owner.profilePicURL?e.owner.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:e.owner.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",e.owner.screenName),o.a.createElement("br",null),"Views: ",e.views)))}))):o.a.createElement(E.a,{variant:"light"},o.a.createElement(E.a.Heading,null,"Loading...")),o.a.createElement(w.a,{show:N,onHide:function(){return x(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Creating New Page")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,F?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},o.a.createElement("img",{src:F,onError:function(e){V(o.a.createElement("span",{style:{color:"red"}},"Picture not found!")),M("")},alt:"This shouldn't have happened",style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),o.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){M("")}})),o.a.createElement("br",null)):"",o.a.createElement("div",{class:"row no-gutters"},o.a.createElement("div",{class:"col"},"Picture:"),o.a.createElement("div",{class:"col small text-muted text-center"},F?"(Use new picture)":"(Don't use any picture)"),o.a.createElement("div",{class:"col text-right"},o.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return J(!0)}},F?"Change":"Select"," Picture"))),_?o.a.createElement(H,{callback:function(e){M(e),J(!1)}}):"",o.a.createElement(v.a.Label,null,"Title:"),o.a.createElement(v.a.Control,{value:S,onChange:function(e){return P(e.target.value)}}),o.a.createElement(v.a.Label,null,"Content:"),o.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:R,onChange:function(e){return D(e.target.value)}}),G||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{onClick:function(){return S?R?function(){var e=T(S),t=T(R),a=T(F);A({query:'mutation{createNode(accountScreenName:"'.concat(u.screenName,'",title:"').concat(e,'",content:"').concat(t,'",featured:true,pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?(x(!1),$(o.a.createElement(s.a,{to:"/node/".concat(e.data.createNode.ID)}))):alert("Something went wrong when creating node")}))}():V(o.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):V(o.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Create Page!")))),Z||"")}),I=a(132),R=a(88),D=a(115),U=function(){var e=Object(c.useState)(!1),t=Object(r.a)(e,2),a=t[0],n=t[1],l=Object(c.useState)(!1),i=Object(r.a)(l,2),u=i[0],s=i[1],d=Object(c.useState)(void 0),m=Object(r.a)(d,2),E=m[0],p=m[1],h=Object(c.useState)(void 0),b=Object(r.a)(h,2),y=b[0],j=b[1],C=Object(c.useState)(""),N=Object(r.a)(C,2),x=N[0],O=N[1],k=Object(c.useState)(""),S=Object(r.a)(k,2),P=S[0],L=S[1],R=Object(c.useState)(""),D=Object(r.a)(R,2),U=D[0],B=D[1],q=function(){var e=T(x),t=T(P);A({query:'mutation{createAccount(screenName:"'.concat(e,'",password:"').concat(t,'"){screenName,profilePicURL}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createAccount?((new g.a).set("account",x,{path:"/"}),p(e.data.createAccount),s(!1),window.location.reload(!1)):alert("Something went wrong when creating account")}))};return Object(c.useEffect)((function(){var e=T((new g.a).get("account"));e&&A({query:'mutation{loginAccount(screenName:"'.concat(e,'"){screenName,profilePicURL}}')}).then((function(e,t){t&&alert(t),e.data?p(e.data.loginAccount):(alert("Something went wrong when logging in"),(new g.a).set("account","",{path:"/"}))}))}),[]),void 0===E||null===E?o.a.createElement(I.a.Text,null,"You are not logged in."," ",o.a.createElement(f.a,{variant:"light",onClick:function(){n(!0),j("")},size:"sm"},"Log In")," ","or"," ",o.a.createElement(f.a,{variant:"light",onClick:function(){s(!0),j("")},size:"sm"},"Sign Up"),o.a.createElement(w.a,{show:a,onHide:function(){return n(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Log in")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,o.a.createElement(v.a.Label,null,"Screen Name:"),o.a.createElement(v.a.Control,{value:x,onChange:function(e){return O(e.target.value)}}),o.a.createElement(v.a.Label,null,"Password:"),o.a.createElement(v.a.Control,{type:"password",value:P,onChange:function(e){return L(e.target.value)}}),y||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{variant:"primary",onClick:function(){return x?P?function(){var e=T(x),t=T(P);A({query:'mutation{loginAccount(screenName:"'.concat(e,'",password:"').concat(t,'"){screenName,profilePicURL}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.loginAccount?((new g.a).set("account",x,{path:"/"}),p(e.data.getAccount),n(!1),window.location.reload(!1)):j(o.a.createElement("div",{style:{color:"red"}},"That account does not exist or the password did not match!"))}))}():j(o.a.createElement("span",{style:{color:"red"}},"Please enter your screenName!")):j(o.a.createElement("span",{style:{color:"red"}},"Please enter your password!"))}},"Log in")))),o.a.createElement(w.a,{show:u,onHide:function(){return s(!1)}},o.a.createElement(w.a.Header,{closeButton:!0},o.a.createElement(w.a.Title,null,"Sign Up for Crowdventure!")),o.a.createElement(v.a,null,o.a.createElement(w.a.Body,null,o.a.createElement(v.a.Group,null,o.a.createElement(v.a.Label,null,"Screen Name:"),o.a.createElement(v.a.Control,{value:x,onChange:function(e){return O(e.target.value)}}),o.a.createElement(v.a.Label,null,"Create Password:"),o.a.createElement(v.a.Control,{type:"password",value:P,onChange:function(e){return L(e.target.value)}}),o.a.createElement(v.a.Label,null,"Confirm Password:"),o.a.createElement(v.a.Control,{type:"password",value:U,onChange:function(e){return B(e.target.value)}})),y||""),o.a.createElement(w.a.Footer,null,o.a.createElement(f.a,{variant:"primary",onClick:function(){return x?P?function(){if(P!==U)j(o.a.createElement("div",{style:{color:"red"}},"Passwords must match!"));else{var e=T(x);A({query:'query{getAccount(screenName:"'.concat(e,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?j(o.a.createElement("div",{style:{color:"red"}},"That account already exists!")):q()}))}}():j(o.a.createElement("span",{style:{color:"red"}},"Please enter a screen name!")):j(o.a.createElement("span",{style:{color:"red"}},"Please enter a password!"))}},"Sign Up"))))):o.a.createElement(I.a.Text,null,"You are logged in as:"," ",o.a.createElement("a",{href:"/crowdventure/#/account/".concat(E.screenName),onClick:function(){return setTimeout((function(){return window.location.reload(!1)}),100)}},o.a.createElement("img",{src:E.profilePicURL?E.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",E.screenName))},B=function(){var e=Object(c.useState)(void 0),t=Object(r.a)(e,2),a=(t[0],t[1]),n=Object(c.useState)(void 0),l=Object(r.a)(n,2),i=(l[0],l[1]);return o.a.createElement(p.a,null,o.a.createElement(I.a,{expand:"lg"},o.a.createElement(I.a.Brand,{href:"/crowdventure"},o.a.createElement("img",{href:"/crowdventure",src:"/crowdventure/logo.png",alt:"Crowdventure Logo",style:{width:"100%"}})),o.a.createElement("a",{href:"https://github.com/benjaminjkern/crowdventure/blob/master/CHANGELOG.md"},o.a.createElement("small",{class:"text-muted"},"Version: ",D.version)),o.a.createElement(I.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"bg-light"}),o.a.createElement(I.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},o.a.createElement(U,null))),o.a.createElement(u.a,null,o.a.createElement(s.d,null,o.a.createElement(s.b,{path:"/",component:L,exact:!0}),o.a.createElement(s.b,{path:"/node/:id",render:function(e){return o.a.createElement(S,Object.assign({},e,{history:R.a,setBgColor:a,setFgColor:i}))}}),o.a.createElement(s.b,{path:"/account/:id",component:P}))),o.a.createElement(I.a,{className:"text-right"},o.a.createElement("small",{class:"text-muted"},"@ 2020 Copyright: (MIT) Benjamin Kern")),o.a.createElement("title",null,"Crowdventure! - Page not found!"))},A=(a(116),(0,a(119).createApolloFetch)({uri:a(82).backendURL})),T=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?e.replace(/"""/g,' "" " '):e.replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"'):e},q=["rgb(100, 180, 244)","rgb(158, 232, 255)","rgb(80, 160, 224)"],H=function(e){var t=e.callback,l=a(82).API_KEY,i=Object(c.useState)(!1),u=Object(r.a)(i,2),s=u[0],d=u[1],m=Object(c.useState)([]),g=Object(r.a)(m,2),E=g[0],p=g[1],f=Object(c.useState)(1),h=Object(r.a)(f,2),b=h[0],w=h[1],v=Object(c.useState)(""),y=Object(r.a)(v,2),j=y[0],C=y[1],N=function(e){d(!0),fetch("https://pixabay.com/api/?key="+l+"&q="+encodeURIComponent(e)+"&page="+(e!==j?1:b)).then((function(e){return e.json()})).then((function(t){var a=t.hits.reduce((function(e,t,a){return(a+E.length)%2==0?[].concat(Object(n.a)(e),[{id:"(Image Selected)",urls:[t.previewURL],longUrls:[t.largeImageURL]}]):[].concat(Object(n.a)(e.slice(0,e.length-1)),[{id:"(Image Selected)",urls:[e[e.length-1].urls[0],t.previewURL],longUrls:[e[e.length-1].longUrls[0],t.largeImageURL]}])}),e!==j?[]:E);p(a),w(e!==j?2:b+1),C(e),d(!1)})).catch(alert)};return o.a.createElement(x.a,{id:"async-example",isLoading:s,filterBy:function(){return!0},labelKey:"id",minLength:2,onSearch:N,maxResults:9,onPaginate:function(){return N(j)},useCache:!1,options:E,placeholder:"Search for an image...",renderMenuItemChildren:function(e,a){return o.a.createElement("div",null,o.a.createElement("img",{onClick:function(){return t(e.longUrls[0])},src:e.urls[0],style:{marginRight:"10px",borderRadius:"4px",width:"50%",height:"auto"}}),2===e.urls.length?o.a.createElement("img",{onClick:function(){return t(e.longUrls[1])},src:e.urls[1],style:{marginRight:"10px",borderRadius:"4px",width:"50%",height:"auto"}}):"")}})};i.a.render(o.a.createElement(B,null),document.getElementById("root"))},82:function(e,t){e.exports={backendURL:"https://3yfp7ejc0m.execute-api.us-east-1.amazonaws.com/dev/graphql",API_KEY:"17724889-756d99ec9a2fcf30f0b96e2d3"}},89:function(e,t,a){e.exports=a(118)}},[[89,1,2]]]);
//# sourceMappingURL=main.e383833f.chunk.js.map