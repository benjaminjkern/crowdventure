(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{108:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a.n(r),l=a(9),u=a(48),i=a(14),s=a(23),m=a(115),d=a(116),E=a(79),g=a(123),h=a(117),w=a(120),f=a(121),b=a(118),v=a(124),y=a(119),N=a(58),C=a(80),p=function(e){var t=e.owner,a=e.account,n=e.choices,r=e.nodeID,o=e.canon,l=e.onEdit;return c.a.createElement(b.a,null,n.map((function(e){return c.a.createElement(v.a,{className:"text-center"},c.a.createElement("a",{href:e.to?"/crowdventure/#/node/".concat(e.to.ID):"",style:{pointerEvents:e.to?"auto":"none",color:e.to?void 0:"grey"},onClick:function(){return setTimeout((function(){return window.location.reload(!1)}),100)}},c.a.createElement(v.a.Body,{style:{cursor:"pointer"}},c.a.createElement(v.a.Title,null,e.action))),c.a.createElement(y.a,{variant:"light",style:{position:"absolute",top:"0px",right:"0px"},size:"sm",drop:"right",title:c.a.createElement("span",{class:"fa"},"\uf013")},c.a.createElement(N.a.Item,{disabled:!a||a.screenName!==t.screenName,onClick:function(){return o?(t=e.ID,void T({query:'mutation{makeNonCanon(choiceID:"'.concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeNonCanon&&window.location.reload(!1)}))):function(e){T({query:'mutation{makeCanon(choiceID:"'.concat(e,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeCanon&&window.location.reload(!1)}))}(e.ID);var t}},"Make ",o?"Nonc":"C","anon"),c.a.createElement(N.a.Item,{disabled:!a||a.screenName!==e.suggestedBy.screenName&&a.screenName!==t.screenName,onClick:function(){return t=e.ID,void T({query:'mutation{removeSuggestion(choiceID:"'.concat(t,'")}')}).then((function(e,t){t&&alert(t),e.data&&window.location.reload(!1)}));var t}},"Delete"),c.a.createElement(N.a.Item,{onClick:function(){return l(e)},disabled:!a||e.suggestedBy.screenName!==a.screenName},"Edit"),c.a.createElement(N.a.Divider,null),c.a.createElement(N.a.Item,null,"Report")),c.a.createElement(v.a.Footer,null,c.a.createElement("a",{href:"/crowdventure/#/node/".concat(r),style:{pointerEvents:a?"auto":"none",color:a?e.dislikedBy.map((function(e){return e.screenName})).includes(a.screenName)?"red":"black":"grey"},className:"fa fa-thumbs-down",onClick:function(){return t=e.ID,void(a&&T({query:'mutation{dislikeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.dislikeSuggestion&&window.location.reload(!1)})));var t}})," "+e.score+" ",c.a.createElement("a",{href:"/crowdventure/#/node/".concat(r),style:{pointerEvents:a?"auto":"none",color:a?e.likedBy.map((function(e){return e.screenName})).includes(a.screenName)?"green":"black":"grey"},className:"fa fa-thumbs-up",onClick:function(){return t=e.ID,void(a&&T({query:'mutation{likeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.likeSuggestion&&window.location.reload(!1)})));var t}}),c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},"Suggested By:"," ",c.a.createElement("a",{href:"/crowdventure/#/account/".concat(e.suggestedBy.screenName)},e.suggestedBy.screenName))))})))},O=function(e){var t=e.callback,a=e.toID,r=Object(n.useState)(void 0),o=Object(l.a)(r,2),u=o[0],i=o[1],s=Object(n.useState)(void 0),m=Object(l.a)(s,2),d=m[0],E=m[1];Object(n.useRef)();return Object(n.useEffect)((function(){a?(alert(a),T({query:'query{getNode(ID:"'.concat(a,'"){title,ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getNode?E(e.data.getNode):alert("Something went wrong when retrieving node")}))):E(null),T({query:"query{allNodes{title,owner{screenName},ID}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allNodes?i(e.data.allNodes):alert("Something went wrong when retrieving all nodes")}))}),[]),u&&void 0!==d?c.a.createElement(C.a,{filterBy:function(e,a){return""===a.text?(t(""),!0):e.title.toLowerCase().includes(a.text)||e.owner.screenName.toLowerCase().includes(a.text)},defaultSelected:[d?d.title:""],labelKey:"title",options:u,placeholder:"(Leave Empty to Create New Page)",renderMenuItemChildren:function(e){return c.a.createElement("div",{onClick:function(){return t(e.ID)}},e.title,c.a.createElement("div",null,c.a.createElement("small",null,"Author: ",e.owner.screenName)))}}):c.a.createElement("div",null,"Loading...")},j=function(e){var t=Object(n.useState)(void 0),a=Object(l.a)(t,2),r=a[0],o=a[1],u=e.match.params.id,b=Object(n.useState)(void 0),v=Object(l.a)(b,2),y=v[0],N=v[1],C=Object(n.useState)(void 0),j=Object(l.a)(C,2),S=j[0],I=j[1],D=Object(n.useState)(""),k=Object(l.a)(D,2),q=k[0],B=k[1],A=Object(n.useState)(!1),x=Object(l.a)(A,2),L=x[0],H=x[1],P=Object(n.useState)(""),F=Object(l.a)(P,2),Y=F[0],V=F[1],z=Object(n.useState)(""),G=Object(l.a)(z,2),M=G[0],U=G[1],W=Object(n.useState)(!1),J=Object(l.a)(W,2),K=J[0],R=J[1],Q=Object(n.useState)(""),X=Object(l.a)(Q,2),Z=X[0],$=X[1],_=Object(n.useState)(""),ee=Object(l.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(void 0),ce=Object(l.a)(ne,2),re=ce[0],oe=ce[1],le=Object(n.useState)(!1),ue=Object(l.a)(le,2),ie=ue[0],se=ue[1],me=Object(n.useState)(""),de=Object(l.a)(me,2),Ee=de[0],ge=de[1],he=Object(n.useState)(""),we=Object(l.a)(he,2),fe=we[0],be=we[1],ve=Object(n.useState)(!1),ye=Object(l.a)(ve,2),Ne=ye[0],Ce=ye[1],pe=Object(n.useState)(!1),Oe=Object(l.a)(pe,2),je=Oe[0],Se=Oe[1],Ie=Object(n.useState)(""),De=Object(l.a)(Ie,2),ke=De[0],qe=De[1];return Object(n.useEffect)((function(){var e=new s.a,t=e.get("account");T({query:'query{getNode(ID:"'.concat(u,'"){ID,title,content,views,owner{screenName},canonChoices{suggestedBy{screenName},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}},nonCanonChoices{suggestedBy{screenName},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}}}}')}).then((function(e,t){t&&alert(t),e.data?I(e.data.getNode):I(null)})),T({query:'mutation{loginAccount(screenName:"'.concat(t,'"){screenName}}')}).then((function(t,a){a&&alert(a),t.data?N(t.data.loginAccount):(alert("Something went wrong when retrieving account"),e.set("account","",{path:"/"}))}))}),[]),void 0===S?c.a.createElement(m.a,{variant:"light"},c.a.createElement(m.a.Heading,null,"Loading...")):null===S?c.a.createElement(m.a,{variant:"danger"},c.a.createElement(m.a.Heading,null,"Oh snap! You ran into an error"),c.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):c.a.createElement(d.a,null,c.a.createElement("h1",null,S.title),c.a.createElement(d.a,null,S.content),c.a.createElement("p",null),S.canonChoices.length?c.a.createElement(p,{owner:S.owner,choices:S.canonChoices,account:y,canon:!0,nodeID:S.ID,onEdit:function(e){V(e.action),U(e.to.ID),qe(e.ID),Se(!0)}}):c.a.createElement("p",{className:"text-muted"},"By decree of ",c.a.createElement("strong",null,S.owner.screenName),", this journey ends here."),c.a.createElement("p",null),c.a.createElement("p",null,"Owner:"," ",c.a.createElement("a",{href:"/crowdventure/#/account/".concat(S.owner.screenName)},S.owner.screenName),y&&S.owner.screenName===y.screenName?c.a.createElement("p",null,c.a.createElement(E.a,{variant:"secondary",size:"sm",onClick:function(){ge(S.title),be(S.content),se(!0)}},"Edit"),c.a.createElement(E.a,{variant:"danger",size:"sm",onClick:function(){return Ce(!0)}},"Delete")):""),c.a.createElement("h3",null,"Other options:",c.a.createElement("p",null),c.a.createElement(g.a,{overlay:y?c.a.createElement("p",null):c.a.createElement(h.a,{id:"tooltip-disabled"},"You must be signed in!"),style:{width:"100%"}},c.a.createElement("span",{className:"d-inline-block",style:{width:"100%"}},c.a.createElement(E.a,{onClick:function(){return H(!0)},disabled:!y,style:{width:"100%",pointerEvents:y?"auto":"none"}},"Suggest New Choice")))),c.a.createElement("p",null),c.a.createElement(p,{owner:S.owner,choices:S.nonCanonChoices,account:y,canon:!1,nodeID:S.ID,onEdit:function(e){V(e.action),U(e.to.ID),qe(e.ID),Se(!0)}}),c.a.createElement(w.a,{show:je,onHide:function(){return Se(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Editing Choice")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Action:"),c.a.createElement(f.a.Control,{required:!0,value:Y,onChange:function(e){return V(e.target.value)}}),c.a.createElement(f.a.Label,null,"Go to Page:"),c.a.createElement(O,{callback:function(e){return U(e)},toID:M})),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{onClick:function(){return function e(t){t?T({query:'mutation{editSuggestion(choiceID:"'.concat(ke,'",action:"').concat(Y,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data?(Se(!1),R(!1),window.location.reload(!1)):alert("Something went wrong when editing choice!")})):(Se(!1),R(!0),oe([e]))}(M)}},"Edit Choice")))),c.a.createElement(w.a,{show:L,onHide:function(){return H(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Suggesting New Choice")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Action:"),c.a.createElement(f.a.Control,{required:!0,value:Y,onChange:function(e){return V(e.target.value)}}),c.a.createElement(f.a.Label,null,"Go to Page:"),c.a.createElement(O,{callback:function(e){return U(e)},toID:M})),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{onClick:function(){return function e(t){t?T({query:'mutation{suggestChoice(accountScreenName:"'.concat(y.screenName,'",fromID:"').concat(u,'",action:"').concat(Y,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data?(H(!1),R(!1),window.location.reload(!1)):alert("Something went wrong when creating choice!")})):(H(!1),R(!0),oe([e]))}(M)}},"Submit New Choice")))),c.a.createElement(w.a,{show:K,onHide:function(){return R(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Creating New Page")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Title:"),c.a.createElement(f.a.Control,{required:!0,value:Z,onChange:function(e){return $(e.target.value)}}),c.a.createElement(f.a.Label,null,"Content:"),c.a.createElement(f.a.Control,{as:"textarea",rows:"3",required:!0,value:te,onChange:function(e){return ae(e.target.value)}}),q||""),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{onClick:function(){Z.includes('"')?B(c.a.createElement("p",{style:{color:"red"}},"The title cannot contain (\") character! Try using (') or (`) instead!")):te.includes('"')?B(c.a.createElement("p",{style:{color:"red"}},"The content cannot contain (\") character! Try using (') or (`) instead!")):T({query:'mutation{createNode(accountScreenName:"'.concat(y.screenName,'",title:"').concat(Z,'",content:"').concat(te,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?re[0](e.data.createNode.ID):alert("Something went wrong when creating node")}))}},"Create Page!")))),c.a.createElement(w.a,{show:ie,onHide:function(){return se(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Edit Page")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Title:"),c.a.createElement(f.a.Control,{required:!0,value:Ee,onChange:function(e){return ge(e.target.value)}}),c.a.createElement(f.a.Label,null,"Content:"),c.a.createElement(f.a.Control,{required:!0,value:fe,onChange:function(e){return be(e.target.value)}}),q||""),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{onClick:function(){Ee.includes('"')?B(c.a.createElement("p",{style:{color:"red"}},"The title cannot contain (\") character! Try using (') or (`) instead!")):fe.includes('"')?B(c.a.createElement("p",{style:{color:"red"}},"The content cannot contain (\") character! Try using (') or (`) instead!")):T({query:'mutation{editNode(nodeID:"'.concat(u,'",title:"').concat(Ee,'",content:"').concat(fe,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editNode?(se(!1),window.location.reload(!1)):alert("Something went wrong when editing node")}))}},"Edit Page!")))),c.a.createElement(w.a,{show:Ne,onHide:function(){return Ce(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Delete Page")),c.a.createElement(w.a.Body,null,"Are you sure?"),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{variant:"danger",onClick:function(){return Ce(!1)}},"No!"),c.a.createElement(E.a,{variant:"primary",onClick:function(){T({query:'mutation{deleteNode(nodeID:"'.concat(u,'")}')}).then((function(e,t){t&&alert(t),e.data?o(c.a.createElement(i.a,{to:"/"})):alert("Something went wrong when deleting node")}))}},"Yes!"))),r||"")},S=function(e){var t=e.match.params.id,a=Object(n.useState)(void 0),r=Object(l.a)(a,2),o=r[0],u=r[1],g=Object(n.useState)(void 0),h=Object(l.a)(g,2),y=h[0],N=h[1],C=Object(n.useState)(void 0),p=Object(l.a)(C,2),O=p[0],j=p[1],S=Object(n.useState)(!1),I=Object(l.a)(S,2),D=I[0],k=I[1],q=Object(n.useState)(""),B=Object(l.a)(q,2),A=B[0],x=B[1],L=Object(n.useState)(""),H=Object(l.a)(L,2),P=H[0],F=H[1],Y=Object(n.useState)(""),V=Object(l.a)(Y,2),z=V[0],G=V[1],M=Object(n.useState)(!1),U=Object(l.a)(M,2),W=U[0],J=U[1],K=Object(n.useState)(""),R=Object(l.a)(K,2),Q=R[0],X=R[1],Z=Object(n.useState)(!1),$=Object(l.a)(Z,2),_=$[0],ee=$[1],te=Object(n.useState)(!1),ae=Object(l.a)(te,2);ae[0],ae[1];Object(n.useEffect)((function(){T({query:'query{getAccount(screenName:"'.concat(t,'"){bio,screenName,nodes{title,views},suggestedChoices{action, from{title}, to{title}},totalNodeViews,totalSuggestionScore, nodes{ID,title,views}}}')}).then((function(e,t){t&&alert(t),e.data?N(e.data.getAccount):alert("Something went wrong when retrieving account")}));var e=new s.a;T({query:'mutation{loginAccount(screenName:"'.concat(e.get("account"),'"){screenName}}')}).then((function(t,a){a&&alert(a),t.data?j(t.data.loginAccount):(alert("Something went wrong when logging in account"),e.set("account","",{path:"/"}))}))}),[]);return void 0===y?c.a.createElement(m.a,{variant:"light"},c.a.createElement(m.a.Heading,null,"Loading...")):null===y?c.a.createElement(m.a,{variant:"danger"},c.a.createElement(m.a.Heading,null,"Oh snap! You ran into an error"),c.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):c.a.createElement(d.a,null,c.a.createElement("h1",{style:{position:"relative",left:"5px"}},y.screenName),c.a.createElement(d.a,{className:"text-muted text-right"},"Total views: ",y.totalNodeViews," Total score:"," ",y.totalSuggestionScore),y.bio?c.a.createElement(d.a,null,y.bio):"",c.a.createElement("p",null),c.a.createElement("h3",null,"Featured Pages:"),c.a.createElement(b.a,null,y.nodes.map((function(e){return c.a.createElement(v.a,null,c.a.createElement("a",{href:"/crowdventure/#/node/".concat(e.ID)},c.a.createElement(v.a.Body,null,c.a.createElement(v.a.Title,null,e.title))),c.a.createElement(v.a.Footer,null,"Created by: ",y.screenName,c.a.createElement("br",null),"Views:"," "+e.views))}))),c.a.createElement("p",null),O&&O.screenName===y.screenName?c.a.createElement(d.a,null,c.a.createElement(E.a,{onClick:function(){return k(!0)}},"Create new Page")," ",c.a.createElement(E.a,{variant:"light",onClick:function(){X(y.bio),J(!0)}},"Edit Account"),c.a.createElement(w.a,{show:D,onHide:function(){return k(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Creating New Page")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Title:"),c.a.createElement(f.a.Control,{required:!0,value:A,onChange:function(e){return x(e.target.value)}}),c.a.createElement(f.a.Label,null,"Content:"),c.a.createElement(f.a.Control,{as:"textarea",rows:"3",required:!0,value:P,onChange:function(e){return F(e.target.value)}}),z||""),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{onClick:function(){A.includes('"')?G(c.a.createElement("p",{style:{color:"red"}},"The title cannot contain (\") character! Try using (') or (`) instead!")):P.includes('"')?G(c.a.createElement("p",{style:{color:"red"}},"The content cannot contain (\") character! Try using (') or (`) instead!")):T({query:'mutation{createNode(accountScreenName:"'.concat(y.screenName,'",title:"').concat(A,'",content:"').concat(P,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?(k(!1),window.location.reload(!1)):alert("Something went wrong when creating node")}))}},"Create Page!")))),c.a.createElement(w.a,{show:W,onHide:function(){return J(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Editing Account")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Bio:"),c.a.createElement(f.a.Control,{as:"textarea",rows:"3",value:Q,onChange:function(e){return X(e.target.value)}}),z||""),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{onClick:function(){Q.includes('"')?G(c.a.createElement("p",{style:{color:"red"}},"Your bio cannot contain (\") character! Try using (') or (`) instead!")):T({query:'mutation{editAccount(screenName:"'.concat(y.screenName,'",bio:"').concat(Q,'"){bio,screenName,nodes{title,views},suggestedChoices{action, from{title}, to{title}},totalNodeViews,totalSuggestionScore, nodes{ID,title,views}}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editAccount?(N(e.data.editAccount),J(!1),window.location.reload(!1)):alert("Something went wrong when editing account")}))}},"Edit Account"),c.a.createElement(E.a,{href:"/crowdventure",onClick:function(){return(new s.a).set("account","",{path:"/"})},variant:"danger"},"Log out"),c.a.createElement(E.a,{onClick:function(){return ee(!0)},variant:"danger"},"Delete Account")))),c.a.createElement(w.a,{show:_,onHide:function(){return ee(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Delete Account")),c.a.createElement(w.a.Body,null,"Are you sure?"),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{variant:"danger",onClick:function(){return ee(!1)}},"No!"),c.a.createElement(E.a,{variant:"primary",onClick:function(){(new s.a).set("account","",{path:"/"}),T({query:'mutation{deleteAccount(screenName:"'.concat(t,'")}')}).then((function(e,t){t&&alert(t),e.data?(u(c.a.createElement(i.a,{to:"/"})),window.location.reload(!1)):alert("Something went wrong when deleting account")}))}},"Yes!")))):"",o||"")},I=function(){var e=Object(n.useState)(void 0),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(void 0),u=Object(l.a)(o,2),i=(u[0],u[1]);return Object(n.useEffect)((function(){T({query:"query{allNodes{ID,title,owner{screenName},views}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allNodes?r(e.data.allNodes):alert("Something went wrong when retrieving featured nodes")})),T({query:"query{allAccounts{screenName,totalNodeViews,totalSuggestionScore}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allAccounts?i(e.data.allAccounts):alert("Something went wrong when retrieving accounts")}))}),[]),c.a.createElement(d.a,null,c.a.createElement("h1",null,"Welcome!"),c.a.createElement(d.a,null,"Crowdventure is a Crowd-Sourced Choose-and-Create-Your-Own-Adventure-Game!"),c.a.createElement("p",null),c.a.createElement("h3",null,"Featured Pages:"),a?c.a.createElement(b.a,null,a.map((function(e){return c.a.createElement(v.a,null,c.a.createElement("a",{href:"/crowdventure/#/node/".concat(e.ID)},c.a.createElement(v.a.Body,null,c.a.createElement(v.a.Title,null,e.title))),c.a.createElement(v.a.Footer,null,"Created by:"," ",c.a.createElement("a",{href:"/crowdventure/#/account/".concat(e.owner.screenName)},e.owner.screenName),c.a.createElement("br",null),"Views:"," "+e.views))}))):"")},D=a(122),k=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),u=Object(l.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(void 0),g=Object(l.a)(d,2),h=g[0],b=g[1],v=Object(n.useState)(void 0),y=Object(l.a)(v,2),N=y[0],C=y[1],p=Object(n.useState)(""),O=Object(l.a)(p,2),j=O[0],S=O[1],I=Object(n.useState)(""),k=Object(l.a)(I,2),q=k[0],B=k[1],A=Object(n.useState)(""),x=Object(l.a)(A,2),L=x[0],H=x[1],P=function(){return T({query:'mutation{createAccount(screenName:"'.concat(j,'",password:"').concat(q,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createAccount?((new s.a).set("account",j,{path:"/"}),b(e.data.createAccount),m(!1),window.location.reload(!1)):alert("Something went wrong when creating account")}))};return Object(n.useEffect)((function(){var e=(new s.a).get("account");e&&T({query:'mutation{loginAccount(screenName:"'.concat(e,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data?b(e.data.loginAccount):(alert("Something went wrong when logging in"),(new s.a).set("account","",{path:"/"}))}))}),[]),void 0===h||null===h?c.a.createElement(D.a.Text,null,"You are not logged in."," ",c.a.createElement(E.a,{variant:"light",onClick:function(){return r(!0)},size:"sm"},"Log In")," ","or"," ",c.a.createElement(E.a,{variant:"light",onClick:function(){return m(!0)},size:"sm"},"Sign Up"),c.a.createElement(w.a,{show:a,onHide:function(){return r(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Log in")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Label,null,"Screen Name:"),c.a.createElement(f.a.Control,{required:!0,value:j,onChange:function(e){return S(e.target.value)}}),c.a.createElement(f.a.Label,null,"Password:"),c.a.createElement(f.a.Control,{required:!0,type:"password",value:q,onChange:function(e){return B(e.target.value)}}),N||""),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{variant:"primary",onClick:function(){j.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Screen Name cannot include (") character!')):q.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Password cannot include (") character!')):T({query:'mutation{loginAccount(screenName:"'.concat(j,'",password:"').concat(q,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.loginAccount?((new s.a).set("account",j,{path:"/"}),b(e.data.getAccount),r(!1),window.location.reload(!1)):C(c.a.createElement("div",{style:{color:"red"}},"That account does not exist or the password did not match!"))}))}},"Log in")))),c.a.createElement(w.a,{show:i,onHide:function(){return m(!1)}},c.a.createElement(w.a.Header,{closeButton:!0},c.a.createElement(w.a.Title,null,"Sign Up for Crowdventure!")),c.a.createElement(f.a,null,c.a.createElement(w.a.Body,null,c.a.createElement(f.a.Group,null,c.a.createElement(f.a.Label,null,"Screen Name:"),c.a.createElement(f.a.Control,{required:!0,value:j,onChange:function(e){return S(e.target.value)}}),c.a.createElement(f.a.Label,null,"Create Password:"),c.a.createElement(f.a.Control,{required:!0,type:"password",value:q,onChange:function(e){return B(e.target.value)}}),c.a.createElement(f.a.Label,null,"Confirm Password:"),c.a.createElement(f.a.Control,{required:!0,type:"password",value:L,onChange:function(e){return H(e.target.value)}})),N||""),c.a.createElement(w.a.Footer,null,c.a.createElement(E.a,{variant:"primary",onClick:function(){q!==L?C(c.a.createElement("div",{style:{color:"red"}},"Passwords must match!")):j.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Screen Name cannot include (") character!')):q.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Password cannot include (") character!')):T({query:'query{getAccount(screenName:"'.concat(j,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?C(c.a.createElement("div",{style:{color:"red"}},"That account already exists!")):P()}))}},"Sign Up"))))):c.a.createElement(D.a.Text,null,"You are logged in as:"," ",c.a.createElement("a",{href:"/crowdventure/#/account/".concat(h.screenName),onClick:function(){return setTimeout((function(){return window.location.reload(!1)}),100)}},h.screenName))},q=function(){return c.a.createElement(d.a,null,c.a.createElement(D.a,{expand:"lg"},c.a.createElement(D.a.Brand,{href:"/crowdventure"},c.a.createElement("img",{href:"/crowdventure",src:"/crowdventure/logo.png",alt:"Crowdventure Logo",style:{width:"100%"}})),c.a.createElement("small",{class:"text-muted"},"Version: 0.1.2"),c.a.createElement(D.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"bg-light"}),c.a.createElement(D.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},c.a.createElement(k,null))),c.a.createElement(u.a,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/",component:I,exact:!0}),c.a.createElement(i.b,{path:"/node/:id",component:j}),c.a.createElement(i.b,{path:"/account/:id",component:S}))),c.a.createElement(D.a,{className:"text-right"},c.a.createElement("small",{class:"text-muted"},"@ 2020 Copyright: (MIT) Benjamin Kern")))},B=(a(106),(0,a(109).createApolloFetch)({uri:"https://3yfp7ejc0m.execute-api.us-east-1.amazonaws.com/dev/graphql"}));o.a.render(c.a.createElement(q,null),document.getElementById("root"));var T=t.default=B},81:function(e,t,a){e.exports=a(108)}},[[81,1,2]]]);
//# sourceMappingURL=main.bded43db.chunk.js.map