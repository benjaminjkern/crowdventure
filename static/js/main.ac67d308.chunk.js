(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{115:function(e){e.exports=JSON.parse('{"name":"client","version":"0.1.6","private":true,"homepage":"http://benjaminjkern.github.io/crowdventure","dependencies":{"@azure/cognitiveservices-imagesearch":"^3.0.1","@testing-library/jest-dom":"^4.2.4","@testing-library/react":"^9.3.2","@testing-library/user-event":"^7.1.2","apollo-fetch":"^0.7.0","apollo-link":"^1.2.14","apollo-link-http":"^1.5.17","apollo-upload-client":"^14.1.1","bootstrap":"^4.5.0","bs-custom-file-input":"^1.3.4","cloudinary":"^1.22.0","cloudinary-core":"^2.11.1","cloudinary-react":"^1.6.5","color-thief-node":"^1.0.3","color-thief-react":"^1.0.2","colorthief":"^2.3.2","fs":"0.0.1-security","g-i-s":"^2.1.6","graphql":"^15.0.0","graphql-tag":"^2.11.0","graphql-tools":"^4.0.7","history":"^5.0.0","local-storage":"^2.0.0","lodash":"^4.17.19","ms-rest-azure":"^3.0.0","node-fetch":"^2.6.1","react":"^16.13.1","react-aspect-ratio":"^1.0.42","react-bootstrap":"^1.0.1","react-bootstrap-typeahead":"^5.0.0","react-cookie":"^4.0.3","react-dom":"^16.13.1","react-router-dom":"^5.1.2","react-router-redux":"^4.0.8","react-scripts":"^3.4.3","react-transition-group":"^4.4.1","request-ip":"^2.1.3","unirest":"^0.6.0","yargs-parser":"^18.1.3"},"scripts":{"start":"react-scripts start","build":"react-scripts build","test":"react-scripts test","eject":"react-scripts eject","predeploy":"npm run build","deploy":"gh-pages -d build"},"eslintConfig":{"extends":"react-app"},"browserslist":{"production":[">0.2%","not dead","not op_mini all"],"development":["last 1 chrome version","last 1 firefox version","last 1 safari version"]},"devDependencies":{"eslint":"^6.8.0","eslint-config-prettier":"^6.10.1","eslint-plugin-react":"^7.19.0","gh-pages":"^3.1.0","prettier":"^2.0.4"}}')},118:function(e,t,a){"use strict";a.r(t),a.d(t,"app_fetch",(function(){return F})),a.d(t,"escape",(function(){return q})),a.d(t,"palette",(function(){return H})),a.d(t,"SearchImage",(function(){return M}));var n=a(23),r=a(75),c=a(7),o=a(0),l=a.n(o),i=a(19),u=a.n(i),s=a(51),d=a(14),m=a(42),g=a(20),E=a(125),p=a(126),f=a(86),b=a(133),h=a(127),w=a(130),v=a(131),y=a(128),j=a(134),C=a(129),N=a(65),x=a(61),O=function(e){var t=e.owner,a=e.account,r=e.choices,i=e.nodeID,u=e.canon,s=e.onEdit,d=Object(o.useState)(""),g=Object(c.a)(d,2),E=g[0],p=(g[1],Object(o.useState)(void 0)),f=Object(c.a)(p,2),b=f[0],h=f[1],w=Object(o.useState)(void 0),v=Object(c.a)(w,2),x=v[0],O=v[1],k=Object(o.useState)(void 0),S=Object(c.a)(k,2),P=S[0],L=S[1];return Object(o.useEffect)((function(){x&&x===i&&void 0!==P||(h(Object(n.a)({},r.reduce((function(e,t,r){return Object(n.a)(Object(n.a)({},e),{},Object(m.a)({},r,{disliked:!!a&&t.dislikedBy.map((function(e){return e.screenName})).includes(a.screenName),liked:!!a&&t.likedBy.map((function(e){return e.screenName})).includes(a.screenName),score:t.score}))}),{}))),O(i),L(a))})),b&&x===i&&void 0!==P?l.a.createElement(y.a,null,E||"",r.map((function(e,r){return l.a.createElement(j.a,{className:"text-center"},l.a.createElement("a",{href:e.to?"/crowdventure/#/node/".concat(e.to.ID):"",style:{pointerEvents:e.to?"auto":"none",color:e.to?void 0:"grey"}},l.a.createElement(j.a.Body,{style:{cursor:"pointer",paddingTop:"2em"}},l.a.createElement(j.a.Title,null,e.action))),l.a.createElement(C.a,{variant:"light",style:{position:"absolute",top:"0px",right:"0px"},size:"sm",drop:"right",title:l.a.createElement("span",{class:"fa"},"\uf013")},l.a.createElement(N.a.Item,{disabled:!a||a.screenName!==t.screenName,onClick:function(){return u?(t=e.ID,void F({query:'mutation{makeNonCanon(choiceID:"'.concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeNonCanon&&window.location.reload(!1)}))):function(e){F({query:'mutation{makeCanon(choiceID:"'.concat(e,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeCanon&&setTimeout((function(){return window.location.reload(!1)}),100)}))}(e.ID);var t}},"Make ",u?"Nonc":"C","anon"),l.a.createElement(N.a.Item,{disabled:!a||a.screenName!==e.suggestedBy.screenName&&a.screenName!==t.screenName,onClick:function(){return t=e.ID,void F({query:'mutation{removeSuggestion(choiceID:"'.concat(t,'")}')}).then((function(e,t){t&&alert(t),e.data&&window.location.reload(!1)}));var t}},"Delete"),l.a.createElement(N.a.Item,{onClick:function(){return s(e)},disabled:!a||a.screenName!==e.suggestedBy.screenName&&(!u||a.screenName!==t.screenName)},"Edit"),l.a.createElement(N.a.Divider,null),l.a.createElement(N.a.Item,{disabled:!0},"Report")),l.a.createElement(j.a.Footer,null,l.a.createElement("a",{href:"/crowdventure/#/node/".concat(i),style:{pointerEvents:a?"auto":"none",color:a?b[r].disliked?"red":"black":"grey"},className:"fa fa-thumbs-down",onClick:function(t){var c;a&&h(Object(n.a)(Object(n.a)({},b),{},Object(m.a)({},r,{liked:!1,disliked:!b[r].disliked,score:b[r].score+(b[r].liked?-2:b[r].disliked?1:-1)}))),c=e.ID,a&&F({query:'mutation{dislikeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(c,'"){ID}}')}).then((function(e,t){t&&alert(t)}))}})," "+(b[r]?b[r].score:0)+" ",l.a.createElement("a",{href:"/crowdventure/#/node/".concat(i),style:{pointerEvents:a?"auto":"none",color:a&&b[r]?b[r].liked?"green":"black":"grey"},className:"fa fa-thumbs-up",onClick:function(){var t;a&&h(Object(n.a)(Object(n.a)({},b),{},Object(m.a)({},r,{disliked:!1,liked:!b[r].liked,score:b[r].score+(b[r].disliked?2:b[r].liked?-1:1)}))),t=e.ID,a&&F({query:'mutation{likeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t)}))}}),l.a.createElement("br",null),l.a.createElement("small",{className:"text-muted"},"Suggested By:"," ",l.a.createElement("a",{href:"/crowdventure/#/account/".concat(e.suggestedBy.screenName)},l.a.createElement("img",{src:e.suggestedBy.profilePicURL?e.suggestedBy.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",e.suggestedBy.screenName))))}))):null},k=function(e){var t=e.callback,a=e.toID,n=Object(o.useState)(void 0),r=Object(c.a)(n,2),i=r[0],u=r[1],s=Object(o.useState)(void 0),d=Object(c.a)(s,2),m=d[0],g=d[1];return Object(o.useEffect)((function(){a?F({query:'query{getNode(ID:"'.concat(a,'"){title,ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getNode?g(e.data.getNode):alert("Something went wrong when retrieving node")})):g(null),F({query:"query{allNodes{title,owner{screenName,profilePicURL},ID}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allNodes?u(e.data.allNodes):alert("Something went wrong when retrieving all nodes")}))}),[]),i&&void 0!==m?l.a.createElement(x.b,{filterBy:function(e,a){return""===a.text?(t(""),!0):e.title.toLowerCase().includes(a.text.toLowerCase())||e.owner.screenName.toLowerCase().includes(a.text.toLowerCase())},defaultSelected:[m?m.title:""],labelKey:"title",options:i,placeholder:"(Leave Empty to Create New Page)",renderMenuItemChildren:function(e){return l.a.createElement("div",{onClick:function(){return t(e.ID)}},e.title,l.a.createElement("div",null,l.a.createElement("small",null,"Author:"," ",l.a.createElement("img",{src:e.owner.profilePicURL?e.owner.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",e.owner.screenName)))}}):l.a.createElement("div",null,"Loading...")},S=function(e){var t=e.history,a=e.match,n=Object(o.useState)(void 0),r=Object(c.a)(n,1)[0],i=Object(o.useState)(void 0),u=Object(c.a)(i,2),s=u[0],d=u[1],m=Object(o.useState)(void 0),y=Object(c.a)(m,2),j=y[0],C=y[1],N=Object(o.useState)(""),x=Object(c.a)(N,2),S=x[0],P=x[1],L=Object(o.useState)(!1),I=Object(c.a)(L,2),D=I[0],R=I[1],U=Object(o.useState)(""),B=Object(c.a)(U,2),A=B[0],T=B[1],z=Object(o.useState)(""),Y=Object(c.a)(z,2),G=Y[0],V=Y[1],K=Object(o.useState)(!1),W=Object(c.a)(K,2),_=W[0],J=W[1],Q=Object(o.useState)(""),X=Object(c.a)(Q,2),Z=X[0],$=X[1],ee=Object(o.useState)(""),te=Object(c.a)(ee,2),ae=te[0],ne=te[1],re=Object(o.useState)(void 0),ce=Object(c.a)(re,2),oe=ce[0],le=ce[1],ie=Object(o.useState)(void 0),ue=Object(c.a)(ie,2),se=ue[0],de=ue[1],me=Object(o.useState)(!1),ge=Object(c.a)(me,2),Ee=ge[0],pe=ge[1],fe=Object(o.useState)(!1),be=Object(c.a)(fe,2),he=be[0],we=be[1],ve=Object(o.useState)(!1),ye=Object(c.a)(ve,2),je=ye[0],Ce=ye[1],Ne=Object(o.useState)(""),xe=Object(c.a)(Ne,2),Oe=xe[0],ke=xe[1],Se=Object(o.useState)(!1),Pe=Object(c.a)(Se,2),Le=Pe[0],Ie=Pe[1],De=Object(o.useState)(!1),Re=Object(c.a)(De,2),Ue=Re[0],Be=Re[1];return Object(o.useEffect)((function(){var t=q(a.params.id);if(j&&t===j.ID||F({query:'query{getNode(ID:"'.concat(t,'"){pictureURL,fgColor,bgColor,ID,title,content,views,owner{screenName,profilePicURL},canonChoices{suggestedBy{screenName,profilePicURL},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}},nonCanonChoices{suggestedBy{screenName,profilePicURL},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}}}}')}).then((function(t,a){a&&alert(a),t.data&&t.data.getNode?(C(t.data.getNode),e.setBgColor(t.data.getNode.bgColor),e.setFgColor(t.data.getNode.fgColor)):C(null)})),void 0===s){var n=new g.a,r=q(n.get("account"));r?F({query:'mutation{loginAccount(screenName:"'.concat(r,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data?d(e.data.loginAccount):(alert("Something went wrong when retrieving account, logging out"),n.set("account","",{path:"/"}),d(null))})):d(null)}})),void 0===j?l.a.createElement(E.a,{variant:"light"},l.a.createElement("title",null,"Loading Page..."),l.a.createElement(E.a.Heading,null,"Loading...")):null===j?l.a.createElement(E.a,{variant:"danger"},l.a.createElement(E.a.Heading,null,"Oh snap! You ran into an error"),l.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):l.a.createElement(p.a,null,l.a.createElement("title",null,"Crowdventure! - ",j.title),l.a.createElement("h1",{class:"display-4 text-center"},j.title),j.pictureURL?l.a.createElement("img",{src:j.pictureURL,onLoad:function(e){e.target.style.display="block"},onError:function(e){e.target.style.display="none"},style:{display:"block",marginLeft:"auto",marginRight:"auto",padding:"1px",border:"1px solid #eee","border-radius":"8px",width:"90%",maxHeight:"30vh","object-fit":"cover",cursor:"pointer"},onClick:function(){Ie(!0),P("")}}):"",l.a.createElement("br",null),l.a.createElement(p.a,null,j.content.split("\n").map((function(e){return l.a.createElement("p",{style:{textIndent:"5%"}},e)}))),l.a.createElement(p.a,{className:"row",style:{paddingRight:"0px",paddingBottom:"5px"}},l.a.createElement("div",{class:"col"},l.a.createElement("h3",null,"Choices:")),l.a.createElement("div",{class:"col",style:{paddingRight:"0px"}},l.a.createElement(f.a,{onClick:function(){t.back()},size:"lg",className:"float-right",style:{border:"1px solid ".concat(H[2]),backgroundColor:H[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=H[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=H[0]}},"Go back!"))),j.canonChoices.length?l.a.createElement(O,{owner:j.owner,choices:j.canonChoices,account:s,canon:!0,nodeID:j.ID,onEdit:function(e){T(e.action),V(e.to.ID),ke(e.ID),Ce(!0),P("")}}):l.a.createElement("p",{className:"text-muted"},"By decree of ",l.a.createElement("strong",null,j.owner.screenName),", this journey ends here."),l.a.createElement("p",null),l.a.createElement(p.a,{className:"row",style:{paddingRight:"0px"}},l.a.createElement("div",{class:"col align-bottom"},l.a.createElement("h3",{class:"align-bottom"},"Other options:")),l.a.createElement("div",{class:"col text-right",style:{paddingRight:"0px"}},l.a.createElement("small",{class:"text-muted"},"Author:"," ",l.a.createElement("a",{href:"/crowdventure/#/account/".concat(j.owner.screenName)},l.a.createElement("img",{src:j.owner.profilePicURL?j.owner.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",j.owner.screenName," ")," ",l.a.createElement("br",null),"Views: ",j.views),s&&j.owner.screenName===s.screenName?l.a.createElement("p",null,l.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){$(j.title),ne(j.content),le(j.pictureURL||""),pe(!0),P("")}},"Edit Page")):"")),l.a.createElement("p",null),l.a.createElement(b.a,{overlay:s?l.a.createElement("p",null):l.a.createElement(h.a,{id:"tooltip-disabled"},"You must be signed in!"),style:{width:"100%"}},l.a.createElement("span",{className:"d-inline-block",style:{width:"100%"}},l.a.createElement(f.a,{onClick:function(){R(!0),V(""),ke(""),T(""),P("")},disabled:!s,style:{width:"100%",pointerEvents:s?"auto":"none",border:"1px solid ".concat(H[2]),backgroundColor:H[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=H[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=H[0]}},"Suggest New Choice"))),l.a.createElement("p",null),l.a.createElement(O,{owner:j.owner,choices:j.nonCanonChoices,account:s,canon:!1,nodeID:j.ID,onEdit:function(e){T(e.action),V(e.to.ID),ke(e.ID),Ce(!0),P("")}}),l.a.createElement(w.a,{show:je,onHide:function(){return Ce(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Editing Choice")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,l.a.createElement(v.a.Label,null,"Action:"),l.a.createElement(v.a.Control,{value:A,onChange:function(e){return T(e.target.value)}}),l.a.createElement(v.a.Label,null,"Go to Page:"),l.a.createElement(k,{callback:function(e){return V(e)},toID:G}),S||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){return A?function e(t){if(t){var a=q(A);F({query:'mutation{editSuggestion(choiceID:"'.concat(Oe,'",action:"').concat(a,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data?(Ce(!1),J(!1),window.location.reload(!1)):alert("Something went wrong when editing choice!")}))}else Ce(!1),J(!0),P(""),$(""),ne(""),le(j.pictureURL||""),de([e])}(G):P(l.a.createElement("span",{style:{color:"red"}},"Action cannot be empty!"))}},"Edit Choice")))),l.a.createElement(w.a,{show:D,onHide:function(){return R(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Suggesting New Choice")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,l.a.createElement(v.a.Label,null,"Action:"),l.a.createElement(v.a.Control,{value:A,onChange:function(e){return T(e.target.value)}}),l.a.createElement(v.a.Label,null,"Go to Page:"),l.a.createElement(k,{callback:function(e){return V(e)},toID:G}),S||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){return A?function e(t){if(t){var a=q(A);F({query:'mutation{suggestChoice(accountScreenName:"'.concat(s.screenName,'",fromID:"').concat(j.ID,'",action:"').concat(a,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data?(R(!1),J(!1),window.location.reload(!1)):alert("Something went wrong when creating choice!")}))}else R(!1),J(!0),$(""),ne(""),P(""),le(j.pictureURL||""),de([e])}(G):P(l.a.createElement("span",{style:{color:"red"}},"Action cannot be empty!"))}},"Submit New Choice")))),l.a.createElement(w.a,{show:_,onHide:function(){return J(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Creating New Page")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,oe?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},l.a.createElement("img",{src:oe,onError:function(e){P(l.a.createElement("span",{style:{color:"red"}},"Picture not found!")),le("")},style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),l.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){le("")}})),l.a.createElement("br",null)):"",l.a.createElement("div",{class:"row no-gutters"},l.a.createElement("div",{class:"col"},"Picture:"),l.a.createElement("div",{class:"col small text-muted text-center"},oe?oe===j.pictureURL?"(Use existing picture)":"(Use new picture)":"(Don't use any picture)"),l.a.createElement("div",{class:"col text-right"},l.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return Be(!0)}},oe?"Change":"Select"," Picture"))),Ue?l.a.createElement(M,{callback:function(e){le(e),Be(!1)}}):"",l.a.createElement(v.a.Label,null,"Title:"),l.a.createElement(v.a.Control,{value:Z,onChange:function(e){return $(e.target.value)}}),l.a.createElement(v.a.Label,null,"Content:"),l.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:ae,onChange:function(e){return ne(e.target.value)}}),S||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){return Z?ae?function(){var e=q(Z),t=q(ae,!0),a=q(oe);F({query:'mutation{createNode(accountScreenName:"'.concat(s.screenName,'",title:"').concat(e,'",content:"""').concat(t,'""",pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?se[0](e.data.createNode.ID):alert("Something went wrong when creating node")}))}():P(l.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):P(l.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Create Page!")))),l.a.createElement(w.a,{show:Ee,onHide:function(){return pe(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Editing Page")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,oe?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},l.a.createElement("img",{src:oe,onError:function(e){P(l.a.createElement("span",{style:{color:"red"}},"Picture not found!")),le("")},style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),l.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){le("")}})),l.a.createElement("br",null)):"",l.a.createElement("div",{class:"row no-gutters"},l.a.createElement("div",{class:"col"},"Picture:"),l.a.createElement("div",{class:"col small text-muted text-center"},oe?oe===j.pictureURL?"(Use existing picture)":"(Use new picture)":"(Don't use any picture)"),l.a.createElement("div",{class:"col text-right"},l.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return Be(!0)}},oe?"Change":"Select"," Picture"))),Ue?l.a.createElement(M,{callback:function(e){le(e),Be(!1)}}):"",l.a.createElement(v.a.Label,null,"Title:"),l.a.createElement(v.a.Control,{value:Z,onChange:function(e){return $(e.target.value)}}),l.a.createElement(v.a.Label,null,"Content:"),l.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:ae,onChange:function(e){return ne(e.target.value)}}),S||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){return Z?ae?function(){var e=q(Z),t=q(ae,!0),a=q(oe);F({query:'mutation{editNode(nodeID:"'.concat(j.ID,'",title:"').concat(e,'",content:"""').concat(t,'""",pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editNode?(pe(!1),window.location.reload(!1)):alert("Something went wrong when editing node")}))}():P(l.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):P(l.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Edit Page!"),l.a.createElement(f.a,{variant:"danger",onClick:function(){we(!0),P("")}},"Delete")))),l.a.createElement(w.a,{show:he,onHide:function(){return we(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Delete Page")),l.a.createElement(w.a.Body,null,"Are you sure?"),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{variant:"danger",onClick:function(){return we(!1)}},"No!"),l.a.createElement(f.a,{variant:"primary",onClick:function(){F({query:'mutation{deleteNode(nodeID:"'.concat(j.ID,'")}')}).then((function(e,a){a&&alert(a),e.data?(t.back(),setTimeout((function(){return window.location.reload(!1)}),100)):alert("Something went wrong when deleting node")}))}},"Yes!"))),l.a.createElement(w.a,{show:Le,onHide:function(){return Ie(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,j.title)),l.a.createElement("img",{src:j.pictureURL,onError:function(e){e.target.style.display="none",P(l.a.createElement("span",{style:{color:"red"}},"Picture not found!"))},style:{width:"100%",maxHeight:"70vh","object-fit":"contain"}}),S||"",l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{size:"sm",onClick:function(){return Ie(!1)}},"Thanks for showing me this ",Math.random()<.5?"cool":"neat"," ","picture!"))),r||"")},P=function(e){var t=Object(o.useState)(void 0),a=Object(c.a)(t,2),n=a[0],r=a[1],i=Object(o.useState)(void 0),u=Object(c.a)(i,2),s=u[0],m=u[1],x=Object(o.useState)(void 0),O=Object(c.a)(x,2),k=O[0],S=O[1],P=Object(o.useState)(!1),L=Object(c.a)(P,2),I=L[0],D=L[1],R=Object(o.useState)(""),U=Object(c.a)(R,2),B=U[0],A=U[1],T=Object(o.useState)(""),z=Object(c.a)(T,2),Y=z[0],G=z[1],V=Object(o.useState)(""),K=Object(c.a)(V,2),W=K[0],_=K[1],J=Object(o.useState)(""),Q=Object(c.a)(J,2),X=Q[0],Z=Q[1],$=Object(o.useState)(!1),ee=Object(c.a)($,2),te=ee[0],ae=ee[1],ne=Object(o.useState)(!1),re=Object(c.a)(ne,2),ce=re[0],oe=re[1],le=Object(o.useState)(""),ie=Object(c.a)(le,2),ue=ie[0],se=ie[1],de=Object(o.useState)(!1),me=Object(c.a)(de,2),ge=me[0],Ee=me[1],pe=Object(o.useState)(""),fe=Object(c.a)(pe,2),be=fe[0],he=fe[1],we=Object(o.useState)(!1),ve=Object(c.a)(we,2),ye=ve[0],je=ve[1];Object(o.useEffect)((function(){var t=q(e.match.params.id);if(s&&t===s.screenName||F({query:'query{getAccount(screenName:"'.concat(t,'"){bio,screenName,profilePicURL,totalNodeViews,totalSuggestionScore,nodes{featured,ID,title,views,pictureURL}}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?m(e.data.getAccount):alert("Something went wrong when retrieving account")})),!k){var a=new g.a,n=q(a.get("account"));F({query:'mutation{loginAccount(screenName:"'.concat(n,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data?S(e.data.loginAccount):(alert("Something went wrong when logging in account, logging out"),a.set("account","",{path:"/"}))}))}}));return void 0===s?l.a.createElement(E.a,{variant:"light"},l.a.createElement("title",null,"Loading Account..."),l.a.createElement(E.a.Heading,null,"Loading...")):null===s?l.a.createElement(E.a,{variant:"danger"},l.a.createElement(E.a.Heading,null,"Oh snap! You ran into an error"),l.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):l.a.createElement(p.a,null,l.a.createElement("title",null,s.screenName," on Crowdventure!"),l.a.createElement("h1",null,l.a.createElement("img",{src:s.profilePicURL?s.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:s.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"3em",width:"3em","object-fit":"cover","border-radius":"50%","margin-right":"5px",cursor:"pointer"},onClick:function(){je(!0),Z("")}})," ",l.a.createElement("span",{className:"display-4 align-middle"},s.screenName)),s.bio?l.a.createElement(p.a,null,s.bio.split("\n").map((function(e){return l.a.createElement("p",{style:{textIndent:"5%"}},e)}))):"",l.a.createElement(p.a,null,k&&k.screenName===s.screenName?l.a.createElement(f.a,{variant:"light",onClick:function(){se(s.bio),he(s.profilePicURL),oe(!0),Z("")},size:"sm"},"Edit Account"):"",l.a.createElement("div",{style:{float:"right"},class:"text-muted"},"Total views: ",s.totalNodeViews," Total score:"," ",s.totalSuggestionScore)),l.a.createElement("br",null),k&&k.screenName===s.screenName?l.a.createElement(f.a,{onClick:function(){D(!0),A(""),G(""),_(""),Z("")},style:{width:"100%",border:"1px solid ".concat(H[2]),backgroundColor:H[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=H[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=H[0]}},"Create a New Adventure!"):"",l.a.createElement("p",null),l.a.createElement("h3",null,"Featured Pages:"),l.a.createElement(y.a,null,s.nodes.map((function(e,t){return l.a.createElement(j.a,null,l.a.createElement("a",{href:"/crowdventure/#/node/".concat(e.ID)},e.pictureURL?l.a.createElement(j.a.Header,{style:{"background-color":"white",padding:"1px"}},l.a.createElement(j.a.Img,{src:e.pictureURL,style:{"max-height":"30vh","object-fit":"cover"},onError:function(e){e.target.parentNode.style.display="none"}})):"",l.a.createElement(j.a.Body,{className:"text-center",style:{paddingTop:"2em"}},l.a.createElement(j.a.Title,null,e.title))),e.featured?l.a.createElement(b.a,{overlay:l.a.createElement(h.a,null,"This page has been starred by this user!")},l.a.createElement("div",{style:{position:"absolute",top:"5px",left:"5px",color:"yellow","-webkit-touch-callout":"none","-webkit-user-select":"none","-khtml-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none","text-shadow":"0 0 1px black"},class:"fa"},"\uf005")):"",l.a.createElement(C.a,{variant:"light",style:{position:"absolute",top:"0px",right:"0px"},size:"sm",drop:"right",title:l.a.createElement("span",{class:"fa"},"\uf013")},l.a.createElement(N.a.Item,{onClick:function(){return function(e,t){F({query:'mutation{editNode(nodeID:"'.concat(e.ID,'", featured:').concat(!t,"){title}}")}).then((function(e,t){t&&alert(t),e.data?window.location.reload(!1):alert("Something went wrong when featuring page")}))}(e,e.featured)},disabled:!k||k.screenName!==s.screenName},e.featured?"Un-f":"F","eature page"),l.a.createElement(N.a.Item,{disabled:!0},"Delete"),l.a.createElement(N.a.Item,{disabled:!0},"Make Private"),l.a.createElement(N.a.Divider,null),l.a.createElement(N.a.Item,{disabled:!0},"Report")),l.a.createElement(j.a.Footer,{className:"text-muted text-center"},l.a.createElement("small",null,"Author:"," ",l.a.createElement("img",{src:s.profilePicURL?s.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:s.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",s.screenName,l.a.createElement("br",null),"Views:"," "+e.views)))}))),l.a.createElement(w.a,{show:ye,onHide:function(){return je(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,s.screenName)),l.a.createElement("img",{src:s.profilePicURL?s.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:s.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{width:"100%",height:"70vh","object-fit":"contain"}}),X||"",l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{size:"sm",onClick:function(){return je(!1)}},"Wow, ",s.screenName," has a"," ",Math.random()<.5?"cool":"neat"," profile picture!"))),l.a.createElement("p",null),k&&k.screenName===s.screenName?l.a.createElement(p.a,null,l.a.createElement(w.a,{show:I,onHide:function(){return D(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Creating New Page")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,W?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},l.a.createElement("img",{src:W,onError:function(e){Z(l.a.createElement("span",{style:{color:"red"}},"Picture not found!")),_("")},alt:"New Image",style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),l.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){_("")}})),l.a.createElement("br",null)):"",l.a.createElement("div",{class:"row no-gutters"},l.a.createElement("div",{class:"col"},"Picture:"),l.a.createElement("div",{class:"col small text-muted text-center"},W?"(Use new picture)":"(Don't use any picture)"),l.a.createElement("div",{class:"col text-right"},l.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return ae(!0)}},W?"Change":"Select"," Picture"))),te?l.a.createElement(M,{callback:function(e){_(e),ae(!1)}}):"",l.a.createElement(v.a.Label,null,"Title:"),l.a.createElement(v.a.Control,{value:B,onChange:function(e){return A(e.target.value)}}),l.a.createElement(v.a.Label,null,"Content:"),l.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:Y,onChange:function(e){return G(e.target.value)}}),X||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){return B?Y?function(){var e=q(B),t=q(Y),a=q(W);F({query:'mutation{createNode(accountScreenName:"'.concat(s.screenName,'",title:"').concat(e,'",content:"').concat(t,'",featured:true,pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?(D(!1),r(l.a.createElement(d.a,{to:"/node/".concat(e.data.createNode.ID)}))):alert("Something went wrong when creating node")}))}():Z(l.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):Z(l.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Create Page!")))),l.a.createElement(w.a,{show:ce,onHide:function(){return oe(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Editing Account")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,s.profilePicURL?l.a.createElement("img",{src:s.profilePicURL,alt:s.screenName+" Profile Pic",onError:function(e){e.target.style.display="none",Z(l.a.createElement("span",{style:{color:"red"}},"Picture not found!"))},style:{opacity:s.profilePicURL===W?1:.2,width:"100%","object-fit":"contain"}}):"",l.a.createElement(v.a.Label,null,"Profile Pic URL:"),l.a.createElement(v.a.Control,{value:be,onChange:function(e){return he(e.target.value)}}),l.a.createElement(v.a.Label,null,"Bio:"),l.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:ue,onChange:function(e){return se(e.target.value)}}),X||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){var e=q(ue,!0),t=q(be);F({query:'mutation{editAccount(screenName:"'.concat(s.screenName,'",bio:"""').concat(e,'""",profilePicURL:"').concat(t,'"){bio,screenName,suggestedChoices{action, from{title}, to{title}},totalNodeViews,totalSuggestionScore, nodes{featured,ID,title,views}}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editAccount?(m(e.data.editAccount),oe(!1),window.location.reload(!1)):alert("Something went wrong when editing account")}))}},"Edit Account"),l.a.createElement(f.a,{onClick:function(){(new g.a).set("account","",{path:"/"}),window.location.reload(!1)},variant:"secondary"},"Log out"),l.a.createElement(f.a,{onClick:function(){Ee(!0),Z("")},variant:"danger"},"Delete Account")))),l.a.createElement(w.a,{show:ge,onHide:function(){return Ee(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Delete Account")),l.a.createElement(w.a.Body,null,"Are you sure?"),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{variant:"danger",onClick:function(){return Ee(!1)}},"No!"),l.a.createElement(f.a,{variant:"primary",onClick:function(){k&&k.screenName===s.screenName&&((new g.a).set("account","",{path:"/"}),F({query:'mutation{deleteAccount(screenName:"'.concat(k.screenName,'")}')}).then((function(e,t){t&&alert(t),e.data?(r(l.a.createElement(d.a,{to:"/"})),window.location.reload(!1)):alert("Something went wrong when deleting account")})))}},"Yes!")))):"",n||"")},L=(a(114),function(){var e=Object(o.useState)(void 0),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(!1),i=Object(c.a)(r,2),u=i[0],s=i[1],m=Object(o.useState)(!1),C=Object(c.a)(m,2),N=C[0],x=C[1],O=Object(o.useState)(""),k=Object(c.a)(O,2),S=k[0],P=k[1],L=Object(o.useState)(""),I=Object(c.a)(L,2),D=I[0],R=I[1],U=Object(o.useState)(""),B=Object(c.a)(U,2),A=B[0],T=B[1],z=Object(o.useState)(""),Y=Object(c.a)(z,2),G=Y[0],V=Y[1],K=Object(o.useState)(!1),W=Object(c.a)(K,2),_=W[0],J=W[1],Q=Object(o.useState)(void 0),X=Object(c.a)(Q,2),Z=X[0],$=X[1];Object(o.useEffect)((function(){F({query:"query{featuredNodes{ID,title,owner{screenName,profilePicURL},views,size,pictureURL}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.featuredNodes?n(e.data.featuredNodes):alert("Something went wrong when retrieving featured nodes")}));var e=new g.a,t=q(e.get("account"));F({query:'mutation{loginAccount(screenName:"'.concat(t,'"){screenName}}')}).then((function(t,a){a&&alert(a),t.data?s(t.data.loginAccount):(alert("Something went wrong when retrieving account, logging out"),e.set("account","",{path:"/"}))}))}),[]);return l.a.createElement(p.a,null,l.a.createElement("title",null,"Crowdventure!"),l.a.createElement("h1",{className:"display-4 text-center"},"Welcome!"),l.a.createElement(p.a,{className:"text-center"},"Crowdventure is a Crowd-Sourced Choose-and-Create-Your-Own-Adventure-Game!"),l.a.createElement("p",null),l.a.createElement(b.a,{overlay:u?l.a.createElement("p",null):l.a.createElement(h.a,{id:"tooltip-disabled"},"You must be signed in!"),style:{width:"100%"}},l.a.createElement("span",{className:"d-inline-block",style:{width:"100%"}},l.a.createElement(f.a,{onClick:function(){x(!0),P(""),R(""),T(""),V("")},disabled:!u,style:{width:"100%",pointerEvents:u?"auto":"none",border:"1px solid ".concat(H[2]),backgroundColor:H[0]},onMouseEnter:function(e){return e.target.style.backgroundColor=H[2]},onMouseLeave:function(e){return e.target.style.backgroundColor=H[0]}},"Create a New Adventure!"))),l.a.createElement("p",null),l.a.createElement("h3",null,"Featured Pages:"),a?l.a.createElement(y.a,null,a.map((function(e){return l.a.createElement(j.a,{className:"text-center"},l.a.createElement("a",{href:"/crowdventure/#/node/".concat(e.ID)},e.pictureURL?l.a.createElement(j.a.Header,{style:{"background-color":"white",padding:"1px"}},l.a.createElement(j.a.Img,{src:e.pictureURL,style:{"max-height":"30vh","object-fit":"cover"},onError:function(e){e.target.parentNode.style.display="none"}})):"",l.a.createElement(j.a.Body,{style:{paddingTop:"2em"}},l.a.createElement(j.a.Title,null,e.title))),l.a.createElement(j.a.Footer,null,l.a.createElement("small",{className:"text-muted"},"Author:"," ",l.a.createElement("a",{href:"/crowdventure/#/account/".concat(e.owner.screenName)},l.a.createElement("img",{src:e.owner.profilePicURL?e.owner.profilePicURL:"/crowdventure/defaultProfilePic.jpg",alt:e.owner.screenName+" Profile Pic",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",e.owner.screenName),l.a.createElement("br",null),"Views: ",e.views)))}))):l.a.createElement(E.a,{variant:"light"},l.a.createElement(E.a.Heading,null,"Loading...")),l.a.createElement(w.a,{show:N,onHide:function(){return x(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Creating New Page")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,A?l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{style:{border:"1px solid #eee",borderRadius:"8px"}},l.a.createElement("img",{src:A,onError:function(e){V(l.a.createElement("span",{style:{color:"red"}},"Picture not found!")),T("")},alt:"This shouldn't have happened",style:{padding:"1px",width:"100%","object-fit":"contain",borderRadius:"8px"}}),l.a.createElement("span",{class:"fa fa-times",style:{position:"absolute",top:"1.5em",right:"1.5em",color:"#888",cursor:"pointer",textShadow:"-1px 0 2px white, 0 1px 2px white, 1px 0 2px white, 0 -1px 2px white"},onMouseEnter:function(e){return e.target.style.color="#555"},onMouseLeave:function(e){return e.target.style.color="#888"},onClick:function(){T("")}})),l.a.createElement("br",null)):"",l.a.createElement("div",{class:"row no-gutters"},l.a.createElement("div",{class:"col"},"Picture:"),l.a.createElement("div",{class:"col small text-muted text-center"},A?"(Use new picture)":"(Don't use any picture)"),l.a.createElement("div",{class:"col text-right"},l.a.createElement(f.a,{variant:"light",size:"sm",onClick:function(){return J(!0)}},A?"Change":"Select"," Picture"))),_?l.a.createElement(M,{callback:function(e){T(e),J(!1)}}):"",l.a.createElement(v.a.Label,null,"Title:"),l.a.createElement(v.a.Control,{value:S,onChange:function(e){return P(e.target.value)}}),l.a.createElement(v.a.Label,null,"Content:"),l.a.createElement(v.a.Control,{as:"textarea",rows:"3",value:D,onChange:function(e){return R(e.target.value)}}),G||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{onClick:function(){return S?D?function(){var e=q(S),t=q(D),a=q(A);F({query:'mutation{createNode(accountScreenName:"'.concat(u.screenName,'",title:"').concat(e,'",content:"').concat(t,'",featured:true,pictureURL:"').concat(a,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?(x(!1),$(l.a.createElement(d.a,{to:"/node/".concat(e.data.createNode.ID)}))):alert("Something went wrong when creating node")}))}():V(l.a.createElement("span",{style:{color:"red"}},"Content cannot be empty!")):V(l.a.createElement("span",{style:{color:"red"}},"Title cannot be empty!"))}},"Create Page!")))),Z||"")}),I=a(132),D=a(88),R=a(115),U=function(){var e=Object(o.useState)(!1),t=Object(c.a)(e,2),a=t[0],n=t[1],r=Object(o.useState)(!1),i=Object(c.a)(r,2),u=i[0],s=i[1],d=Object(o.useState)(void 0),m=Object(c.a)(d,2),E=m[0],p=m[1],b=Object(o.useState)(void 0),h=Object(c.a)(b,2),y=h[0],j=h[1],C=Object(o.useState)(""),N=Object(c.a)(C,2),x=N[0],O=N[1],k=Object(o.useState)(""),S=Object(c.a)(k,2),P=S[0],L=S[1],D=Object(o.useState)(""),R=Object(c.a)(D,2),U=R[0],B=R[1],A=function(){var e=q(x),t=q(P);F({query:'mutation{createAccount(screenName:"'.concat(e,'",password:"').concat(t,'"){screenName,profilePicURL}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createAccount?((new g.a).set("account",x,{path:"/"}),p(e.data.createAccount),s(!1),window.location.reload(!1)):alert("Something went wrong when creating account")}))};return Object(o.useEffect)((function(){var e=q((new g.a).get("account"));e&&F({query:'mutation{loginAccount(screenName:"'.concat(e,'"){screenName,profilePicURL}}')}).then((function(e,t){t&&alert(t),e.data?p(e.data.loginAccount):(alert("Something went wrong when logging in"),(new g.a).set("account","",{path:"/"}))}))}),[]),void 0===E||null===E?l.a.createElement(I.a.Text,null,"You are not logged in."," ",l.a.createElement(f.a,{variant:"light",onClick:function(){n(!0),j("")},size:"sm"},"Log In")," ","or"," ",l.a.createElement(f.a,{variant:"light",onClick:function(){s(!0),j("")},size:"sm"},"Sign Up"),l.a.createElement(w.a,{show:a,onHide:function(){return n(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Log in")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,l.a.createElement(v.a.Label,null,"Screen Name:"),l.a.createElement(v.a.Control,{value:x,onChange:function(e){return O(e.target.value)}}),l.a.createElement(v.a.Label,null,"Password:"),l.a.createElement(v.a.Control,{type:"password",value:P,onChange:function(e){return L(e.target.value)}}),y||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{variant:"primary",onClick:function(){return x?P?function(){var e=q(x),t=q(P);F({query:'mutation{loginAccount(screenName:"'.concat(e,'",password:"').concat(t,'"){screenName,profilePicURL}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.loginAccount?((new g.a).set("account",x,{path:"/"}),p(e.data.getAccount),n(!1),window.location.reload(!1)):j(l.a.createElement("div",{style:{color:"red"}},"That account does not exist or the password did not match!"))}))}():j(l.a.createElement("span",{style:{color:"red"}},"Please enter your screenName!")):j(l.a.createElement("span",{style:{color:"red"}},"Please enter your password!"))}},"Log in")))),l.a.createElement(w.a,{show:u,onHide:function(){return s(!1)}},l.a.createElement(w.a.Header,{closeButton:!0},l.a.createElement(w.a.Title,null,"Sign Up for Crowdventure!")),l.a.createElement(v.a,null,l.a.createElement(w.a.Body,null,l.a.createElement(v.a.Group,null,l.a.createElement(v.a.Label,null,"Screen Name:"),l.a.createElement(v.a.Control,{value:x,onChange:function(e){return O(e.target.value)}}),l.a.createElement(v.a.Label,null,"Create Password:"),l.a.createElement(v.a.Control,{type:"password",value:P,onChange:function(e){return L(e.target.value)}}),l.a.createElement(v.a.Label,null,"Confirm Password:"),l.a.createElement(v.a.Control,{type:"password",value:U,onChange:function(e){return B(e.target.value)}})),y||""),l.a.createElement(w.a.Footer,null,l.a.createElement(f.a,{variant:"primary",onClick:function(){return x?P?function(){if(P!==U)j(l.a.createElement("div",{style:{color:"red"}},"Passwords must match!"));else{var e=q(x);F({query:'query{getAccount(screenName:"'.concat(e,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?j(l.a.createElement("div",{style:{color:"red"}},"That account already exists!")):A()}))}}():j(l.a.createElement("span",{style:{color:"red"}},"Please enter a screen name!")):j(l.a.createElement("span",{style:{color:"red"}},"Please enter a password!"))}},"Sign Up"))))):l.a.createElement(I.a.Text,null,"You are logged in as:"," ",l.a.createElement("a",{href:"/crowdventure/#/account/".concat(E.screenName),onClick:function(){return setTimeout((function(){return window.location.reload(!1)}),100)}},l.a.createElement("img",{src:E.profilePicURL?E.profilePicURL:"/crowdventure/defaultProfilePic.jpg",onError:function(e){e.target.src="/crowdventure/defaultProfilePic.jpg"},style:{border:"1px solid #bbb",height:"2em",width:"2em","object-fit":"cover","border-radius":"50%"}})," ",E.screenName))},B=function(){var e=Object(o.useState)(void 0),t=Object(c.a)(e,2),a=(t[0],t[1]),n=Object(o.useState)(void 0),r=Object(c.a)(n,2),i=(r[0],r[1]);return l.a.createElement(p.a,null,l.a.createElement(I.a,{expand:"lg"},l.a.createElement(I.a.Brand,{href:"/crowdventure"},l.a.createElement("img",{href:"/crowdventure",src:"/crowdventure/logo.png",alt:"Crowdventure Logo",style:{width:"100%"}})),l.a.createElement("a",{href:"https://github.com/benjaminjkern/crowdventure/blob/master/CHANGELOG.md"},l.a.createElement("small",{class:"text-muted"},"Version: ",R.version)),l.a.createElement(I.a.Toggle,{"aria-controls":"basic-navbar-nav",className:"bg-light"}),l.a.createElement(I.a.Collapse,{id:"basic-navbar-nav",className:"justify-content-end"},l.a.createElement(U,null))),l.a.createElement(s.a,null,l.a.createElement(d.d,null,l.a.createElement(d.b,{path:"/",component:L,exact:!0}),l.a.createElement(d.b,{path:"/node/:id",render:function(e){return l.a.createElement(S,Object.assign({},e,{history:D.a,setBgColor:a,setFgColor:i}))}}),l.a.createElement(d.b,{path:"/account/:id",component:P}))),l.a.createElement(I.a,{className:"text-right"},l.a.createElement("small",{class:"text-muted"},"@ 2020 Copyright: (MIT) Benjamin Kern")),l.a.createElement("title",null,"Crowdventure! - Page not found!"))},A=(a(116),a(119).createApolloFetch),T=a(82).API_KEY,F=A({uri:a(82).backendURL}),q=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e?t?e.replace(/"""/g,' "" " '):e.replace(/\n/g,"").replace(/\\/g,"\\\\").replace(/"/g,'\\"'):e},H=["rgb(100, 180, 244)","rgb(158, 232, 255)","rgb(80, 160, 224)"],M=function(e){var t=e.callback,a=Object(o.useState)(!1),i=Object(c.a)(a,2),u=i[0],s=i[1],d=Object(o.useState)([]),m=Object(c.a)(d,2),g=m[0],E=m[1],p=Object(o.useState)(0),f=Object(c.a)(p,2),b=f[0],h=f[1],w=Object(o.useState)(""),v=Object(c.a)(w,2),y=v[0],j=v[1],C=function(e){s(!0),fetch("https://api.cognitive.microsoft.com/bing/v7.0/images/search?q="+encodeURIComponent(e)+"&count=20&safeSearch=off&offset="+(e!==y?0:20*b),{headers:{"Ocp-Apim-Subscription-Key":T}}).then((function(e){return e.json()})).then((function(t){var a=t.value.reduce((function(e,t,a){return(a+g.length)%2==0?[].concat(Object(r.a)(e),[{id:"(Image Selected)",urls:[t.thumbnailUrl],longUrls:[t.contentUrl],isFamilyFriendly:[t.isFamilyFriendly]}]):[].concat(Object(r.a)(e.slice(0,e.length-1)),[{id:"(Image Selected)",urls:[e[e.length-1].urls[0],t.thumbnailUrl],longUrls:[e[e.length-1].longUrls[0],t.contentUrl],isFamilyFriendly:[e[e.length-1].isFamilyFriendly[0],t.isFamilyFriendly]}])}),e!==y?[]:g);E(a),h(e!==y?1:b+1),j(e),s(!1)})).catch(console.log)};return l.a.createElement(x.a,{id:"async-example",isLoading:u,filterBy:function(){return!0},labelKey:"id",minLength:2,onSearch:C,maxResults:9,onPaginate:function(){return C(y)},useCache:!1,options:g,placeholder:"Search for an image...",renderMenuItemChildren:function(e,a){return l.a.createElement("div",null,l.a.createElement("img",{onClick:function(){return t(e.longUrls[0])},src:e.urls[0],style:Object(n.a)({marginRight:"10px",borderRadius:"4px",width:"50%",height:"auto"},e.isFamilyFriendly[0]?{}:{"-webkit-filter":"blur(10px)",filter:"blur(10px)"})}),2===e.urls.length?l.a.createElement("img",{onClick:function(){return t(e.longUrls[1])},src:e.urls[1],style:Object(n.a)({marginRight:"10px",borderRadius:"4px",width:"50%",height:"auto"},e.isFamilyFriendly[1]?{}:{"-webkit-filter":"blur(10px)",filter:"blur(10px)"})}):"")}})};u.a.render(l.a.createElement(B,null),document.getElementById("root"))},82:function(e,t){e.exports={backendURL:"https://3yfp7ejc0m.execute-api.us-east-1.amazonaws.com/dev/graphql",API_KEY:"8300cebe5f0d452a9ccb4bca67af4659"}},89:function(e,t,a){e.exports=a(118)}},[[89,1,2]]]);
//# sourceMappingURL=main.ac67d308.chunk.js.map