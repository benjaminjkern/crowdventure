(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{67:function(e,t,a){e.exports=a(86)},86:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),o=a.n(r),l=a(6),u=a(34),i=a(10),s=a(16),m=a(91),d=a(92),h=a(60),E=a(95),g=a(96),f=a(93),p=a(98),v=a(94),y=a(48),b=function(e){var t=e.owner,a=e.account,n=e.choices,r=e.canon;return c.a.createElement(f.a,null,n.map((function(e){return c.a.createElement(p.a,{className:"text-center"},c.a.createElement("a",{href:e.to?"/node/".concat(e.to.ID):"",style:{pointerEvents:e.to?"auto":"none",color:e.to?void 0:"grey"}},c.a.createElement(p.a.Body,{style:{cursor:"pointer"}},c.a.createElement(p.a.Title,null,e.action))),c.a.createElement(v.a,{variant:"light",style:{position:"absolute",top:"0px",right:"0px"},size:"sm",drop:"right",title:c.a.createElement("span",{class:"fa"},"\uf013")},c.a.createElement(y.a.Item,{disabled:!a||a.screenName!==t.screenName,onClick:function(){return r?(t=e.ID,void R({query:'mutation{makeNonCanon(choiceID:"'.concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeNonCanon&&window.location.reload(!1)}))):function(e){R({query:'mutation{makeCanon(choiceID:"'.concat(e,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.makeCanon&&window.location.reload(!1)}))}(e.ID);var t}},"Make ",r?"Nonc":"C","anon"),c.a.createElement(y.a.Item,{disabled:!a||a.screenName!==e.suggestedBy.screenName&&a.screenName!==t.screenName,onClick:function(){return t=e.ID,void R({query:'mutation{removeSuggestion(choiceID:"'.concat(t,'")}')}).then((function(e,t){t&&alert(t),e.data&&window.location.reload(!1)}));var t}},"Delete"),c.a.createElement(y.a.Item,{disabled:!a||e.suggestedBy.screenName!==a.screenName},"Edit"),c.a.createElement(y.a.Divider,null),c.a.createElement(y.a.Item,null,"Report")),c.a.createElement(p.a.Footer,null,c.a.createElement("a",{href:"",style:{pointerEvents:a?"auto":"none",color:a?e.dislikedBy.map((function(e){return e.screenName})).includes(a.screenName)?"red":"black":"grey"},className:"fa fa-thumbs-down",onClick:function(){return t=e.ID,void(a&&R({query:'mutation{dislikeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.dislikeSuggestion&&window.location.reload(!1)})));var t}})," "+e.score+" ",c.a.createElement("a",{href:"",style:{pointerEvents:a?"auto":"none",color:a?e.likedBy.map((function(e){return e.screenName})).includes(a.screenName)?"green":"black":"grey"},className:"fa fa-thumbs-up",onClick:function(){return t=e.ID,void(a&&R({query:'mutation{likeSuggestion(accountScreenName:"'.concat(a.screenName,'",choiceID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.dislikeSuggestion&&window.location.reload(!1)})));var t}}),c.a.createElement("br",null),c.a.createElement("small",{className:"text-muted"},"Suggested By:"," ",c.a.createElement("a",{href:"/account/".concat(e.suggestedBy.screenName)},e.suggestedBy.screenName))))})))},w=function(e){var t=new s.a,a=Object(n.useState)(void 0),r=Object(l.a)(a,2),o=r[0],u=r[1],i=Object(n.useState)(void 0),f=Object(l.a)(i,2),p=f[0],v=f[1],y=Object(n.useState)(""),w=Object(l.a)(y,2),C=w[0],N=w[1],S=Object(n.useState)(!1),O=Object(l.a)(S,2),j=O[0],k=O[1],D=Object(n.useState)(""),I=Object(l.a)(D,2),q=I[0],T=I[1],B=Object(n.useState)(""),A=Object(l.a)(B,2),H=A[0],L=A[1],P=Object(n.useState)(!1),x=Object(l.a)(P,2),F=x[0],Y=x[1],V=Object(n.useState)(""),z=Object(l.a)(V,2),G=z[0],U=z[1],W=Object(n.useState)(""),J=Object(l.a)(W,2),M=J[0],K=J[1],Q=Object(n.useState)(!1),X=Object(l.a)(Q,2),Z=X[0],$=X[1],_=Object(n.useState)(""),ee=Object(l.a)(_,2),te=ee[0],ae=ee[1],ne=Object(n.useState)(""),ce=Object(l.a)(ne,2),re=ce[0],oe=ce[1],le=Object(n.useState)(!1),ue=Object(l.a)(le,2),ie=ue[0],se=ue[1],me=function(t){t?R({query:'mutation{suggestChoice(accountScreenName:"'.concat(o.screenName,'",fromID:"').concat(e.match.params.id,'",action:"').concat(q,'",toID:"').concat(t,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.suggestChoice?(k(!1),Y(!1),window.location.reload(!1)):alert("Something went wrong when creating choice!")})):(k(!1),Y(!0))};return Object(n.useEffect)((function(){var a=t.get("account");R({query:'query{getNode(ID:"'.concat(e.match.params.id,'"){title,content,views,owner{screenName},canonChoices{suggestedBy{screenName},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}},nonCanonChoices{suggestedBy{screenName},ID,action,to{ID},score,likedBy{screenName},dislikedBy{screenName}}}}')}).then((function(e,t){t&&alert(t),e.data?v(e.data.getNode):v(null)})),R({query:'query{getAccount(screenName:"'.concat(a,'"){screenName}}')}).then((function(e,a){a&&alert(a),e.data?u(e.data.getAccount):(alert("Something went wrong when retrieving account"),t.set("account","",{path:"/"}))}))}),[]),void 0===p?c.a.createElement(m.a,{variant:"light"},c.a.createElement(m.a.Heading,null,"Loading...")):null===p?c.a.createElement(m.a,{variant:"danger"},c.a.createElement(m.a.Heading,null,"Oh snap! You ran into an error"),c.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):c.a.createElement(d.a,null,c.a.createElement("h1",null,p.title),c.a.createElement(d.a,null,p.content),c.a.createElement("p",null),p.canonChoices.length?c.a.createElement(b,{owner:p.owner,choices:p.canonChoices,account:o,canon:!0}):c.a.createElement("p",{className:"text-muted"},"By decree of ",c.a.createElement("strong",null,p.owner.screenName),", this journey ends here."),c.a.createElement("p",null),c.a.createElement("p",null,"Owner:"," ",c.a.createElement("a",{href:"/account/".concat(p.owner.screenName)},p.owner.screenName),o&&p.owner.screenName===o.screenName?c.a.createElement("p",null,c.a.createElement(h.a,{variant:"secondary",size:"sm",onClick:function(){ae(p.title),oe(p.content),$(!0)}},"Edit"),c.a.createElement(h.a,{variant:"danger",size:"sm",onClick:function(){return se(!0)}},"Delete")):""),c.a.createElement("h3",null,"Other options:",c.a.createElement(h.a,{className:"float-right",onClick:function(){return k(!0)},disabled:!o,size:"lg"},"Suggest New Choice")),c.a.createElement("p",null),c.a.createElement(b,{owner:p.owner,choices:p.nonCanonChoices,account:o,canon:!1}),c.a.createElement(E.a,{show:j,onHide:function(){return k(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Suggesting New Choice")),c.a.createElement(g.a,null,c.a.createElement(E.a.Body,null,c.a.createElement(g.a.Label,null,"Action:"),c.a.createElement(g.a.Control,{required:!0,value:q,onChange:function(e){return T(e.target.value)}}),c.a.createElement(g.a.Label,null,"Go to Page:"),c.a.createElement(g.a.Control,{value:H,placeholder:"(Leave Empty to Create New Page)",onChange:function(e){return L(e.target.value)}})),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{onClick:function(){return me(H)}},"Submit New Choice")))),c.a.createElement(E.a,{show:F,onHide:function(){return Y(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Creating New Page")),c.a.createElement(g.a,null,c.a.createElement(E.a.Body,null,c.a.createElement(g.a.Label,null,"Title:"),c.a.createElement(g.a.Control,{required:!0,value:G,onChange:function(e){return U(e.target.value)}}),c.a.createElement(g.a.Label,null,"Content:"),c.a.createElement(g.a.Control,{required:!0,value:M,onChange:function(e){return K(e.target.value)}}),C||""),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{onClick:function(){G.includes('"')?N(c.a.createElement("p",{style:{color:"red"}},"The title cannot contain (\") character! Try using (') or (`) instead!")):M.includes('"')?N(c.a.createElement("p",{style:{color:"red"}},"The content cannot contain (\") character! Try using (') or (`) instead!")):R({query:'mutation{createNode(accountScreenName:"'.concat(o.screenName,'",title:"').concat(G,'",content:"').concat(M,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?me(e.data.createNode.ID):alert("Something went wrong when creating node")}))}},"Create Page!")))),c.a.createElement(E.a,{show:Z,onHide:function(){return $(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Edit Page")),c.a.createElement(g.a,{onSubmit:function(){te.includes('"')?N(c.a.createElement("p",{style:{color:"red"}},"The title cannot contain (\") character! Try using (') or (`) instead!")):re.includes('"')?N(c.a.createElement("p",{style:{color:"red"}},"The content cannot contain (\") character! Try using (') or (`) instead!")):R({query:'mutation{editNode(nodeID:"'.concat(e.match.params.id,'",title:"').concat(te,'",content:"').concat(re,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.editNode?$(!1):alert("Something went wrong when editing node")}))}},c.a.createElement(E.a.Body,null,c.a.createElement(g.a.Label,null,"Title:"),c.a.createElement(g.a.Control,{required:!0,value:te,onChange:function(e){return ae(e.target.value)}}),c.a.createElement(g.a.Label,null,"Content:"),c.a.createElement(g.a.Control,{required:!0,value:re,onChange:function(e){return oe(e.target.value)}}),C||""),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{type:"submit"},"Edit Page!")))),c.a.createElement(E.a,{show:ie,onHide:function(){return se(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Delete Page")),c.a.createElement(E.a.Body,null,"Are you sure?"),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{variant:"danger",onClick:function(){return se(!1)}},"No!"),c.a.createElement(h.a,{variant:"primary",onClick:function(){R({query:'mutation{deleteNode(nodeID:"'.concat(e.match.params.id,'")}')})},href:"/"},"Yes!"))))},C=function(e){var t=Object(n.useState)(void 0),a=Object(l.a)(t,2),r=a[0],o=a[1],u=Object(n.useState)((new s.a).get("account")),i=Object(l.a)(u,2),v=i[0],y=(i[1],Object(n.useState)(!1)),b=Object(l.a)(y,2),w=b[0],C=b[1],N=Object(n.useState)(""),S=Object(l.a)(N,2),O=S[0],j=S[1],k=Object(n.useState)(""),D=Object(l.a)(k,2),I=D[0],q=D[1],T=Object(n.useState)(""),B=Object(l.a)(T,2),A=B[0],H=B[1],L=Object(n.useState)(!1),P=Object(l.a)(L,2),x=P[0],F=P[1],Y=Object(n.useState)(!1),V=Object(l.a)(Y,2);V[0],V[1];Object(n.useEffect)((function(){R({query:'query{getAccount(screenName:"'.concat(e.match.params.id,'"){bio,screenName,nodes{title,views},suggestedChoices{action, from{title}, to{title}},totalNodeViews,totalSuggestionScore, nodes{ID,title,views}}}')}).then((function(e,t){t&&alert(t),e.data?o(e.data.getAccount):alert("Something went wrong when retrieving account")}))}),[]);return void 0===r?c.a.createElement(m.a,{variant:"light"},c.a.createElement(m.a.Heading,null,"Loading...")):null===r?c.a.createElement(m.a,{variant:"danger"},c.a.createElement(m.a.Heading,null,"Oh snap! You ran into an error"),c.a.createElement("p",null,"This page does not exist, or maybe our database is down. Who knows? Not you. Hahahaha")):c.a.createElement(d.a,null,c.a.createElement("h1",{style:{position:"relative",left:"5px"}},r.screenName),r.bio?c.a.createElement("p",null,"Bio"):"",c.a.createElement("h3",null,"Pages:"),c.a.createElement(f.a,null,r.nodes.map((function(e){return c.a.createElement(p.a,null,c.a.createElement("a",{href:"/node/".concat(e.ID)},c.a.createElement(p.a.Body,null,c.a.createElement(p.a.Title,null,e.title))),c.a.createElement(p.a.Footer,null,"Created by: ",r.screenName,c.a.createElement("br",null),"Views:"," "+e.views))}))),c.a.createElement("p",null),v===r.screenName?c.a.createElement(d.a,null,c.a.createElement(h.a,{onClick:function(){return C(!0)}},"Create new Page")," ",c.a.createElement(h.a,{href:"/",variant:"danger",onClick:function(){(new s.a).set("account","",{path:"/"})}},"Log out")," ",c.a.createElement(h.a,{variant:"danger",onClick:function(){return F(!0)}},"Delete"),c.a.createElement(E.a,{show:w,onHide:function(){return C(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Creating New Page")),c.a.createElement(g.a,{onSubmit:function(){O.includes('"')?H(c.a.createElement("p",{style:{color:"red"}},"The title cannot contain (\") character! Try using (') or (`) instead!")):I.includes('"')?H(c.a.createElement("p",{style:{color:"red"}},"The content cannot contain (\") character! Try using (') or (`) instead!")):R({query:'mutation{createNode(accountScreenName:"'.concat(r.screenName,'",title:"').concat(O,'",content:"').concat(I,'"){ID}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createNode?C(!1):alert("Something went wrong when creating node")}))}},c.a.createElement(E.a.Body,null,c.a.createElement(g.a.Label,null,"Title:"),c.a.createElement(g.a.Control,{required:!0,value:O,onChange:function(e){return j(e.target.value)}}),c.a.createElement(g.a.Label,null,"Content:"),c.a.createElement(g.a.Control,{required:!0,value:I,onChange:function(e){return q(e.target.value)}}),A||""),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{type:"submit"},"Create Page!")))),c.a.createElement(E.a,{show:x,onHide:function(){return F(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Delete Account")),c.a.createElement(E.a.Body,null,"Are you sure?"),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{variant:"danger",onClick:function(){return F(!1)}},"No!"),c.a.createElement(h.a,{variant:"primary",onClick:function(){(new s.a).set("account","",{path:"/"}),R({query:'mutation{deleteAccount(screenName:"'.concat(e.match.params.id,'")}')})},href:"/"},"Yes!")))):"")},N=function(){var e=Object(n.useState)(void 0),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(void 0),u=Object(l.a)(o,2),i=u[0],s=u[1];return Object(n.useEffect)((function(){R({query:"query{allNodes{ID,title,owner{screenName},views}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allNodes?r(e.data.allNodes):alert("Something went wrong when retrieving nodes")})),R({query:"query{allAccounts{screenName,totalNodeViews,totalSuggestionScore}}"}).then((function(e,t){t&&alert(t),e.data&&e.data.allAccounts?s(e.data.allAccounts):alert("Something went wrong when retrieving accounts")}))}),[]),c.a.createElement(d.a,null,c.a.createElement("h1",null,"Welcome!"),c.a.createElement(d.a,null,"Crowdventure is a Crowd-Sourced Choose/Create-Your-Own-Adventure-Game!"),c.a.createElement("p",null),c.a.createElement("h3",null,"Featured Pages:"),a?c.a.createElement(f.a,null,a.slice(0,1).map((function(e){return c.a.createElement(p.a,null,c.a.createElement("a",{href:"/node/".concat(e.ID)},c.a.createElement(p.a.Body,null,c.a.createElement(p.a.Title,null,e.title))),c.a.createElement(p.a.Footer,null,"Created by:"," ",c.a.createElement("a",{href:"/account/".concat(e.owner.screenName)},e.owner.screenName),c.a.createElement("br",null),"Views:"," "+e.views))}))):"",c.a.createElement("h3",null,"Featured Accounts:"),i?c.a.createElement(f.a,null,i.map((function(e){return c.a.createElement(p.a,null,c.a.createElement("a",{href:"/account/".concat(e.screenName)},c.a.createElement(p.a.Body,null,c.a.createElement(p.a.Title,null,e.screenName))),c.a.createElement(p.a.Footer,null,"Total Views:",e.totalNodeViews,c.a.createElement("br",null),"Total Score:",e.totalSuggestionScore))}))):"")},S=a(28),O=a(29),j=a(31),k=a(30),D=a(39),I=a.n(D),q=a(53),T=a(62),B=(0,a(58).createApolloFetch)({uri:"http://localhost:4000"}),A=function(e){Object(j.a)(n,e);var t=Object(k.a)(n);function n(e){var a;return Object(S.a)(this,n),(a=t.call(this,e)).state={},a}return Object(O.a)(n,[{key:"inspect",value:function(e){alert(a(78).inspect(e))}},{key:"loadRender",value:function(e,t,a,n){var r=this;"string"===typeof t&&(t=[t]);var o=function(a){var o=t[a].match(/^\w+(?=\(|\{)/);switch(r.state[o]){case null:return{v:n?n():c.a.createElement("span",null,"Couldn't load ",e,"!")};case void 0:return B({query:"query{".concat(t[a],"}")}).then((function(e,t){if(t)throw new Error(t);r.setState(Object(T.a)({},o,e.data?e.data[o]:null))})),{v:c.a.createElement("span",null,"Loading ",e,"...")};default:return"continue"}};for(var l in t){var u=o(l);switch(u){case"continue":continue;default:if("object"===typeof u)return u.v}}return a()}},{key:"query",value:function(){var e=Object(q.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t&&(t=[t]),e.abrupt("return",Promise.all(t.map((function(e){return B({query:"query{".concat(e,"}")}).then((function(e){return e.data}))}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"mutate",value:function(){var e=Object(q.a)(I.a.mark((function e(t){return I.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"string"===typeof t&&(t=[t]),e.abrupt("return",Promise.all(t.map((function(e){return B({query:"mutation{".concat(e,"}")}).then((function(e){return e.data}))}))));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"doRender",value:function(e,t){return this.state.error?c.a.createElement("p",{style:{color:"red"}},"Error: ",this.state.error):c.a.createElement("div",null,c.a.createElement("h1",null,e),this.state.warning?c.a.createElement("p",{style:{color:"red"}},"Error: ",this.state.warning):"",t)}}]),n}(c.a.Component),H=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"makeNonCanon",value:function(e){this.mutate('makeNonCanon(choiceID:"'.concat(e,'"){ID}')),this.setState({getNode:void 0})}},{key:"makeCanon",value:function(e){this.mutate('makeCanon(choiceID:"'.concat(e,'"){ID}')),this.setState({getNode:void 0})}},{key:"changeTitle",value:function(e){var t=this.state;t.getNode.title=e.target.value,this.setState(t)}},{key:"changeContent",value:function(e){var t=this.state;t.getNode.content=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=this.state.getNode;e.title?(this.mutate(['editNode(nodeID:"'.concat(this.props.match.params.id,'",title:"').concat(e.title,'",content:"').concat(e.content,'"){ID}')]),this.setState({redirect:c.a.createElement(i.a,{to:"/node/".concat(this.props.match.params.id)})})):this.setState({warning:"Your page needs a title!"})}},{key:"render",value:function(){var e=this;return this.loadRender("Node Editor",['getNode(ID:"'.concat(this.props.match.params.id,'"){title,content,owner{ID},canonChoices{ID,action},nonCanonChoices{ID,action}}')],(function(){return e.renderEditNode()}))}},{key:"renderEditNode",value:function(){var e=this,t=this.state.getNode;return this.props.cookies.get("account")!==t.owner.ID&&this.setState({error:"You are not the owner of this page, so you cannot edit it!"}),this.doRender("Editing node",c.a.createElement("div",null,c.a.createElement("p",null,"Title:",c.a.createElement("input",{value:t.title,onChange:function(t){return e.changeTitle(t)}})),c.a.createElement("p",null,"Content:",c.a.createElement("br",null),c.a.createElement("textarea",{value:t.content,onChange:function(t){return e.changeContent(t)}})),c.a.createElement("p",null,"Click to change canonicity:",c.a.createElement("br",null),"Canon choices:",t.canonChoices.map((function(t){return c.a.createElement("button",{onClick:function(){return e.makeNonCanon(t.ID)}},t.action)})),c.a.createElement("br",null),"Noncanon choices:",t.nonCanonChoices.map((function(t){return c.a.createElement("button",{onClick:function(){return e.makeCanon(t.ID)}},t.action)}))),c.a.createElement("button",{onClick:function(){return e.handleSubmit()}},"Submit"),this.state.redirect?this.state.redirect:""))}}]),a}(A),L=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(){return Object(S.a)(this,a),t.apply(this,arguments)}return Object(O.a)(a,[{key:"changeAction",value:function(e){var t=this.state;t.getNode.action=e.target.value,this.setState(t)}},{key:"changeToID",value:function(e){var t=this.state;t.getNode.toID=e.target.value,this.setState(t)}},{key:"handleSubmit",value:function(){var e=this.state.getChoice;this.mutate('editSuggestion(choiceID:"'.concat(this.props.match.params.id,'",action:"').concat(e.action,'",toID:"').concat(e.toID,'"){ID}'))}},{key:"render",value:function(){var e=this;return this.loadRender("Choice Editor",'getChoice(ID:"'.concat(this.props.match.params.id,'"){action,to{ID},from{ID,title},suggestedBy{ID}}'),(function(){return e.renderEditChoice()}))}},{key:"renderEditChoice",value:function(){var e=this,t=this.state.getChoice;return void 0===this.state.validated&&this.setState({validated:this.props.cookies.get("account")===t.suggestedBy.ID}),this.state.validated?c.a.createElement("div",null,c.a.createElement("h1",null,"Editing Choice"),c.a.createElement("p",null,"From:",t.from.title),c.a.createElement("p",null,"Action:",c.a.createElement("input",{value:t.action,onChange:function(t){return e.changeAction(t)}})),c.a.createElement("p",null,"Go to (ID):",c.a.createElement("input",{value:t.to.ID,onChange:function(t){return e.changeToID(t)}})),c.a.createElement(u.b,{onClick:function(){return e.handleSubmit()},to:"/node/".concat(t.from.ID)},c.a.createElement("button",null,"Submit"))):"You are not the owner of this choice, and you cannot edit it"}}]),a}(A),P=a(97),x=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],o=Object(n.useState)(!1),u=Object(l.a)(o,2),i=u[0],m=u[1],d=Object(n.useState)(void 0),f=Object(l.a)(d,2),p=f[0],v=f[1],y=Object(n.useState)(void 0),b=Object(l.a)(y,2),w=b[0],C=b[1],N=Object(n.useState)(""),S=Object(l.a)(N,2),O=S[0],j=S[1],k=Object(n.useState)(""),D=Object(l.a)(k,2),I=D[0],q=D[1],T=Object(n.useState)(""),B=Object(l.a)(T,2),A=B[0],H=B[1],L=function(){return R({query:'mutation{createAccount(screenName:"'.concat(O,'",password:"').concat(I,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.createAccount?((new s.a).set("account",O,{path:"/"}),v(e.data.createAccount),m(!1),window.location.reload(!1)):alert("Something went wrong when creating account")}))};return Object(n.useEffect)((function(){var e=(new s.a).get("account");e&&R({query:'query{getAccount(screenName:"'.concat(e,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data?v(e.data.getAccount):(alert("Something went wrong when logging in"),(new s.a).set("account","",{path:"/"}))}))}),[]),void 0===p||null===p?c.a.createElement(P.a.Text,null,"You are not logged in."," ",c.a.createElement("a",{href:"#",onClick:function(){return r(!0)}},"Log In")," ","or"," ",c.a.createElement("a",{href:"#",onClick:function(){return m(!0)}},"Sign Up"),c.a.createElement(E.a,{show:a,onHide:function(){return r(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Log in")),c.a.createElement(g.a,null,c.a.createElement(E.a.Body,null,c.a.createElement(g.a.Label,null,"Screen Name:"),c.a.createElement(g.a.Control,{required:!0,value:O,onChange:function(e){return j(e.target.value)}}),c.a.createElement(g.a.Label,null,"Password:"),c.a.createElement(g.a.Control,{required:!0,type:"password",value:I,onChange:function(e){return q(e.target.value)}}),w||""),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{variant:"primary",onClick:function(){O.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Screen Name cannot include (") character!')):I.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Password cannot include (") character!')):R({query:'query{getAccount(screenName:"'.concat(O,'",password:"').concat(I,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?((new s.a).set("account",O,{path:"/"}),v(e.data.getAccount),r(!1),window.location.reload(!1)):C(c.a.createElement("div",{style:{color:"red"}},"That account does not exist or the password did not match!"))}))}},"Log in")))),c.a.createElement(E.a,{show:i,onHide:function(){return m(!1)}},c.a.createElement(E.a.Header,{closeButton:!0},c.a.createElement(E.a.Title,null,"Sign Up for Crowdventure!")),c.a.createElement(g.a,null,c.a.createElement(E.a.Body,null,c.a.createElement(g.a.Group,null,c.a.createElement(g.a.Label,null,"Screen Name:"),c.a.createElement(g.a.Control,{required:!0,value:O,onChange:function(e){return j(e.target.value)}}),c.a.createElement(g.a.Label,null,"Create Password:"),c.a.createElement(g.a.Control,{required:!0,type:"password",value:I,onChange:function(e){return q(e.target.value)}}),c.a.createElement(g.a.Label,null,"Confirm Password:"),c.a.createElement(g.a.Control,{required:!0,type:"password",value:A,onChange:function(e){return H(e.target.value)}})),w||""),c.a.createElement(E.a.Footer,null,c.a.createElement(h.a,{variant:"primary",onClick:function(){I!==A?C(c.a.createElement("div",{style:{color:"red"}},"Passwords must match!")):O.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Screen Name cannot include (") character!')):I.includes('"')?C(c.a.createElement("div",{style:{color:"red"}},'Password cannot include (") character!')):R({query:'query{getAccount(screenName:"'.concat(O,'"){screenName}}')}).then((function(e,t){t&&alert(t),e.data&&e.data.getAccount?C(c.a.createElement("div",{style:{color:"red"}},"That account already exists!")):L()}))}},"Sign Up"))))):c.a.createElement(P.a.Text,null,"You are logged in as:"," ",c.a.createElement("a",{href:"/account/".concat(p.screenName)},p.screenName))},F=function(){return c.a.createElement(d.a,null,c.a.createElement(P.a,null,c.a.createElement(P.a.Brand,{href:"/"},c.a.createElement("img",{src:"/crowdventure/logo.png",alt:"Crowdventure Logo"})),c.a.createElement(P.a.Collapse,{className:"justify-content-end"},c.a.createElement(x,null))),c.a.createElement(u.a,null,c.a.createElement(i.d,null,c.a.createElement(i.b,{path:"/",component:N,exact:!0}),c.a.createElement(i.b,{path:"/node/:id",component:w}),c.a.createElement(i.b,{path:"/account/:id",component:C}),c.a.createElement(i.b,{path:"/editnode/:id",component:H}),c.a.createElement(i.b,{path:"/editchoice/:id",component:L}))))},Y=(a(85),(0,a(58).createApolloFetch)({uri:"https://3yfp7ejc0m.execute-api.us-east-1.amazonaws.com/dev/graphql"}));o.a.render(c.a.createElement(F,null),document.getElementById("root"));var R=t.default=Y}},[[67,1,2]]]);
//# sourceMappingURL=main.71e58f9f.chunk.js.map